!function(){var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function n(e,t){var n,i,r,o,a,s,u,l,c,d,f=t&&t.split("/"),p=g.map,h=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=f.concat(e.split("/")),l=0;l<e.length;l+=1)if(d=e[l],"."===d)e.splice(l,1),l-=1;else if(".."===d){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||h)&&p){for(n=e.split("/"),l=n.length;l>0;l-=1){if(i=n.slice(0,l).join("/"),f)for(c=f.length;c>0;c-=1)if(r=p[f.slice(0,c).join("/")],r&&(r=r[i])){o=r,a=l;break}if(o)break;!s&&h&&h[i]&&(s=h[i],u=l)}!o&&s&&(o=s,a=u),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function i(t,n){return function(){return c.apply(e,y.call(arguments,0).concat([t,n]))}}function r(e){return function(t){return n(t,e)}}function o(e){return function(t){p[e]=t}}function a(n){if(t(h,n)){var i=h[n];delete h[n],m[n]=!0,l.apply(e,i)}if(!t(p,n)&&!t(m,n))throw new Error("No "+n);return p[n]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return function(){return g&&g.config&&g.config[e]||{}}}var l,c,d,f,p={},h={},g={},m={},v=Object.prototype.hasOwnProperty,y=[].slice;d=function(e,t){var i,o=s(e),u=o[0];return e=o[1],u&&(u=n(u,t),i=a(u)),u?e=i&&i.normalize?i.normalize(e,r(t)):n(e,t):(e=n(e,t),o=s(e),u=o[0],e=o[1],u&&(i=a(u))),{f:u?u+"!"+e:e,n:e,pr:u,p:i}},f={require:function(e){return i(e)},exports:function(e){var t=p[e];return"undefined"!=typeof t?t:p[e]={}},module:function(e){return{id:e,uri:"",exports:p[e],config:u(e)}}},l=function(n,r,s,u){var l,c,g,v,y,b,w=[];if(u=u||n,"function"==typeof s){for(r=!r.length&&s.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)v=d(r[y],u),c=v.f,"require"===c?w[y]=f.require(n):"exports"===c?(w[y]=f.exports(n),b=!0):"module"===c?l=w[y]=f.module(n):t(p,c)||t(h,c)||t(m,c)?w[y]=a(c):v.p&&(v.p.load(v.n,i(u,!0),o(c),{}),w[y]=p[c]);g=s.apply(p[n],w),n&&(l&&l.exports!==e&&l.exports!==p[n]?p[n]=l.exports:g===e&&b||(p[n]=g))}else n&&(p[n]=s)},requirejs=require=c=function(t,n,i,r,o){return"string"==typeof t?f[t]?f[t](n):a(d(t,n).f):(t.splice||(g=t,n.splice?(t=n,n=i,i=null):t=e),n=n||function(){},"function"==typeof i&&(i=r,r=o),r?l(e,t,n,i):setTimeout(function(){l(e,t,n,i)},4),c)},c.config=function(e){return g=e,g.deps&&c(g.deps,g.callback),c},define=function(e,n,i){n.splice||(i=n,n=[]),t(p,e)||t(h,e)||(h[e]=[e,n,i])},define.amd={jQuery:!0}}(),define("almond",function(){}),this.JSON||(this.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,a,s=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;o>n;n+=1)a[n]=str(n,u)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)i=rep[n],"string"==typeof i&&(r=str(i,u),r&&a.push(quote(i)+(gap?": ":":")+r));else for(i in u)Object.hasOwnProperty.call(u,i)&&(r=str(i,u),r&&a.push(quote(i)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("easyXDM/json2",function(){}),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,a=i.push,s=i.slice,u=i.concat,l=r.toString,c=r.hasOwnProperty,d=Array.isArray,f=Object.keys,p=o.bind,h=function(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)};h.VERSION="1.6.0",h.each=h.forEach=function(e,t,i){if(null==e)return e;if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var a=h.keys(e),r=0,o=a.length;o>r;r++)if(t.call(i,e[a[r]],a[r],e)===n)return;return e},h.map=h.collect=function(e,t,n){var i=[];return null==e?i:(h.each(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i)};var g="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),h.each(e,function(e,o,a){r?n=t.call(i,n,e,o,a):(n=e,r=!0)}),!r)throw new TypeError(g);return n},h.reduceRight=h.foldr=function(e,t,n,i){var r=arguments.length>2;null==e&&(e=[]);var o=e.length;if(o!==+o){var a=h.keys(e);o=a.length}if(h.each(e,function(s,u,l){u=a?a[--o]:--o,r?n=t.call(i,n,e[u],u,l):(n=e[u],r=!0)}),!r)throw new TypeError(g);return n},h.find=h.detect=function(e,t,n){var i;return h.some(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},h.filter=h.select=function(e,t,n){var i=[];return null==e?i:(h.each(e,function(e,r,o){t.call(n,e,r,o)&&i.push(e)}),i)},h.reject=function(e,t,n){return h.filter(e,h.negate(t),n)},h.every=h.all=function(e,t,i){t||(t=h.identity);var r=!0;return null==e?r:(h.each(e,function(e,o,a){return(r=r&&t.call(i,e,o,a))?void 0:n}),!!r)},h.some=h.any=function(e,t,i){t||(t=h.identity);var r=!1;return null==e?r:(h.each(e,function(e,o,a){return r||(r=t.call(i,e,o,a))?n:void 0}),!!r)},h.contains=h.include=function(e,t){return null==e?!1:e.length===+e.length?h.indexOf(e,t)>=0:h.some(e,function(e){return e===t})},h.invoke=function(e,t){var n=s.call(arguments,2),i=h.isFunction(t);return h.map(e,function(e){return(i?t:e[t]).apply(e,n)})},h.pluck=function(e,t){return h.map(e,h.property(t))},h.where=function(e,t){return h.filter(e,h.matches(t))},h.findWhere=function(e,t){return h.find(e,h.matches(t))},h.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(!t&&h.isArray(e))for(var s=0,u=e.length;u>s;s++)i=e[s],i>o&&(o=i);else h.each(e,function(e,i,s){r=t?t.call(n,e,i,s):e,(r>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},h.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(!t&&h.isArray(e))for(var s=0,u=e.length;u>s;s++)i=e[s],o>i&&(o=i);else h.each(e,function(e,i,s){r=t?t.call(n,e,i,s):e,(a>r||1/0===r&&1/0===o)&&(o=e,a=r)});return o},h.shuffle=function(e){var t,n=0,i=[];return h.each(e,function(e){t=h.random(n++),i[n-1]=i[t],i[t]=e}),i},h.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=h.values(e)),e[h.random(e.length-1)]):h.shuffle(e).slice(0,Math.max(0,t))};var m=function(e,t){return null==e?h.identity:h.isFunction(e)?t?function(){return e.apply(t,arguments)}:e:h.property(e)};h.sortBy=function(e,t,n){return t=m(t,n),h.pluck(h.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var v=function(e){return function(t,n,i){var r={};return n=m(n,i),h.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};h.groupBy=v(function(e,t,n){h.has(e,n)?e[n].push(t):e[n]=[t]}),h.indexBy=v(function(e,t,n){e[n]=t}),h.countBy=v(function(e,t,n){h.has(e,n)?e[n]++:e[n]=1}),h.sortedIndex=function(e,t,n,i){n=m(n,i);for(var r=n(t),o=0,a=e.length;a>o;){var s=o+a>>>1;n(e[s])<r?o=s+1:a=s}return o},h.toArray=function(e){return e?h.isArray(e)?s.call(e):e.length===+e.length?h.map(e,h.identity):h.values(e):[]},h.size=function(e){return null==e?0:e.length===+e.length?e.length:h.keys(e).length},h.first=h.head=h.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:s.call(e,0,t)},h.initial=function(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},h.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},h.rest=h.tail=h.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},h.compact=function(e){return h.filter(e,h.identity)};var y=function(e,t,n,i){if(t&&h.every(e,h.isArray))return u.apply(i,e);for(var r=0,o=e.length;o>r;r++){var s=e[r];h.isArray(s)||h.isArguments(s)?t?a.apply(i,s):y(s,t,n,i):n||i.push(s)}return i};h.flatten=function(e,t){return y(e,t,!1,[])},h.without=function(e){return h.difference(e,s.call(arguments,1))},h.partition=function(e,t,n){t=m(t,n);var i=[],r=[];return h.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},h.uniq=h.unique=function(e,t,n,i){if(null==e)return[];h.isFunction(t)&&(i=n,n=t,t=!1);for(var r=[],o=[],a=0,s=e.length;s>a;a++){var u=e[a];n&&(u=n.call(i,u,a,e)),(t?a&&o===u:h.contains(o,u))||(t?o=u:o.push(u),r.push(e[a]))}return r},h.union=function(){return h.uniq(y(arguments,!0,!0,[]))},h.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,r=e.length;r>i;i++){var o=e[i];if(!h.contains(t,o)){for(var a=1;n>a&&h.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},h.difference=function(e){var t=y(s.call(arguments,1),!0,!0,[]);return h.filter(e,function(e){return!h.contains(t,e)})},h.zip=function(){for(var e=h.max(h.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=h.pluck(arguments,""+n);return t},h.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},h.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=h.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}for(;r>i;i++)if(e[i]===t)return i;return-1},h.lastIndexOf=function(e,t,n){if(null==e)return-1;for(var i=null==n?e.length:n;i--;)if(e[i]===t)return i;return-1},h.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o};var b=function(){};h.bind=function(e,t){var n,i;if(p&&e.bind===p)return p.apply(e,s.call(arguments,1));if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(s.call(arguments)));b.prototype=e.prototype;var r=new b;b.prototype=null;var o=e.apply(r,n.concat(s.call(arguments)));return Object(o)===o?o:r}},h.partial=function(e){var t=s.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,o=i.length;o>r;r++)i[r]===h&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},h.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return h.each(t,function(t){e[t]=h.bind(e[t],e)}),e},h.memoize=function(e,t){var n={};return t||(t=h.identity),function(){var i=t.apply(this,arguments);return h.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},h.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},h.defer=function(e){return h.delay.apply(h,[e,1].concat(s.call(arguments,1)))},h.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:h.now(),a=null,o=e.apply(i,r),i=r=null};return function(){var l=h.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return i=this,r=arguments,0>=c||c>t?(clearTimeout(a),a=null,s=l,o=e.apply(i,r),i=r=null):a||n.trailing===!1||(a=setTimeout(u,c)),o}},h.debounce=function(e,t,n){var i,r,o,a,s,u=function(){var l=h.now()-a;t>l&&l>0?i=setTimeout(u,t-l):(i=null,n||(s=e.apply(o,r),o=r=null))};return function(){o=this,r=arguments,a=h.now();var l=n&&!i;return i||(i=setTimeout(u,t)),l&&(s=e.apply(o,r),o=r=null),s}},h.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},h.wrap=function(e,t){return h.partial(t,e)},h.negate=function(e){return function(){return!e.apply(this,arguments)}},h.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},h.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},h.keys=function(e){if(!h.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)h.has(e,n)&&t.push(n);return t},h.values=function(e){for(var t=h.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},h.pairs=function(e){for(var t=h.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},h.invert=function(e){for(var t={},n=h.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},h.functions=h.methods=function(e){var t=[];for(var n in e)h.isFunction(e[n])&&t.push(n);return t.sort()},h.extend=function(e){return h.isObject(e)?(h.each(s.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e):e},h.pick=function(e,t,n){var i={};if(h.isFunction(t))for(var r in e){var o=e[r];t.call(n,o,r,e)&&(i[r]=o)}else for(var a=u.apply([],s.call(arguments,1)),l=0,c=a.length;c>l;l++){var r=a[l];r in e&&(i[r]=e[r])}return i},h.omit=function(e,t,n){var i;return h.isFunction(t)?t=h.negate(t):(i=h.map(u.apply([],s.call(arguments,1)),String),t=function(e,t){return!h.contains(i,t)}),h.pick(e,t,n)},h.defaults=function(e){return h.isObject(e)?(h.each(s.call(arguments,1),function(t){for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e):e},h.clone=function(e){return h.isObject(e)?h.isArray(e)?e.slice():h.extend({},e):e},h.tap=function(e,t){return t(e),e};var w=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof h&&(e=e._wrapped),t instanceof h&&(t=t._wrapped);var r=l.call(e);if(r!=l.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),i.push(t);var u=0,c=!0;if("[object Array]"==r){if(u=e.length,c=u==t.length)for(;u--&&(c=w(e[u],t[u],n,i)););}else{for(var d in e)if(h.has(e,d)&&(u++,!(c=h.has(t,d)&&w(e[d],t[d],n,i))))break;if(c){for(d in t)if(h.has(t,d)&&!u--)break;c=!u}}return n.pop(),i.pop(),c};h.isEqual=function(e,t){return w(e,t,[],[])},h.isEmpty=function(e){if(null==e)return!0;if(h.isArray(e)||h.isString(e)||h.isArguments(e))return 0===e.length;for(var t in e)if(h.has(e,t))return!1;return!0},h.isElement=function(e){return!(!e||1!==e.nodeType)},h.isArray=d||function(e){return"[object Array]"==l.call(e)},h.isObject=function(e){return e===Object(e)},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){h["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(e){return!(!e||!h.has(e,"callee"))}),"function"!=typeof/./&&(h.isFunction=function(e){return"function"==typeof e}),h.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},h.isNaN=function(e){return h.isNumber(e)&&e!=+e},h.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},h.isNull=function(e){return null===e},h.isUndefined=function(e){return void 0===e},h.has=function(e,t){return c.call(e,t)},h.noConflict=function(){return e._=t,this},h.identity=function(e){return e},h.constant=function(e){return function(){return e}},h.noop=function(){},h.property=function(e){return function(t){return t[e]}},h.matches=function(e){return function(t){if(null==t)return h.isEmpty(e);if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},h.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},h.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},h.now=Date.now||function(){return(new Date).getTime()};var x={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};x.unescape=h.invert(x.escape);var k={escape:new RegExp("["+h.keys(x.escape).join("")+"]","g"),unescape:new RegExp("("+h.keys(x.unescape).join("|")+")","g")};h.each(["escape","unescape"],function(e){h[e]=function(t){return null==t?"":(""+t).replace(k[e],function(t){return x[e][t]})}}),h.result=function(e,t){if(null==e)return void 0;var n=e[t];return h.isFunction(n)?e[t]():n},h.mixin=function(e){h.each(h.functions(e),function(t){var n=h[t]=e[t];h.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),C.call(this,n.apply(h,e))}})};var T=0;h.uniqueId=function(e){var t=++T+"";return e?e+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var _=/(.)^/,A={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\u2028|\u2029/g,S=function(e){return"\\"+A[e]};h.template=function(e,t,n){n=h.defaults({},n,h.templateSettings);var i=new RegExp([(n.escape||_).source,(n.interpolate||_).source,(n.evaluate||_).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(E,S),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return a(t,h);var u=function(e){return a.call(this,e,h)},l=n.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},h.chain=function(e){return h(e).chain()};var C=function(e){return this._chain?h(e).chain():e};h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];h.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],C.call(this,n)}}),h.each(["concat","join","slice"],function(e){var t=i[e];h.prototype[e]=function(){return C.call(this,t.apply(this._wrapped,arguments))}}),h.extend(h.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),define("utils/wrapper",["underscore"],function(e){return function(t){if(t&&t.hasOwnProperty("hasCallback"))return t;var n;return e.isFunction(t)?(n=function(n){var i=n;if(n||(i=null),e.isString(n))try{i=JSON.parse(n)}catch(r){window.console&&(console.log(r),console.log(n))}return t(i)},n.hasCallback=!0):(n=function(){return null},n.hasCallback=!1),n}}),define("utils/dom_ready",[],function(){function e(){if(n){for(var e;e=n.shift();)e();n=null}}function t(e){return n?void n.push(e):void e()}var n,i="readyState"in document?/loaded|complete/.test(document.readyState):!!document.body;if(!i&&(n=[],document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e)),document.documentElement.doScroll&&window==window.top)){var r=function(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(r,0)}e()};r()}return t}),define("utils/dom_helper",{hasClass:function(e,t){var n=" "+t+" ";return n.indexOf(" "+e.className+" ")>=0},addClass:function(e,t){this.hasClass(e,t)||(e.className=e.className?e.className+" "+t:t)},removeClass:function(e,t){if(this.hasClass(e,t)){var n=new RegExp("(?:^|\\s)"+t+"(?!\\S)","g");e.className=e.className.replace(n,"").trim()}},on:function(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},addEventListener:function(e,t,n){e&&("addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n))},removeEventListener:function(e,t,n){e&&("removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n))}}),define("utils/uri_helper",["underscore"],function(e){var t=function(n,i){var r=[];if(e.isObject(i))for(var o in i)i.hasOwnProperty(o)&&r.push(t(n+"["+o+"]",i[o]));else r.push(n+"="+encodeURIComponent(i));return r.join("&")},n=function(n){if(e.isString(n))return n;var i=[];for(var r in n)e.has(n,r)&&i.push(t(r,n[r]));return i.join("&")},i=function(e,t){var i=n(t);return i?e+(e.indexOf("?")>-1?"&":"?")+i:e};return{buildQuery:n,appendToUrl:i}});var isOldIE=void 0!==window.attachEvent&&void 0===window.addEventListener,cdnUrl=isOldIE?"https://account.y8.com":"https://cdn.y8.com";define("utils/constants",{root_url:"https://account.y8.com",tracking_url:"http://cdn.y8.com/api/tracking.html",analytics_url:"https://t.y8.com/log",playtomic_url:"https://playtomic.y8.com/v1",cdnUrl:cdnUrl,y8_appid:"4fbb62b133968d57c10041b0",iframe_width:433,iframe_height:300,name_helper_url:cdnUrl+"/Xd/name.html",xd_handler_helper_url:cdnUrl+"/Xd/xd_handler.html?version=41",assetsRootUrl:function(){return"https:"==document.location.protocol?"https://cdn.y8.com":"http://cdn.y8.com"}}),function(e,t,n,i,r,o){function a(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function s(e,t){return!("object"!=typeof e[t]||!e[t])}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!b(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var n=navigator.plugins[e].description;n&&!b(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(C=n.match(/\d+/g))}if(!C){var i;try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),C=Array.prototype.slice.call(i.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),i=null}catch(r){}}if(!C)return!1;var o=parseInt(C[0],10),a=parseInt(C[1],10);return R=o>9&&a>0,!0}function c(){if(!W){W=!0;for(var e=0;e<X.length;e++)X[e]();X.length=0}}function d(e,t){return W?void e.call(t):void X.push(function(){e.call(t)})}function f(){var e=parent;if(""!==I)for(var t=0,n=I.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}function p(t){return e.easyXDM=F,I=t,I&&(B="easyXDM_"+I.replace(".","_")+"_"),q}function h(e){return e.match(L)[3]}function g(e){return e.match(L)[4]||""}function m(e){var t=e.toLowerCase().match(L),n=t[2],i=t[3],r=t[4]||"";return("http:"==n&&":80"==r||"https:"==n&&":443"==r)&&(r=""),n+"//"+i+r}function v(e){if(e=e.replace(H,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":n.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}for(;P.test(e);)e=e.replace(P,"");return e}function y(e,t){var n="",i=e.indexOf("#");-1!==i&&(n=e.substring(i),e=e.substring(0,i));var r=[];for(var a in t)t.hasOwnProperty(a)&&r.push(a+"="+o(t[a]));return e+(z?"#":-1==e.indexOf("?")?"?":"&")+r.join("&")+n}function b(e){return"undefined"==typeof e}function w(e,t,n){var i;for(var r in t)t.hasOwnProperty(r)&&(r in e?(i=t[r],"object"==typeof i?w(e[r],i,n):n||(e[r]=t[r])):e[r]=t[r]);return e}function x(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=B+"TEST"+D,S=n!==e.elements[n.name],t.body.removeChild(e)}function k(e){b(S)&&x();var n;S?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(w(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var i=e.props.src;if(e.props.src="javascript:false",w(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&O(n,"load",e.onLoad),e.usePost){var r,o=e.container.appendChild(t.createElement("form"));if(o.target=n.name,o.action=i,o.method="POST","object"==typeof e.usePost)for(var a in e.usePost)e.usePost.hasOwnProperty(a)&&(S?r=t.createElement('<input name="'+a+'"/>'):(r=t.createElement("INPUT"),r.name=a),r.value=e.usePost[a],o.appendChild(r));o.submit(),o.parentNode.removeChild(o)}else n.src=i;return e.props.src=i,n}function T(e,t){"string"==typeof e&&(e=[e]);for(var n,i=e.length;i--;)if(n=e[i],n=new RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(t))return!0;return!1}function _(i){var r,o=i.protocol;if(i.isHost=i.isHost||b(J.xdm_p),z=i.hash||!1,i.props||(i.props={}),i.isHost)i.remote=v(i.remote),i.channel=i.channel||"default"+D++,i.secret=Math.random().toString(16).substring(2),b(o)&&(o=m(n.href)==m(i.remote)?"4":a(e,"postMessage")||a(t,"postMessage")?"1":i.swf&&a(e,"ActiveXObject")&&l()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":i.remoteHelper?"2":"0");else if(i.channel=J.xdm_c.replace(/["'<>\\]/g,""),i.secret=J.xdm_s,i.remote=J.xdm_e.replace(/["'<>\\]/g,""),o=J.xdm_p,i.acl&&!T(i.acl,i.remote))throw new Error("Access denied for "+i.remote);switch(i.protocol=o,o){case"0":if(w(i,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),i.isHost){if(!i.local){for(var s,u=n.protocol+"//"+n.host,c=t.body.getElementsByTagName("img"),d=c.length;d--;)if(s=c[d],s.src.substring(0,u.length)===u){i.local=s.src;break}i.local||(i.local=e)}var f={xdm_c:i.channel,xdm_p:0};i.local===e?(i.usePolling=!0,i.useParent=!0,i.local=n.protocol+"//"+n.host+n.pathname+n.search,f.xdm_e=i.local,f.xdm_pa=1):f.xdm_e=v(i.local),i.container&&(i.useResize=!1,f.xdm_po=1),i.remote=y(i.remote,f)}else w(i,{channel:J.xdm_c,remote:J.xdm_e,useParent:!b(J.xdm_pa),usePolling:!b(J.xdm_po),useResize:i.useParent?!1:i.useResize});r=[new q.stack.HashTransport(i),new q.stack.ReliableBehavior({}),new q.stack.QueueBehavior({encode:!0,maxLength:4e3-i.remote.length}),new q.stack.VerifyBehavior({initiate:i.isHost})];break;case"1":r=[new q.stack.PostMessageTransport(i)];break;case"2":i.isHost&&(i.remoteHelper=v(i.remoteHelper)),r=[new q.stack.NameTransport(i),new q.stack.QueueBehavior,new q.stack.VerifyBehavior({initiate:i.isHost})];break;case"3":r=[new q.stack.NixTransport(i)];break;case"4":r=[new q.stack.SameOriginTransport(i)];break;case"5":r=[new q.stack.FrameElementTransport(i)];break;case"6":C||l(),r=[new q.stack.FlashTransport(i)]}return r.push(new q.stack.QueueBehavior({lazy:i.lazy,remove:!0})),r}function A(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},i=0,r=e.length;r>i;i++)t=e[i],w(t,n,!0),0!==i&&(t.down=e[i-1]),i!==r-1&&(t.up=e[i+1]);return t}function E(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var S,C,R,O,j,N=this,D=Math.floor(1e4*Math.random()),M=Function.prototype,L=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,P=/[\-\w]+\/\.\.\//,H=/([^:])\/\//g,I="",q={},F=e.easyXDM,B="easyXDM_",z=!1;if(a(e,"addEventListener"))O=function(e,t,n){e.addEventListener(t,n,!1)},j=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!a(e,"attachEvent"))throw new Error("Browser not supported");O=function(e,t,n){e.attachEvent("on"+t,n)},j=function(e,t,n){e.detachEvent("on"+t,n)}}var U,W=!1,X=[];if("readyState"in t?(U=t.readyState,W="complete"==U||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==U||"interactive"==U)):W=!!t.body,!W){if(a(e,"addEventListener"))O(t,"DOMContentLoaded",c);else if(O(t,"readystatechange",function(){"complete"==t.readyState&&c()}),t.documentElement.doScroll&&e===top){var $=function(){if(!W){try{t.documentElement.doScroll("left")}catch(e){return void i($,1)}c()}};$()}O(e,"load",c)}var J=function(e){e=e.substring(1).split("&");for(var t,n={},i=e.length;i--;)t=e[i].split("="),n[t[0]]=r(t[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),V=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(V=function(){return e},e):null)};w(q,{version:"2.4.18.25",query:J,stack:{},apply:w,getJSONObject:V,whenReady:d,noConflict:p}),q.DomHelper={on:O,un:j,requiresJSON:function(n){s(e,"JSON")||t.write('<script type="text/javascript" src="'+n+'"></script>')}},function(){var e={};q.Fn={set:function(t,n){e[t]=n},get:function(t,n){var i=e[t];return n&&delete e[t],i}}}(),q.Socket=function(e){var t=A(_(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=m(e.remote);this.origin=m(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},q.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var i=t.local[n];"function"==typeof i&&(t.local[n]={method:i})}var r=A(_(e).concat([new q.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=m(e.remote),this.destroy=function(){r.destroy()},r.init()},q.stack.SameOriginTransport=function(e){var t,r,o,a;return t={outgoing:function(e,t,n){o(e),n&&n()},destroy:function(){r&&(r.parentNode.removeChild(r),r=null)},onDOMReady:function(){a=m(e.remote),e.isHost?(w(e.props,{src:y(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:B+e.channel+"_provider"}),r=k(e),q.Fn.set(e.channel,function(e){return o=e,i(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,a)}})):(o=f().Fn.get(e.channel,!0)(function(e){t.up.incoming(e,a)}),i(function(){t.up.callback(!0)},0))},init:function(){d(t.onDOMReady,t)}}},q.stack.FlashTransport=function(e){function r(e){i(function(){s.up.incoming(e,l)},0)}function a(n){var i=e.swf+"?host="+e.isHost,r="easyXDM_swf_"+Math.floor(1e4*Math.random());q.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){q.stack.FlashTransport[n].swf=c=f.firstChild;for(var e=q.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?f="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(f=t.createElement("div"),w(f.style,R&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(f));
var a="callback=flash_loaded"+o(n.replace(/[\-.]/g,"_"))+"&proto="+N.location.protocol+"&domain="+o(h(N.location.href))+"&port="+o(g(N.location.href))+"&ns="+o(I);f.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+r+"' data='"+i+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+i+"'></param><param name='flashvars' value='"+a+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+a+"' allowScriptAccess='always' wmode='transparent' src='"+i+"' height='1' width='1'></embed></object>"}var s,u,l,c,f;return s={outgoing:function(t,n,i){c.postMessage(e.channel,t.toString()),i&&i()},destroy:function(){try{c.destroyChannel(e.channel)}catch(t){}c=null,u&&(u.parentNode.removeChild(u),u=null)},onDOMReady:function(){l=e.remote,q.Fn.set("flash_"+e.channel+"_init",function(){i(function(){s.up.callback(!0)})}),q.Fn.set("flash_"+e.channel+"_onMessage",r),e.swf=v(e.swf);var t=h(e.swf),o=function(){q.stack.FlashTransport[t].init=!0,c=q.stack.FlashTransport[t].swf,c.createChannel(e.channel,e.secret,m(e.remote),e.isHost),e.isHost&&(R&&e.swfNoThrottle&&w(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),w(e.props,{src:y(e.remote,{xdm_e:m(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:B+e.channel+"_provider"}),u=k(e))};q.stack.FlashTransport[t]&&q.stack.FlashTransport[t].init?o():q.stack.FlashTransport[t]?q.stack.FlashTransport[t].queue.push(o):(q.stack.FlashTransport[t]={queue:[o]},a(t))},init:function(){d(s.onDOMReady,s)}}},q.stack.PostMessageTransport=function(t){function r(e){if(e.origin)return m(e.origin);if(e.uri)return m(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function o(e){var n=r(e);n==l&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&a.up.incoming(e.data.substring(t.channel.length+1),n)}var a,s,u,l;return a={outgoing:function(e,n,i){u.postMessage(t.channel+" "+e,n||l),i&&i()},destroy:function(){j(e,"message",o),s&&(u=null,s.parentNode.removeChild(s),s=null)},onDOMReady:function(){if(l=m(t.remote),t.isHost){var r=function(n){n.data==t.channel+"-ready"&&(u="postMessage"in s.contentWindow?s.contentWindow:s.contentWindow.document,j(e,"message",r),O(e,"message",o),i(function(){a.up.callback(!0)},0))};O(e,"message",r),w(t.props,{src:y(t.remote,{xdm_e:m(n.href),xdm_c:t.channel,xdm_p:1}),name:B+t.channel+"_provider"}),s=k(t)}else O(e,"message",o),u="postMessage"in e.parent?e.parent:e.parent.document,u.postMessage(t.channel+"-ready",l),i(function(){a.up.callback(!0)},0)},init:function(){d(a.onDOMReady,a)}}},q.stack.FrameElementTransport=function(r){var o,a,s,u;return o={outgoing:function(e,t,n){s.call(this,e),n&&n()},destroy:function(){a&&(a.parentNode.removeChild(a),a=null)},onDOMReady:function(){u=m(r.remote),r.isHost?(w(r.props,{src:y(r.remote,{xdm_e:m(n.href),xdm_c:r.channel,xdm_p:5}),name:B+r.channel+"_provider"}),a=k(r),a.fn=function(e){return delete a.fn,s=e,i(function(){o.up.callback(!0)},0),function(e){o.up.incoming(e,u)}}):(t.referrer&&m(t.referrer)!=J.xdm_e&&(e.top.location=J.xdm_e),s=e.frameElement.fn(function(e){o.up.incoming(e,u)}),o.up.callback(!0))},init:function(){d(o.onDOMReady,o)}}},q.stack.NameTransport=function(e){function t(t){var n=e.remoteHelper+(s?"#_3":"#_2")+e.channel;u.contentWindow.sendMessage(t,n)}function n(){s?2!==++c&&s||a.up.callback(!0):(t("ready"),a.up.callback(!0))}function r(e){a.up.incoming(e,p)}function o(){f&&i(function(){f(!0)},0)}var a,s,u,l,c,f,p,h;return a={outgoing:function(e,n,i){f=i,t(e)},destroy:function(){u.parentNode.removeChild(u),u=null,s&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){s=e.isHost,c=0,p=m(e.remote),e.local=v(e.local),s?(q.Fn.set(e.channel,function(t){s&&"ready"===t&&(q.Fn.set(e.channel,r),n())}),h=y(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),w(e.props,{src:h+"#"+e.channel,name:B+e.channel+"_provider"}),l=k(e)):(e.remoteHelper=e.remote,q.Fn.set(e.channel,r));var t=function(){var r=u||this;j(r,"load",t),q.Fn.set(e.channel+"_load",o),function a(){"function"==typeof r.contentWindow.sendMessage?n():i(a,50)}()};u=k({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){d(a.onDOMReady,a)}}},q.stack.HashTransport=function(t){function n(e){if(g){var n=t.remote+"#"+p++ +"_"+e;(u||!v?g.contentWindow:g).location=n}}function r(e){f=e,s.up.incoming(f.substring(f.indexOf("_")+1),y)}function o(){if(h){var e=h.location.href,t="",n=e.indexOf("#");-1!=n&&(t=e.substring(n)),t&&t!=f&&r(t)}}function a(){l=setInterval(o,c)}var s,u,l,c,f,p,h,g,v,y;return s={outgoing:function(e){n(e)},destroy:function(){e.clearInterval(l),(u||!v)&&g.parentNode.removeChild(g),g=null},onDOMReady:function(){if(u=t.isHost,c=t.interval,f="#"+t.channel,p=0,v=t.useParent,y=m(t.remote),u){if(w(t.props,{src:t.remote,name:B+t.channel+"_provider"}),v)t.onLoad=function(){h=e,a(),s.up.callback(!0)};else{var n=0,r=t.delay/50;!function o(){if(++n>r)throw new Error("Unable to reference listenerwindow");try{h=g.contentWindow.frames[B+t.channel+"_consumer"]}catch(e){}h?(a(),s.up.callback(!0)):i(o,50)}()}g=k(t)}else h=e,a(),v?(g=parent,s.up.callback(!0)):(w(t,{props:{src:t.remote+"#"+t.channel+new Date,name:B+t.channel+"_consumer"},onLoad:function(){s.up.callback(!0)}}),g=k(t))},init:function(){d(s.onDOMReady,s)}}},q.stack.ReliableBehavior=function(){var e,t,n=0,i=0,r="";return e={incoming:function(o,a){var s=o.indexOf("_"),u=o.substring(0,s).split(",");o=o.substring(s+1),u[0]==n&&(r="",t&&t(!0)),o.length>0&&(e.down.outgoing(u[1]+","+n+"_"+r,a),i!=u[1]&&(i=u[1],e.up.incoming(o,a)))},outgoing:function(o,a,s){r=o,t=s,e.down.outgoing(i+","+ ++n+"_"+o,a)}}},q.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===s.length)return void E(n);if(!u&&0!==s.length&&!a){u=!0;var r=s.shift();n.down.outgoing(r.data,r.origin,function(e){u=!1,r.callback&&i(function(){r.callback(e)},0),t()})}}var n,a,s=[],u=!0,l="",c=0,d=!1,f=!1;return n={init:function(){b(e)&&(e={}),e.maxLength&&(c=e.maxLength,f=!0),e.lazy?d=!0:n.down.init()},callback:function(e){u=!1;var i=n.up;t(),i.callback(e)},incoming:function(t,i){if(f){var o=t.indexOf("_"),a=parseInt(t.substring(0,o),10);l+=t.substring(o+1),0===a&&(e.encode&&(l=r(l)),n.up.incoming(l,i),l="")}else n.up.incoming(t,i)},outgoing:function(i,r,a){e.encode&&(i=o(i));var u,l=[];if(f){for(;0!==i.length;)u=i.substring(0,c),i=i.substring(u.length),l.push(u);for(;u=l.shift();)s.push({data:l.length+"_"+u,origin:r,callback:0===l.length?a:null})}else s.push({data:i,origin:r,callback:a});d?n.down.init():t()},destroy:function(){a=!0,n.down.destroy()}}},q.stack.VerifyBehavior=function(e){function t(){i=Math.random().toString(16).substring(2),n.down.outgoing(i)}var n,i,r;return n={incoming:function(o,a){var s=o.indexOf("_");-1===s?o===i?n.up.callback(!0):r||(r=o,e.initiate||t(),n.down.outgoing(o)):o.substring(0,s)===r&&n.up.incoming(o.substring(s+1),a)},outgoing:function(e,t,r){n.down.outgoing(i+"_"+e,t,r)},callback:function(){e.initiate&&t()}}},q.stack.RpcBehavior=function(e,t){function n(e){e.jsonrpc="2.0",o.down.outgoing(a.stringify(e))}function i(e,t){var i=Array.prototype.slice;return function(){var r,o=arguments.length,a={method:t};o>0&&"function"==typeof arguments[o-1]?(o>1&&"function"==typeof arguments[o-2]?(r={success:arguments[o-2],error:arguments[o-1]},a.params=i.call(arguments,0,o-2)):(r={success:arguments[o-1]},a.params=i.call(arguments,0,o-1)),l[""+ ++s]=r,a.id=s):a.params=i.call(arguments,0),e.namedParams&&1===a.params.length&&(a.params=a.params[0]),n(a)}}function r(e,t,i,r){if(!i)return void(t&&n({id:t,error:{code:-32601,message:"Procedure not found."}}));var o,a;t?(o=function(e){o=M,n({id:t,result:e})},a=function(e,i){a=M;var r={id:t,error:{code:-32099,message:e}};i&&(r.error.data=i),n(r)}):o=a=M,u(r)||(r=[r]);try{var s=i.method.apply(i.scope,r.concat([o,a]));b(s)||o(s)}catch(l){a(l.message)}}var o,a=t.serializer||V(),s=0,l={};return o={incoming:function(e){var i=a.parse(e);if(i.method)t.handle?t.handle(i,n):r(i.method,i.id,t.local[i.method],i.params);else{var o=l[i.id];i.error?o.error&&o.error(i.error):o.success&&o.success(i.result),delete l[i.id]}},init:function(){if(t.remote)for(var n in t.remote)t.remote.hasOwnProperty(n)&&(e[n]=i(t.remote[n],n));o.down.init()},destroy:function(){for(var n in t.remote)t.remote.hasOwnProperty(n)&&e.hasOwnProperty(n)&&delete e[n];o.down.destroy()}}},N.easyXDM=q}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),define("easyXDM/easyXDM",function(e){return function(){var t,n;return n=function(){return this.easyXDM.noConflict()},t=n.apply(e,arguments)}}(this)),define("event",[],function(){return{subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(e,t){var n=this.subscribers();n[e]?n[e].push(t):n[e]=[t]},unsubscribe:function(e,t){var n=this.subscribers()[e];if(n)for(var i=0;i<n.length;i++)if(n[i]===t){n.splice(i,1);break}},monitor:function(e,t){if(!t()){var n=this,i=function(){t.apply(t,arguments)&&n.unsubscribe(e,i)};this.subscribe(e,i)}},clear:function(e){delete this.subscribers()[e]},fire:function(e){var t,n=Array.prototype.slice.call(arguments,1),i=this.subscribers()[e];if(i)for(var r=0;r<i.length;r++)t=i[r],t&&t.apply(this,n)}}}),define("utils/hide_plugin",["underscore","easyXDM/easyXDM","rpc","event"],function(e,t,n,i){function r(e){e._hideunity_savedstyle={},e._hideunity_savedstyle.left=e.style.left,e._hideunity_savedstyle.position=e.style.position,e._hideunity_savedstyle.width=e.style.width,e._hideunity_savedstyle.height=e.style.height,e.style.left="-10000px",e.style.position="absolute",e.style.width="1px",e.style.height="1px"}function o(e){e._hideunity_savedstyle&&(e.style.left=e._hideunity_savedstyle.left,e.style.position=e._hideunity_savedstyle.position,e.style.width=e._hideunity_savedstyle.width,e.style.height=e._hideunity_savedstyle.height)}function a(e){e._old_visibility=e.style.visibility,e.style.visibility="hidden"}function s(e){e.style.visibility=e._old_visibility||"",delete e._old_visibility}function u(e){var t=e.type?e.type.toLowerCase():null,n="application/x-shockwave-flash"===t||e.classid&&e.classid.toUpperCase()==g;if(!n)return!1;var i=/opaque|transparent/i;if(i.test(e.getAttribute("wmode")))return!1;for(var r=0;r<e.childNodes.length;r++){var o=e.childNodes[r];if(/param/i.test(o.nodeName)&&/wmode/i.test(o.name)&&i.test(o.value))return!1}return!0}function l(e){var t=e.type?e.type.toLowerCase():null;return"application/vnd.unity"===t||e.classid&&e.classid.toUpperCase()==m}function c(t){var n=e.union(e.toArray(window.document.getElementsByTagName("object")),e.toArray(window.document.getElementsByTagName("embed")));e.each(n,function(e){var n=u(e),i=l(e);if(n||i){var c=function(){"opened"===t.state?n?a(e):i&&r(e):n?s(e):i&&o(e)};if(v){var d={state:t.state,element:e};v(d),setTimeout(c,200)}else c()}})}function d(e){u(e)?a(e):l(e)&&r(e)}function f(e){u(e)?s(e):l(e)&&o(e)}function p(){c({state:"opened"})}function h(){c({state:"closed"})}var g="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",m="CLSID:444785F1-DE89-4295-863A-D46C3A781394",v=null;return i.subscribe("dialog.show",p),i.subscribe("dialog.hide",h),{_setHidePluginCallback:function(e){v=e},hidePluginElement:d,showPluginElement:f,hidePluginObjects:p,showPluginObjects:h}}),define("runtime",["require","underscore","utils/dom_ready","utils/hide_plugin","event"],function(e){var t=e("underscore"),n=(e("utils/dom_ready"),e("utils/hide_plugin")),i=e("event");return{__options:{},setOptions:function(e){n._setHidePluginCallback(e.hidePluginCallback),this.__options.appId=e.appId,this.__options.remoteHelper=e.channelUrl,this.__options.meta=e.meta,this.__options.responseType=e.responseType||"token",this.__options.globalRedirectUri=e.redirectUri,e.authResponse&&this.setAuthResponse(e.authResponse)},init:function(e){this.initialized()||(this.checkOptions()||this.setOptions(e),this.checkOptions()&&(this.__options.initialized=!0,i.fire("id.init")))},reset:function(){this.__options={}},getAppId:function(){return this.__options.appId},initialized:function(){return!!this.__options.initialized},checkOptions:function(){return!!this.__options.appId},setStatus:function(e){this.__options.status=e},getLoginStatus:function(){return{status:this.__options.status,authResponse:this.__options.authResponse,success:"ok"==this.__options.status}},setAuthResponse:function(e){this.__options.authResponse=e},getOAuthToken:function(){var e=this.getAuthResponse();return e&&e.access_token?e.access_token:null},getAuthResponse:function(){return this.__options.authResponse},getRedirectUri:function(e){return t.isString(e)?e:this.__options.globalRedirectUri||document.location.href},getDefaultMeta:function(){return this.__options.meta||{}},getDefaultResponseType:function(){return this.__options.responseType}}}),define("rpc",["utils/constants","runtime","easyXDM/easyXDM"],function(e,t,n){var i={events:{}},r={},o={local:{sendEvent:function(e){var t=i.events[e];if(t){var n=Array.prototype.slice.call(arguments,1);t.apply({},n)}}}},a=null;return t.channelUrl&&(r.local=t.channelUrl),r.remoteHelper=e.name_helper_url,r.remote=e.xd_handler_helper_url,r.channel="id_xd_api",i.config=r,i.jsonRpcConfig=o,i.xdHandler=function(){return null===a&&(a=new n.Rpc(r,o)),a},i}),define("utils/guid",[],function(){return function(){return"id-"+(Math.random()*(1<<30)).toString(16).replace(".","")}}),define("utils/user_agent",[],function(){function e(){if(!g){g=!0;var e=navigator.userAgent,m=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))/.exec(e),v=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(d=/\b(iPhone|iP[ao]d)/.exec(e),f=/\b(iP[ao]d)/.exec(e),l=/Android/i.exec(e),p=/FBAN\/\w+;/i.exec(e),h=/Mobile/i.exec(e),c=!!/Win64/.exec(e),m?(t=m[1]?parseFloat(m[1]):0/0,t&&document.documentMode&&(t=document.documentMode),n=m[2]?parseFloat(m[2]):0/0,i=m[3]?parseFloat(m[3]):0/0,r=m[4]?parseFloat(m[4]):0/0,r?(m=/(?:Chrome\/(\d+\.\d+))/.exec(e),o=m&&m[1]?parseFloat(m[1]):0/0):o=0/0):t=n=i=o=r=0/0,v){if(v[1]){var y=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);a=y?parseFloat(y[1].replace("_",".")):!0}else a=!1;s=!!v[2],u=!!v[3]}else a=s=u=!1}}var t,n,i,r,o,a,s,u,l,c,d,f,p,h,g=!1,m={ie:function(){return e()||t},ie64:function(){return m.ie()&&c},firefox:function(){return e()||n},opera:function(){return e()||i},webkit:function(){return e()||r},safari:function(){return m.webkit()},chrome:function(){return e()||o},windows:function(){return e()||s},osx:function(){return e()||a},linux:function(){return e()||u},iphone:function(){return e()||d},mobile:function(){return e()||d||f||l||h},nativeApp:function(){return e()||p},android:function(){return e()||l},ipad:function(){return e()||f}};return m}),define("dialog/position",["event","utils/user_agent"],function(e,t){return{pos:function(){function e(e,n,i){var r,o;r=(e.docHeight()-i)/2,o=(e.docWidth()-n)/2,r=10>r?10:r,o=0>o?0:o,t.mobile()&&(r+=document.body.scrollTop),e.setTop(r),e.setLeft(o)}this.subscribe("dialog.resize",function(t,n){e(this,t,n)}),e(this,this.width(),this.height())},docTop:function(){return document.documentElement.scrollTop||document.body.scrollTop},docWidth:function(){return self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},docHeight:function(){return self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},hide:function(){this.hidden=!0,this.setTop(-1e4),this.hideMask(),e.fire("dialog.hide",this)},show:function(){this.hidden=!1,this.pos(),this.showMask(),e.fire("dialog.show",this)},resizeMask:function(){var e=document.body,t=document.documentElement;this.mask.style.height=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.clientHeight,t.clientHeight))+"px",this.mask.style.width=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.clientWidth,t.clientWidth))+"px"},showMask:function(){this.resizeMask(),this.mask.style.display="block"},hideMask:function(){this.mask.style.display="none"}}}),define("dialog/resize",["underscore","dialog/position"],function(e,t){function n(e,t,n,i,r){var o=t-e,a=e+Math.pow(1/n*i,r)*o;return Math.ceil(a)}var i=e.extend({},t);return i.animate=function(t,i,r,o,a,s,u,l){if(a&&s&&u){var c=t,d=i,f=r,p=o,h=u,g=u;this.ai&&window.clearInterval(this.ai);var m=0;this.ai=window.setInterval(e.bind(function(){t>i&&(h=1/u),r>o&&(g=1/u);var e=n(c,d,a,m,h),s=n(f,p,a,m,g);this.setWidth(e),this.setHeight(s),m++,m>a&&(window.clearInterval(this.ai),this.inform("dialog.resize",i,o,l)),this.pos()},this),s)}},i.resize=function(e,t,n){return this.animate(this.width(),e,this.height(),t,30,1,2,n),this},i}),define("observable",["underscore"],function(e){return{inform:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=Array.prototype.slice.call(this.getSubscribers(e)),i=0;i<n.length;i++)if(null!==n[i])try{n[i].apply(this,t)}catch(r){}return this},getSubscribers:function(e){return this.__observableEvents[e]||(this.__observableEvents[e]=[])},clearSubscribers:function(e){return e&&(this.__observableEvents[e]=[]),this},clearAllSubscribers:function(){return this.__observableEvents={},this},subscribe:function(e,t){var n=this.getSubscribers(e);return n.push(t),this},unsubscribe:function(e,t){for(var n=this.getSubscribers(e),i=0;i<n.length;i++)if(n[i]===t){n.splice(i,1);break}return this},monitor:function(t,n){if(!n()){var i=e.bind(function(){n.apply(n,arguments)&&this.unsubscribe(t,i)},this);this.subscribe(t,i)}return this}}}),define("dialog",["underscore","easyXDM/easyXDM","utils/guid","utils/dom_helper","dialog/resize","observable","utils/user_agent","utils/constants"],function(e,t,n,i,r,o,a,s){var u=function(e){this.hidden=!0,this.mask=null,this.embedded=e.embedded||!1,this.id=n(),this.__observableEvents={},this.elt=this.create(),this.contentWidth=null,this.contentHeight=null};return u.prototype=e.extend(u.prototype,r),u.prototype=e.extend(u.prototype,o),u.prototype.create=function(){if(this.elt)return this.elt;var t,n,r,o;return o=document.createElement("div"),i.addClass(o,"id-dialog-mask"),this.mask=o,i.on(window,"resize",e.bind(function(){this.resizeMask()},this)),t=document.createElement("div"),i.addClass(t,"id-dialog-box"),n=document.createElement("div"),i.addClass(n,"id-dialog-inner"),r=document.createElement("div"),i.addClass(r,"id-dialog-content"),r.appendChild(n),t.appendChild(r),document.body.appendChild(o),t.style.top="-10000px",t.style.display="block",t.style.left=this.docWidth()/2+"px",this.innerElt=n,t.setAttribute("style","position:fixed; z-index:9000; overflow:hidden; border-radius: 3px;"),r.style.overflow="hidden",n.setAttribute("style","background: url("+s.assetsRootUrl()+"/assets/tinybox/preload.gif) no-repeat 50% 50%; overflow:hidden; line-height:0;"),this.embedded?o.setAttribute("style",'position:absolute; top:0px; left:0px; height:100%; width:100%; background:#000; z-index:800; opacity:0; -moz-opacity:0; filter:alpha(opacity=0); overflow:hidden; zoom:1; -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; -khtml-opacity:0; pointer-events: none; '):o.setAttribute("style",'position:absolute; top:0px; left:0px; height:100%; width:100%; background:#000; z-index:800; opacity:0.8; -moz-opacity:0.8; filter:alpha(opacity=80); overflow:hidden; zoom:1; -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)"; -khtml-opacity:0.5;'),this.subscribe("dialog.resize",function(e,n){var i=document.body,r=document.documentElement,o=Math.max(i.scrollHeight,i.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight),a=o-20;this.contentHeight&&(a=this.contentHeight);var s=n>a;t.style.width=e+"px",s?(t.style.height=a+"px",t.style.overflowY="scroll"):(t.style.height=n+"px",t.style.overflowY="visible"),this.resizeMask()}),t},u.prototype.destroy=function(){this.hide(),document.body.removeChild(this.mask);var t=function(){this.__observableEvents={},this.elt.parentNode.removeChild(this.elt)};return window.setTimeout(e.bind(t,this),500),window.focus(),!0},u.prototype.findContent=function(){return this.innerElt},u.prototype.visible=function(){return this.hidden},u.prototype.replaceContent=function(t){t&&(e.isString(t)?this.findContent().innerHTML=t:(this.findContent().innerHTML="",this.findContent().appendChild(t)))},u.prototype.setWidth=function(e){this.innerElt&&(this.innerElt.style.width=e+"px")},u.prototype.setHeight=function(e){this.innerElt&&(this.innerElt.style.height=e+"px")},u.prototype.setTop=function(e){this.elt&&(this.elt.style.top=e+"px")},u.prototype.setLeft=function(e){this.elt&&(this.elt.style.left=e+"px")},u.prototype.width=function(){return this.innerElt.offsetWidth},u.prototype.height=function(){return this.innerElt.offsetHeight},u.prototype.top=function(){return this.elt.offsetTop},u.prototype.left=function(){return this.elt.offsetLeft},u.prototype.call=function(e){return this.called?void 0:(this.called=!0,this.successFn(e))},u.prototype.error=function(e,t){return this.errorFn(e,t)},u.prototype.scrollBarWidth=function(){return 30},u}),define("text",["module"],function(e){function t(e,t){return void 0===e||""===e?t:e}function n(e,n,i,r){if(n===r)return!0;if(e===i){if("http"===e)return t(n,"80")===t(r,"80");if("https"===e)return t(n,"443")===t(r,"443")}return!1}var i,r,o,a,s,u=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,f=d&&location.protocol&&location.protocol.replace(/\:/,""),p=d&&location.hostname,h=d&&(location.port||void 0),g={},m=e.config&&e.config()||{};return i={version:"2.0.15",strip:function(e){if(e){e=e.replace(l,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=u[t];try{e=new ActiveXObject(n)}catch(i){}if(e){u=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,o=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!a||o>1)?(t=e.substring(0,o),n=e.substring(o+1)):t=e,i=n||t,o=i.indexOf("!"),-1!==o&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,o){var a,s,u,l=i.xdRegExp.exec(e);return l?(a=l[2],s=l[3],s=s.split(":"),u=s[1],s=s[0],!(a&&a!==t||s&&s.toLowerCase()!==r.toLowerCase()||(u||s)&&!n(a,u,t,o))):!0},finishLoad:function(e,t,n,r){n=t?i.strip(n):n,m.isBuild&&(g[e]=n),r(n)},load:function(e,t,n,r){if(r&&r.isBuild&&!r.inlineText)return void n();m.isBuild=r&&r.isBuild;var o=i.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=t.toUrl(a),u=m.useXhr||i.useXhr;return 0===s.indexOf("empty:")?void n():void(!d||u(s,f,p,h)?i.get(s,function(t){i.finishLoad(e,o.strip,t,n)},function(e){n.error&&n.error(e)}):t([a],function(e){i.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}))},write:function(e,t,n){if(g.hasOwnProperty(t)){var r=i.jsEscape(g[t]);n.asModule(e+"!"+t,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,t,n,r,o){var a=i.parseName(t),s=a.ext?"."+a.ext:"",u=a.moduleName+s,l=n.toUrl(a.moduleName+s)+".js";i.load(u,n,function(){var t=function(e){return r(l,e)};t.asModule=function(e,t){return r.asModule(e,l,t)},i.write(e,u,t,o)},o)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(r=require.nodeRequire("fs"),i.get=function(e,t,n){try{var i=r.readFileSync(e,"utf8");""===i[0]&&(i=i.substring(1)),t(i)}catch(o){n&&n(o)}}):"xhr"===m.env||!m.env&&i.createXhr()?i.get=function(e,t,n,r){var o,a=i.createXhr();if(a.open("GET",e,!0),r)for(o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),r[o]);m.onXhr&&m.onXhr(a,e),a.onreadystatechange=function(){var i,r;4===a.readyState&&(i=a.status||0,i>399&&600>i?(r=new Error(e+" HTTP status: "+i),r.xhr=a,n&&n(r)):t(a.responseText),m.onXhrComplete&&m.onXhrComplete(a,e))},a.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(e,t){var n,i,r="utf-8",o=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),u="";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=s.readLine());)n.append(a),n.append(i);u=String(n.toString())}finally{s.close()}t(u)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in o,i.get=function(e,t){var n,i,r,u={};s&&(e=e.replace(/\//g,"\\")),r=new FileUtils.File(e);try{n=o["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),n.init(r,1,0,!1),i=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),i.init(n,"utf-8",n.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),u),i.close(),n.close(),t(u.value)}catch(l){throw new Error((r&&r.path||"")+": "+l)}}),i}),define("text!stylesheets/default.css",[],function(){return"html,\nbody {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  font-family: Arial, Helvetica Neue, Helvetica, sans-serif;\n  font-weight: normal;\n  font-style: normal;\n  overflow: hidden;\n}\nheader {\n  width: 100%;\n  font-size: 22px;\n  text-align: center;\n  text-transform: capitalize;\n  padding-top: 12px;\n}\nfooter {\n  height: 46px;\n  width: 100%;\n  background: #fafafa;\n  overflow: hidden;\n}\nfooter img {\n  float: right;\n  margin: 8px 8px 0;\n  width: 45px;\n  height: 32px;\n}\n#close {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  font-weight: 600;\n  font-size: 28px;\n  cursor: pointer;\n  line-height: 14px;\n  -webkit-user-select: none; /* Safari */        \n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* IE10+/Edge */\n  user-select: none; /* Standard */\n}\n.white {\n  background: #fff;\n}\n"}),define("dialogv2",["require","underscore","utils/dom_helper","event","utils/constants","text!stylesheets/default.css"],function(e){var t,n=e("underscore"),i=e("utils/dom_helper"),r=e("event"),o=(e("utils/constants"),e("text!stylesheets/default.css")),a={iframe:null,mask:null,loaded:!1,loadedCallback:null,unloadedCallback:null,width:0,height:0,create:function(e,o){this.iframe&&this.destroy(),o=n.pick(o||{},"embedded"),a.createFrame(e,o),a.centerResize(),t=a.document().getElementById("close")||null,a.window().onload=function(){a.centerResize(),a.loaded=!0,r.fire("dialog.show"),setTimeout(function(){a.centerResize()},1e3),a.loadedCallback&&a.loadedCallback()},a.createMutationObserver(),o.embedded||i.addEventListener(a.mask,"click",a.destroy),i.addEventListener(t,"click",a.destroy),i.addEventListener(window,"resize",a.centerResize)},destroy:function(){a.iframe&&(i.removeEventListener(a.mask,"click",a.destroy),i.removeEventListener(t,"click",a.destroy),i.removeEventListener(window,"resize",a.centerResize),r.fire("dialog.hide"),document.body.removeChild(a.iframe),a.mask&&(document.body.removeChild(a.mask),a.mask=null),a.iframe=null,a.loaded=!1,a.loadedCallback=null,a.unloadedCallback&&a.unloadedCallback(),a.unloadedCallback=null,window.focus())},createFrame:function(e,t){var n=document.createElement("iframe");this.iframe=n,n.setAttribute("style","position: absolute; z-index: 10000; border: 0;"),n.scrolling="no",n.style.borderRadius="3px";var i='<html><head><style type="text/css">'+o+"</style></head><body>"+e+"</body></html>";if(!t.embedded){var r=document.createElement("div");this.mask=r,r.setAttribute("style","position: absolute; z-index: 9999; border: 0; top: 0; left: 0;"),r.style.background="rgba(0, 0, 0, 0.5)",r.style.width="100%",r.style.height="100%",document.body.appendChild(r)}document.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.write(i),n.contentWindow.document.close()},loadStyle:function(e){if(a.iframe){var t=a.document(),n=t.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,a.head().appendChild(n)}},inlineStyle:function(e){if(a.iframe){var t=a.document(),n=t.createElement("style");n.type="text/css",n.innerHTML=e,a.head().appendChild(n)}},document:function(){return a.iframe?a.iframe.contentWindow.document:void 0},window:function(){return a.iframe?a.iframe.contentWindow:void 0},head:function(){return a.iframe?a.document().getElementsByTagName("head")[0]:void 0},body:function(){if(a.iframe){var e=a.document();return e.body}},centerResize:function(){a.resize(),a.center()},createMutationObserver:function(){if(window.hasOwnProperty("MutationObserver"))var e=window.MutationObserver;if(window.hasOwnProperty("WebKitMutationObserver"))var e=window.WebKitMutationObserver;if(e){var t={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},n=new e(function(){a.centerResize()});n.observe(a.body(),t)}},center:function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0],r=e.innerWidth||n.clientWidth||i.clientWidth,o=e.innerHeight||n.clientHeight||i.clientHeight,s=(r-a.width)/2,u=(o-a.height)/2;a.iframe.style.left=s+"px",a.iframe.style.top=u+"px"},resize:function(){var e=a.body().firstChild,t=e.getBoundingClientRect(),n=t.height,i=t.width;a.width=i,a.height=n,a.iframe.style.width=i+"px",a.iframe.style.height=n+"px"}};return a}),define("sdk/ui",["require","utils/wrapper","utils/dom_ready","utils/dom_helper","utils/uri_helper","rpc","dialog","dialogv2"],function(e){var t=e("utils/wrapper"),n=e("utils/dom_ready"),i=e("utils/dom_helper"),r=e("utils/uri_helper"),o=e("rpc"),a=e("dialog"),s=e("dialogv2"),u={__dialogs:{},root:null,getRoot:function(){if(this.root)return this.root;var e=document.getElementById("id-root");return e?i.addClass(e,"id-reset"):(e=document.createElement("div"),e.id="id-root",i.addClass(e,"id-reset"),document.body.appendChild(e)),this.root=e,this.root},createDialog:function(e,n,r){this.destroyAll();var o=new a(r),s=this;return o.successFn=t(e),o.errorFn=t(n),o.subscribe("dialog.closed",o.call),this.__dialogs[o.id]=o,r.embedded?o:(i.addEventListener(o.mask,"click",function(){o.contentWidth&&s.destroy(o.id)}),o)},getDialog:function(e){return this.__dialogs[e]},destroy:function(e){var t=this.getDialog(e);t.destroy(),delete this.__dialogs[t.id]},destroyAll:function(){for(var e in this.__dialogs)this.__dialogs[e].destroy();this.__dialogs={},s.destroy()},createIframeDialog:function(e,t,n,o){try{var a=JSON.parse(o.q)}catch(s){var a={}}var u=this.createDialog(e,t,a);if(document.attachEvent){this.getRoot().appendChild(u.elt);var l='<iframe id="'+u.id+'" name="'+u.id+'" style="border:none; overflowX:hidden; visibility:hidden;" src="javascript:false;"></iframe>';u.replaceContent('<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px; display:none; visibility:hidden;"></iframe>'),o._sdk=u.id,setTimeout(function(){u.replaceContent(l);var e=r.buildQuery(o);u.findContent().firstChild.src=r.appendToUrl(n,e)},0)}else{var c=document.createElement("iframe");c.name="dialog-frame-"+u.id,c.id=u.id,c.style.border="none",c.style.overflowX="hidden",c.style.visibility="hidden",o._sdk=u.id;var d=r.buildQuery(o);this.getRoot().appendChild(u.elt),c.src=r.appendToUrl(n,d),u.replaceContent(c)}u.subscribe("dialog.resize",function(e,t,n){if(e&&t&&void 0!==n){var i=document.getElementById(u.id);i.setAttribute("style","border:none; overflowX:hidden; visibility:visible;");
var r=document.body,o=document.documentElement,a=Math.max(r.scrollHeight,r.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight),s=a-20,l=t>s;i.style.overflow="hidden",i.width=e+"px",i.height=l?s+"px":t+"px"}});var f=this;return i.addEventListener(window,"resize",function(){f.centerDialog(u);var e=1;clearInterval(f.resizeDelay),f.resizeDelay=setInterval(function(){f.centerDialog(u),e++,e>=10&&clearInterval(f.resizeDelay)},1e3)}),u.show(),u},centerDialog:function(e){if(!e.hidden){var t=window,n=document,i=n.documentElement,r=n.getElementsByTagName("body")[0],o=t.innerWidth||i.clientWidth||r.clientWidth,a=t.innerHeight||i.clientHeight||r.clientHeight;this.sizeMask(e,o,a),this.sizeFrame(e,o,a);var s=(o-e.width())/2,u=(a-e.height())/2;e.setLeft(s),e.setTop(u)}},sizeMask:function(e,t,n){e.mask.style.width=t+"px",e.mask.style.height=n+"px"},sizeFrame:function(e){var t=e.contentHeight>e.height();e.inform("dialog.resize",e.contentWidth,e.contentHeight,t)}};return n(function(){u.getRoot()}),o.events["dialog.close"]=function(e){var t=u.getDialog(e.dialog_id);t.inform("dialog.closed",null),u.destroy(t.id)},u}),define("utils/time",[],function(){return{local:function(e){return"unix"==e?(Date.now||(Date.now=function(){return(new Date).getTime()}),Math.floor(Date.now()/1e3)):void 0}}}),define("logger",["utils/time"],function(e){var t=[],n=0;return{history:[],log:function(){if("undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log)for(var e=0;e<arguments.length;e++)console.log(arguments[e]),this.history.push(arguments[e])},addCall:function(){t.push(e.local("unix")),t.length>=50&&this.log("WANRING: Too many API calls are being made to id.net");for(var n=0;n<t.length;n++)t[n]+300<e.local("unix")&&delete t[n]},getCalls:function(){for(var n=0;n<t.length;n++)t[n]+300<e.local("unix")&&delete t[n];return t.length},setSaveSize:function(e){"string"==typeof e&&(n=e.length)},getSaveSize:function(){return n}}}),define("sdk/api",["utils/constants","utils/wrapper","runtime","easyXDM/easyXDM","sdk/ui","rpc","logger"],function(e,t,n,i,r,o,a){i.apply(o.jsonRpcConfig,{remote:{api:{}},local:{postLoginInfo:function(e,t){var n,i=r.getDialog(e);i&&(n=JSON.parse(t),i.call(n)),r.destroy(e)},setSize:function(e,t,n){dialog=r.getDialog(e),dialog.resize(t,n)}}},!0);var s={getXdHandler:function(){return o.xdHandler()},api:function(i,r,o,u){url=e.root_url+"/api/v1/json"+(i.match(/^\//)?i:"/"+i);var l=n.getOAuthToken();l?(a.addCall(),"user_data/submit"==i&&a.setSaveSize(o.value),s.getXdHandler().api({method:r,url:url,data:o||{},headers:{Authorization:"Bearer "+l}},t(u),t(u))):t(u).call({},null)},apiOpen:function(n,i,r,o){a.addCall(),url=e.root_url+"/api/v1/json"+(n.match(/^\//)?n:"/"+n),s.getXdHandler().api({method:i,url:url,data:r||{}},t(o),t(o))}};return s}),define("sdk",["require","sdk/ui","sdk/api"],function(e){var t=e("sdk/ui"),n=e("sdk/api"),i={init:function(){n.getXdHandler()},ui:t,api:n};return i}),define("utils/domain",["require"],function(){return{getAddress:function(){var e=null;if(!e)try{e=window.top.location.href}catch(t){}if(!e)try{e=document.referrer}catch(t){}return e||(e=window.location.href),e},parsed:function(e){var t=document.createElement("a");return t.href=e,t},getDomain:function(){return this.parsed(this.getAddress()).hostname},isFramed:window.self!==window.top}}),define("distribution_block",["require","utils/domain","sdk/api"],function(e){var t=e("utils/domain"),n=e("sdk/api"),i=t.getDomain();-1==i.search("localhost")&&n.apiOpen("protection-lists","GET",null,function(e){if(e.hasOwnProperty("distribution_block_urls")){if(e.hasOwnProperty("distribution_exceptions_urls"))for(var t=e.distribution_exceptions_urls,n=0;n<t.length;n++)if(-1!=i.search(t[n]))return;for(var r=e.distribution_block_urls,n=0;n<r.length;n++)if(-1!=i.search(r[n]))throw document.body.innerHTML="",new Error("")}})}),define("utils/cookies",[],function(){return{setCookie:function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+r},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}}}),define("options",["require","utils/constants","runtime","sdk/api","event","logger","utils/cookies"],function(e){var t=(e("utils/constants"),e("runtime")),n=e("sdk/api"),i=e("event"),r=e("logger"),o=e("utils/cookies");return{get:{},update:function(){var e=this,a=o.getCookie("co"+t.__options.appId);if(a)try{a=JSON.parse(a),e.get=a,i.fire("options")}catch(s){r.log("options cache failed",s)}else n.apiOpen("client_options/"+t.getAppId(),"GET",null,function(n){n.success?(e.get=n.options,o.setCookie("co"+t.__options.appId,JSON.stringify(n.options),1),i.fire("options")):r.log(n)})},reset:function(){this.get={},o.setCookie("co"+t.__options.appId,"",-1)}}}),define("analytics",["require","utils/constants","utils/wrapper","runtime","easyXDM/easyXDM","sdk/ui","rpc","options","logger","utils/cookies","utils/domain"],function(e){var t=e("utils/constants"),n=(e("utils/wrapper"),e("runtime")),i=e("easyXDM/easyXDM"),r=(e("sdk/ui"),e("rpc")),o=e("options"),a=e("logger"),s=e("utils/cookies"),u=e("utils/domain");i.apply(r.jsonRpcConfig,{remote:{api:{}},local:{analyticsEvent:function(e){a.log("Analytics event with params",e)}}},!0);var l,c=!1,d=!1,f=!1,p={getXdHandler:function(){return r.xdHandler()},ieVersion:function(){var e=0;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e},reset:function(){c=!1,s.setCookie(n.__options.appId,"",-1)},init:function(e){p.ieVersion()>0&&p.ieVersion()<10?p.trackWithPixel("play"):p.trackWithCORS(e)},trackWithCORS:function(e){e.Event.monitor("options",function(){c=!1,o.get.stats?p.tracker({event:"play",game_id:n.__options.appId,domain:u.getAddress()}):c=!0})},trackWithPixel:function(e){var t,i=document.getElementsByTagName("body")[0],r="//t.y8.com/px.gif?game_id="+n.__options.appId+"&event="+e+"&domain="+u.getAddress();t=document.createElement("img"),t.src=r,t.cssText="visibility:hidden; position:absolute",i.appendChild(t)},tracker:function(e){if(p.ieVersion()>0&&p.ieVersion()<10)return void p.trackWithPixel(e.event);if(!c){"play"!=e.event||d?"play"==e.event&&d&&a.log("play event already sent"):d=!0;var n=function(e){try{e=JSON.parse(e)}catch(t){a.log("failed setting uuid"+t)}p.set_uuid(e.uuid)},i=function(e){a.log("tracker failed",e)};p.get_uuid(function(r){r&&(e.uuid=r),e.user_agent=navigator.userAgent,e.sdk="js",p.getXdHandler().api({method:"POST",url:t.analytics_url,data:e},n,i)})}},get_uuid:function(e){l&&e(l),p.getXdHandler().api({method:"GET",url:t.root_url+"/api/v1/json/tracking/get_uuid",data:null},function(t){try{t=JSON.parse(t)}catch(n){a.log("failed to parse json data",n)}e(t&&t.hasOwnProperty("uuid")&&t.uuid?t.uuid:s.getCookie("uuid"))},function(e){a.log("get uuid failed",e)})},set_uuid:function(e){f||(this.uuid=e,p.getXdHandler().api({method:"POST",url:t.root_url+"/api/v1/json/tracking/set_uuid",data:{uuid:e}},function(){},function(e){p.log("set_uuid error"),p.log(e)}),s.setCookie("uuid",e,365),f=!0)},developer:{custom_event:function(e,t){var i={event:"custom",game_id:n.__options.appId,domain:u.getDomain(),custom_event:{name:e,value:t}};p.tracker(i)}}};return p}),define("auth",["require","underscore","utils/uri_helper","utils/constants","utils/wrapper","sdk/api","runtime","dialog","sdk/ui","event","analytics","utils/domain","logger"],function(e){var t=e("underscore"),n=(e("utils/uri_helper"),e("utils/constants")),i=e("utils/wrapper"),r=e("sdk/api"),o=e("runtime"),a=(e("dialog"),e("sdk/ui")),s=e("event"),u=e("analytics"),l=e("utils/domain"),c=e("logger"),d=!1,f=function(e){var t;if(!e)return null;try{t=e.authResponse.redirect_uri,t&&(document.location.href=t)}catch(n){"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log(n)}return null},p=function(e,n){return function(r){var a=e(r),s=i(n);return a&&a.authResponse&&"register"==a.authResponse.event_action&&u.tracker({event:"reg",game_id:o.__options.appId,domain:l.getAddress()}),d||"postMessage"in window&&"top"in window&&(top.postMessage("idnetSilentLogin","*"),d=!0),t.isFunction(s)&&s.hasCallback?s(a):void f(a)}},h={login_or_register:function(e,r,s,u){if(c.getCalls()>=50)return c.log("Skipping as SDK is flooded");e=n.root_url+"/widgets/"+(e||"login"),r=r||{};var l,d;l=t.clone(o.getDefaultMeta()),l=t.extend(l,r.meta||{}),l={prefill:l},d={client_id:o.getAppId(),redirect_uri:o.getRedirectUri(r.redirect_uri),response_type:r.response_type||o.getDefaultResponseType()},d=t.extend(d,l),d.scope=r.scope||"",r.state&&(d.state=r.state),r.confirmAutoLogin&&(d.confirm_auto_login=r.confirmAutoLogin);var f=a.createIframeDialog(i(p(this.storeLoginResponse,s,e)),u,e,d);return f},login:function(e,t,n){return h.login_or_register("login",e,t,n)},register:function(e,t,n){return h.login_or_register("register",e,t,n)},redirectToOauth:function(e){var t,i,r=o.getAppId();e=e||{},i=o.getRedirectUri(e.redirect_uri),t=n.root_url+"/oauth/authorize?client_id="+r+"&redirect_uri="+i,e.register&&(t+="&register=1"),window.location=t},redirectToOauthRegistration:function(e){e=e||{},e.register=!0,h.redirectToOauth(e)},redirectToOauthLogin:function(e){e=e||{},e.register=!1,h.redirectToOauth(e)},storeLoginResponse:function(e){return e&&(e.status=e.result,o.setStatus(e.status),delete e.result,o.setAuthResponse(e.authResponse),s.fire("auth.authResponseChange",e)),e},fetchLoginStatus:function(e,t,a){a=a||{},e=e||function(){},t=t||function(){};var s=n.root_url+"/oauth/status",u=r.getXdHandler();u.api({method:"GET",url:s,data:{redirect_uri:a.redirect_uri||o.getRedirectUri(),_sdk:1,response_type:a.response_type||o.getDefaultResponseType(),client_id:o.getAppId()}},i(p(this.storeLoginResponse,e,"login",!1)),i(t))}};return h}),define("dialogs_manager",["underscore","utils/constants","utils/wrapper","runtime","sdk/ui","rpc"],function(e,t,n,i,r,o){var a=function(e){return t.root_url+"/dialogs/"+e},s={open:function(t,n,o){switch(t=t||{},t.app_id=i.getAppId(),t.method){case"apprequests":r.createIframeDialog(n,o,a("app_requests/new"),e.pick(t,"message","redirect_uri","data","app_id","to"));break;case"friends":r.createIframeDialog(n,o,a("friends/new"),e.pick(t,"redirect_uri","app_id","id"));break;case"feed":t=e.pick(t,"link","description","picture","source","name","caption","message","redirect_uri","app_id"),r.createIframeDialog(n,o,a("feeds/new"),t);break;case"leaderboard":r.createIframeDialog(n,o,a("leaderboard"),e.pick(t,"redirect_uri","app_id"));break;case"achievements":return r.createIframeDialog(n,o,a("achievements"),e.pick(t,"redirect_uri","app_id","h","q"));case"advanced_scores":return r.createIframeDialog(n,o,a("advanced_scores"),e.pick(t,"redirect_uri","app_id","h","q","u"));case"certification":r.createIframeDialog(n,o,a("certification"),e.pick(t,"redirect_uri","app_id"));break;case"points_leaderboard":r.createIframeDialog(n,o,a("leaderboard/points"),t)}}};return o.events["dialog.finished"]=function(e){var t=r.getDialog(e.dialog_id);t.inform("dialog.finished",null),t.call(e.data)},o.events["dialog.error"]=function(e){var t=r.getDialog(e.dialog_id);t.inform("dialog.error",null),t.error(e.error,e.data)},o.events["dialog.resize"]=function(e){var t=r.getDialog(e.dialog_id);t.inform("dialog.resize",e.width,e.height,e.overflow),t.contentWidth=e.width,t.contentHeight=e.height,r.centerDialog(t)},s}),define("tracking",["utils/constants","utils/uri_helper"],function(e,t){return{track:function(n,i){var r,o,a,s=t.appendToUrl(e.tracking_url,i);s=t.appendToUrl(s,{client_id:n}),o=document.getElementsByTagName("body")[0],document.attachEvent?(r='<iframe style="border:none;overflow:hidden;display:none;" src="javascript:false;"></iframe>',a=document.createElement(r),o.appendChild(a),a.src=s):(a=document.createElement("iframe"),a.style.border="none",a.style.overflow="hidden",a.style.display="none",a.src=s,o.appendChild(a)),setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a)},2500)}}}),define("app_image",["sdk/api"],function(e){return{submit:function(t,n){e.api("/profile/app_image","POST",{picture:t},function(e){n&&n(e)})}}}),function(e){function t(e,t,n){var l,c,d,f,p,h,g,m,v,y=0,x=[],k=0,T=!1,_=[],A=[],E=!1;if(n=n||{},l=n.encoding||"UTF8",v=n.numRounds||1,v!==parseInt(v,10)||1>v)throw Error("numRounds must a integer >= 1");if(0!==e.lastIndexOf("SHA-",0))throw Error("Chosen SHA variant is not supported");if(h=function(t,n){return w(t,n,e)},g=function(t,n,i,r){var o,a;if("SHA-224"!==e&&"SHA-256"!==e)throw Error("Unexpected error in SHA-2 implementation");for(o=(n+65>>>9<<4)+15,a=16;t.length<=o;)t.push(0);for(t[n>>>5]|=128<<24-n%32,n+=i,t[o]=4294967295&n,t[o-1]=n/4294967296|0,i=t.length,n=0;i>n;n+=a)r=w(t.slice(n,n+a),r,e);if("SHA-224"===e)t=[r[0],r[1],r[2],r[3],r[4],r[5],r[6]];else{if("SHA-256"!==e)throw Error("Unexpected error in SHA-2 implementation");t=r}return t},m=function(e){return e.slice()},"SHA-224"===e)p=512,f=224;else{if("SHA-256"!==e)throw Error("Chosen SHA variant is not supported");p=512,f=256}d=u(t,l),c=b(e),this.setHMACKey=function(t,n,i){var r;if(!0===T)throw Error("HMAC key already set");if(!0===E)throw Error("Cannot set HMAC key after calling update");if(l=(i||{}).encoding||"UTF8",n=u(n,l)(t),t=n.binLen,n=n.value,r=p>>>3,i=r/4-1,t/8>r){for(n=g(n,t,0,b(e));n.length<=i;)n.push(0);n[i]&=4294967040}else if(r>t/8){for(;n.length<=i;)n.push(0);n[i]&=4294967040}for(t=0;i>=t;t+=1)_[t]=909522486^n[t],A[t]=1549556828^n[t];c=h(_,c),y=p,T=!0},this.update=function(e){var t,n,i,r=0,o=p>>>5;for(t=d(e,x,k),e=t.binLen,n=t.value,t=e>>>5,i=0;t>i;i+=o)e>=r+p&&(c=h(n.slice(i,i+o),c),r+=p);y+=r,x=n.slice(r>>>5),k=e%p,E=!0},this.getHash=function(t,n){var u,l,d,p;if(!0===T)throw Error("Cannot call getHash after setting HMAC key");switch(d=s(n),t){case"HEX":u=function(e){return i(e,f,d)};break;case"B64":u=function(e){return r(e,f,d)};break;case"BYTES":u=function(e){return o(e,f)};break;case"ARRAYBUFFER":try{l=new ArrayBuffer(0)}catch(h){throw Error("ARRAYBUFFER not supported by this environment")}u=function(e){return a(e,f)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(p=g(x.slice(),k,y,m(c)),l=1;v>l;l+=1)p=g(p,f,0,b(e));return u(p)},this.getHMAC=function(t,n){var u,l,d,v;if(!1===T)throw Error("Cannot call getHMAC without first setting HMAC key");switch(d=s(n),t){case"HEX":u=function(e){return i(e,f,d)};break;case"B64":u=function(e){return r(e,f,d)};break;case"BYTES":u=function(e){return o(e,f)};break;case"ARRAYBUFFER":try{u=new ArrayBuffer(0)}catch(w){throw Error("ARRAYBUFFER not supported by this environment")}u=function(e){return a(e,f)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return l=g(x.slice(),k,y,m(c)),v=h(A,b(e)),v=g(l,f,p,v),u(v)}}function n(){}function i(e,t,n){var i="";t/=8;var r,o;for(r=0;t>r;r+=1)o=e[r>>>2]>>>8*(3+r%4*-1),i+="0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o);return n.outputUpper?i.toUpperCase():i}function r(e,t,n){var i,r,o,a="",s=t/8;for(i=0;s>i;i+=3)for(r=s>i+1?e[i+1>>>2]:0,o=s>i+2?e[i+2>>>2]:0,o=(e[i>>>2]>>>8*(3+i%4*-1)&255)<<16|(r>>>8*(3+(i+1)%4*-1)&255)<<8|o>>>8*(3+(i+2)%4*-1)&255,r=0;4>r;r+=1)a+=t>=8*i+6*r?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-r)&63):n.b64Pad;return a}function o(e,t){var n,i,r="",o=t/8;for(n=0;o>n;n+=1)i=e[n>>>2]>>>8*(3+n%4*-1)&255,r+=String.fromCharCode(i);return r}function a(e,t){var n,i,r=t/8,o=new ArrayBuffer(r);for(i=new Uint8Array(o),n=0;r>n;n+=1)i[n]=e[n>>>2]>>>8*(3+n%4*-1)&255;return o}function s(e){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),"boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function u(e,t){var n;switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":n=function(e,t,n){var i,r,o,a,s,u=e.length;if(0!==u%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],n=n||0,s=n>>>3,i=0;u>i;i+=2){if(r=parseInt(e.substr(i,2),16),isNaN(r))throw Error("String of HEX type contains invalid characters");for(a=(i>>>1)+s,o=a>>>2;t.length<=o;)t.push(0);t[o]|=r<<8*(3+a%4*-1)}return{value:t,binLen:4*u+n}};break;case"TEXT":n=function(e,n,i){var r,o,a,s,u,l,c,d,f=0;if(n=n||[0],i=i||0,u=i>>>3,"UTF8"===t)for(d=3,a=0;a<e.length;a+=1)for(r=e.charCodeAt(a),o=[],128>r?o.push(r):2048>r?(o.push(192|r>>>6),o.push(128|63&r)):55296>r||r>=57344?o.push(224|r>>>12,128|r>>>6&63,128|63&r):(a+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(a)),o.push(240|r>>>18,128|r>>>12&63,128|r>>>6&63,128|63&r)),s=0;s<o.length;s+=1){for(c=f+u,l=c>>>2;n.length<=l;)n.push(0);n[l]|=o[s]<<8*(d+c%4*-1),f+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(d=2,o="UTF16LE"===t&&!0||"UTF16LE"!==t&&!1,a=0;a<e.length;a+=1){for(r=e.charCodeAt(a),!0===o&&(s=255&r,r=s<<8|r>>>8),c=f+u,l=c>>>2;n.length<=l;)n.push(0);n[l]|=r<<8*(d+c%4*-1),f+=2}return{value:n,binLen:8*f+i}};break;case"B64":n=function(e,t,n){var i,r,o,a,s,u,l,c=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(r=e.indexOf("="),e=e.replace(/\=/g,""),-1!==r&&r<e.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],n=n||0,u=n>>>3,r=0;r<e.length;r+=4){for(s=e.substr(r,4),o=a=0;o<s.length;o+=1)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(s[o]),a|=i<<18-6*o;for(o=0;o<s.length-1;o+=1){for(l=c+u,i=l>>>2;t.length<=i;)t.push(0);t[i]|=(a>>>16-8*o&255)<<8*(3+l%4*-1),c+=1}}return{value:t,binLen:8*c+n}};break;case"BYTES":n=function(e,t,n){var i,r,o,a,s;for(t=t||[0],n=n||0,o=n>>>3,r=0;r<e.length;r+=1)i=e.charCodeAt(r),s=r+o,a=s>>>2,t.length<=a&&t.push(0),t[a]|=i<<8*(3+s%4*-1);return{value:t,binLen:8*e.length+n}};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(i){throw Error("ARRAYBUFFER not supported by this environment")}n=function(e,t,n){var i,r,o,a,s;for(t=t||[0],n=n||0,r=n>>>3,s=new Uint8Array(e),i=0;i<e.byteLength;i+=1)a=i+r,o=a>>>2,t.length<=o&&t.push(0),t[o]|=s[i]<<8*(3+a%4*-1);return{value:t,binLen:8*e.byteLength+n}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return n}function l(e,t){return e>>>t|e<<32-t}function c(e,t,n){return e&t^~e&n}function d(e,t,n){return e&t^e&n^t&n}function f(e){return l(e,2)^l(e,13)^l(e,22)}function p(e){return l(e,6)^l(e,11)^l(e,25)}function h(e){return l(e,7)^l(e,18)^e>>>3}function g(e){return l(e,17)^l(e,19)^e>>>10}function m(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function v(e,t,n,i){var r=(65535&e)+(65535&t)+(65535&n)+(65535&i);return((e>>>16)+(t>>>16)+(n>>>16)+(i>>>16)+(r>>>16)&65535)<<16|65535&r}function y(e,t,n,i,r){var o=(65535&e)+(65535&t)+(65535&n)+(65535&i)+(65535&r);return((e>>>16)+(t>>>16)+(n>>>16)+(i>>>16)+(r>>>16)+(o>>>16)&65535)<<16|65535&o}function b(e){var t,i=[];if(0!==e.lastIndexOf("SHA-",0))throw Error("No SHA variants supported");switch(i=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],t=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":break;case"SHA-256":i=t;break;case"SHA-384":i=[new n,new n,new n,new n,new n,new n,new n,new n];break;case"SHA-512":i=[new n,new n,new n,new n,new n,new n,new n,new n];break;default:throw Error("Unknown SHA variant")}return i}function w(e,t,n){var i,r,o,a,s,u,l,b,w,k,T,_,A,E,S,C,R,O,j,N,D,M,L,P=[];if("SHA-224"!==n&&"SHA-256"!==n)throw Error("Unexpected error in SHA-2 implementation");for(k=64,_=1,M=Number,A=m,E=v,S=y,C=h,R=g,O=f,j=p,D=d,N=c,L=x,n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],T=0;k>T;T+=1)16>T?(w=T*_,b=e.length<=w?0:e[w],w=e.length<=w+1?0:e[w+1],P[T]=new M(b,w)):P[T]=E(R(P[T-2]),P[T-7],C(P[T-15]),P[T-16]),b=S(l,j(a),N(a,s,u),L[T],P[T]),w=A(O(n),D(n,i,r)),l=u,u=s,s=a,a=A(o,b),o=r,r=i,i=n,n=A(b,w);return t[0]=A(n,t[0]),t[1]=A(i,t[1]),t[2]=A(r,t[2]),t[3]=A(o,t[3]),t[4]=A(a,t[4]),t[5]=A(s,t[5]),t[6]=A(u,t[6]),t[7]=A(l,t[7]),t}var x;x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],"function"==typeof define&&define.amd?define("utils/jssha",[],function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=t),exports=t):e.jsSHA=t}(this),define("playtomic",["utils/jssha","logger","runtime","dialogs_manager","utils/constants"],function(e,t,n,i,r){function o(e,t){return{success:e,errorcode:t}}function a(e,t){i.open({method:"achievements",redirect_uri:n.getRedirectUri(),h:e,q:t})}function s(e,t){var r={method:"advanced_scores",redirect_uri:n.getRedirectUri(),h:e,q:t};n.getOAuthToken()&&(r.u=n.getAuthResponse().details.pid),i.open(r)}function u(e,t,n){e&&e(n)}function l(e){return e&&"http:"==window.location.protocol&&-1!=e.search("https")&&(e=e.split("https").join("http")),e}var c={apiurl:l(r.playtomic_url),appid:null,appsession:"",loaded:!1,debug:!1,initResponse:{},init:function(e,n,i){var r=this;if(this.appid=e,this.loaded)return void(i&&i(this.initResponse.data,this.initResponse.response));var o=function(e,n,i,o){return r.initResponse.data=i,r.initResponse.response=o,o.success?(r.loaded=!0,r.appsession=i.appsession,this.debug&&t.log("playtomic init"),void(e&&e(i,o))):void(e&&e(i,o))};this.sendAPIRequest("init","start",o,i,null)},Achievements:{list:function(e){e||(e={}),n.getOAuthToken()&&(e.playerid=n.getAuthResponse().details.pid),c.requestForwarder("achievements","list",a,e)},listCustom:function(e,t){e||(e={}),n.getOAuthToken()&&(e.playerid=n.getAuthResponse().details.pid),c.sendAPIRequest("achievements","list",u,t,e)},save:function(e,i){return n.getOAuthToken()?(e.hasOwnProperty("playerid")||(e.playerid=n.getAuthResponse().details.pid),e.hasOwnProperty("playername")||(e.playername=n.getAuthResponse().details.nickname),void c.sendAPIRequest("achievements","save",u,i,e)):void(this.debug&&t.log("user must login before saving an achievement"))}},Leaderboards:{tables:function(e,t){c.sendAPIRequest("leaderboards","tables",u,t,e)},list:function(e){e.page=1,e.perpage=10,c.requestForwarder("leaderboards","list",s,e)},listCustom:function(e,t){c.sendAPIRequest("leaderboards","list",u,t,e)},save:function(e,i){return n.getOAuthToken()?(e.hasOwnProperty("playerid")||(e.playerid=n.getAuthResponse().details.pid),e.hasOwnProperty("playername")||(e.playername=n.getAuthResponse().details.nickname),void c.sendAPIRequest("leaderboards","save",u,i,e)):void(this.debug&&t.log("user must login before saving an achievement"))}},PlayerMaps:{save:function(e,i,r,o){if(!n.getOAuthToken())return void(this.debug&&t.log("user must login before saving a map"));r=r||n.getAuthResponse().details.nickname;var a={name:e,data:i,playerid:n.getAuthResponse().details.pid,playername:r};c.sendAPIRequest("playerlevels","save",u,o,a)},list:function(){},listCustom:function(e,n,i,r,o){if(r){if(n>10&&this.debug)return t.log("perPage set too high on mapListCustom"),!1}else if(n>50&&this.debug)return t.log("perPage set too high on mapListCustom"),!1;var a={mode:e,perpage:n,page:i,data:r};c.sendAPIRequest("playerlevels","list",u,o,a)},load:function(e,t){var n={levelid:e};c.sendAPIRequest("playerlevels","load",u,t,n)},rate:function(e,i,r){if(!n.getOAuthToken())return void(this.debug&&t.log("user must login before rating a map"));var o={levelid:e,rating:i,playerid:n.getAuthResponse().details.pid};c.sendAPIRequest("playerlevels","rate",u,r,o)}},sendAPIRequest:function(n,i,r,a,s){var u=this;s=s||{},s.section=n,s.action=i,s.appid||(s.appid=this.appid,"init"!=n&&!this.loaded&&this.debug&&t.log("init has yet to be called, trying to send anyway"));var l=JSON.stringify(s),c=new e("SHA-256","TEXT");c.update(l+this.appsession);var d=c.getHash("HEX");d=d.substring(0,20);var f=this.apiurl+"?hash="+d,p=l,h=window.XDomainRequest?new XDomainRequest:new XMLHttpRequest;h.onerror=function(){r(a,s,{},o(!1,1))},h.onload=function(){u.debug&&t.log(h.responseText);var e=JSON.parse(h.responseText);r(a,s,e,o(e.success,e.errorcode))},window.XDomainRequest?h.open("POST",f):h.open("POST",f,!0),h.send(p)},requestForwarder:function(t,n,i,r){r=r||{},r.section=t,r.action=n,r.appid=this.appid;var o=JSON.stringify(r),a=new e("SHA-256","TEXT");a.update(o+this.appsession);var s=a.getHash("HEX");s=s.substring(0,20);this.apiurl+"?hash="+s;i&&i(s,o)}};return c}),define("playtomic_helper",["require","utils/jssha","logger","runtime","dialogs_manager","utils/constants"],function(e){function t(e,t){return{success:e,errorcode:t}}var n=e("utils/jssha"),i=e("logger"),r=e("runtime"),o=(e("dialogs_manager"),e("utils/constants")),a="",s=!1,u=!1,l={},c={init:function(e){if(s)return void(e&&e(l.data,l.response));var t=function(e,t,n,r){return r.success?(l.data=n,l.response=r,s=!0,a=n.appsession,u&&i.log("playtomic init"),void(e&&e(n,r))):void(e&&e(n,r))};c.sendAPIRequest("init","start",t,e,null)},sendAPIRequest:function(e,a,s,u,l){var c=this;l=l||{},l.section=e,l.action=a,l.appid||(l.appid=r.getAppId(),"init"!=e&&!this.loaded&&this.debug&&i.log("init has yet to be called, trying to send anyway"));var d=JSON.stringify(l),f=new n("SHA-256","TEXT");f.update(d+this.appsession);var p=f.getHash("HEX");p=p.substring(0,20);var h=o.playtomic_url+"?hash="+p,g=d,m=new XMLHttpRequest;m.onerror=function(){s(u,l,{},t(!1,1))},m.onload=function(){c.debug&&i.log(m.responseText);var e=JSON.parse(m.responseText);s(u,l,e,t(e.success,e.errorcode))},m.open("POST",h,!0),m.send(g)},requestForwarder:function(e,t,i,a){a=a||{},a.section=e,a.action=t,a.appid=r.getAppId();var s=JSON.stringify(a),u=new n("SHA-256","TEXT");u.update(s+this.appsession);var l=u.getHash("HEX");l=l.substring(0,20);o.playtomic_url+"?hash="+l;i&&i(l,s)}};return c}),define("text!views/leaderboard.html",[],function(){return'<div class="white leaderboard">\n  <div id="close" class="close">&times;</div>\n  <header>\n    <div class="sixteen columns pl15">\n      <span>High Scores</span>\n    </div>\n  </header>\n  <div class="butwrap">\n    <div class="modebut alltime">\n      All Time\n    </div>\n    <div class="modebut last30days">\n      30 Days\n    </div>\n    <div class="modebut last7days">\n      7 Days\n    </div>\n    <div class="modebut newest">\n      Newest\n    </div>\n  </div>\n  <div class="nopadding playerscore">\n    <span class="gray pmsg">\n      Personal best\n    </span>\n    <span class="blueish pscore"></span>\n    <a href="#" class="regbut success button medium padding40 radius">New Account</a>\n  </div>\n  <div class="scores"></div>\n\n  <div class="pagination">\n    <img src="<%= cdn %>/sdk/advanced_scores/left-arrow.png" alt="left arrow" class="left-arrow">\n    <div class="page">Page 99</div>\n    <img src="<%= cdn %>/sdk/advanced_scores/right-arrow.png" alt="right arrow" class="right-arrow">\n  </div>\n\n  <footer>\n    <img src="<%= cdn %>/sdk/logo/y8-account-logo.png" alt="logo" width="45" height="32">\n  </footer>\n</div>\n'}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:"function"==typeof define&&define.amd&&define("utils/jquery-amd",["require","module"],function(e,n){n.exports=function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}})}("undefined"!=typeof window?window:this,function(e,t){function n(e,t,n){t=t||at;var i,r=t.createElement("script");if(r.text=e,n)for(i in wt)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function i(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ft[pt.call(e)]||"object":typeof e}function r(e){var t=!!e&&"length"in e&&e.length,n=i(e);return yt(e)||bt(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return yt(t)?kt.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?kt.grep(e,function(e){return e===t!==n}):"string"!=typeof t?kt.grep(e,function(e){return dt.call(t,e)>-1!==n}):kt.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return kt.each(e.match(Mt)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function c(e){throw e}function d(e,t,n,i){var r;try{e&&yt(r=e.promise)?r.call(e).done(t).fail(n):e&&yt(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function f(){at.removeEventListener("DOMContentLoaded",f),e.removeEventListener("load",f),kt.ready()}function p(e,t){return t.toUpperCase()}function h(e){return e.replace(It,"ms-").replace(qt,p)}function g(){this.expando=kt.expando+g.uid++}function m(e){return"true"===e?!0:"false"===e?!1:"null"===e?null:e===+e+""?+e:Ut.test(e)?JSON.parse(e):e}function v(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Wt,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n=m(n)}catch(r){}zt.set(e,t,n)}else n=void 0;return n}function y(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return kt.css(e,t,"")},u=s(),l=n&&n[3]||(kt.cssNumber[t]?"":"px"),c=(kt.cssNumber[t]||"px"!==l&&+u)&&$t.exec(kt.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)kt.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c=2*c,kt.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function b(e){var t,n=e.ownerDocument,i=e.nodeName,r=Yt[i];return r?r:(t=n.body.appendChild(n.createElement(i)),r=kt.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),Yt[i]=r,r)}function w(e,t){for(var n,i,r=[],o=0,a=e.length;a>o;o++)i=e[o],i.style&&(n=i.style.display,t?("none"===n&&(r[o]=Bt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Vt(i)&&(r[o]=b(i))):"none"!==n&&(r[o]="none",Bt.set(i,"display",n)));for(o=0;a>o;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}function x(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?kt.merge([e],n):n}function k(e,t){for(var n=0,i=e.length;i>n;n++)Bt.set(e[n],"globalEval",!t||Bt.get(t[n],"globalEval"))}function T(e,t,n,r,o){for(var a,s,u,l,c,d,f=t.createDocumentFragment(),p=[],h=0,g=e.length;g>h;h++)if(a=e[h],a||0===a)if("object"===i(a))kt.merge(p,a.nodeType?[a]:a);else if(tn.test(a)){for(s=s||f.appendChild(t.createElement("div")),u=(Kt.exec(a)||["",""])[1].toLowerCase(),l=en[u]||en._default,s.innerHTML=l[1]+kt.htmlPrefilter(a)+l[2],d=l[0];d--;)s=s.lastChild;kt.merge(p,s.childNodes),s=f.firstChild,s.textContent=""}else p.push(t.createTextNode(a));for(f.textContent="",h=0;a=p[h++];)if(r&&kt.inArray(a,r)>-1)o&&o.push(a);else if(c=kt.contains(a.ownerDocument,a),s=x(f.appendChild(a),"script"),c&&k(s),n)for(d=0;a=s[d++];)Zt.test(a.type||"")&&n.push(a);return f}function _(){return!0}function A(){return!1}function E(){try{return at.activeElement}catch(e){}}function S(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)S(e,s,n,i,t[s],o);
return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=A;else if(!r)return e;return 1===o&&(a=r,r=function(e){return kt().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=kt.guid++)),e.each(function(){kt.event.add(this,t,r,i,n)})}function C(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?kt(e).children("tbody")[0]||e:e}function R(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function O(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function j(e,t){var n,i,r,o,a,s,u,l;if(1===t.nodeType){if(Bt.hasData(e)&&(o=Bt.access(e),a=Bt.set(t,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)kt.event.add(t,r,l[r][n])}zt.hasData(e)&&(s=zt.access(e),u=kt.extend({},s),zt.set(t,u))}}function N(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Qt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function D(e,t,i,r){t=lt.apply([],t);var o,a,s,u,l,c,d=0,f=e.length,p=f-1,h=t[0],g=yt(h);if(g||f>1&&"string"==typeof h&&!vt.checkClone&&ln.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),D(o,t,i,r)});if(f&&(o=T(t,e[0].ownerDocument,!1,e,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=kt.map(x(o,"script"),R),u=s.length;f>d;d++)l=o,d!==p&&(l=kt.clone(l,!0,!0),u&&kt.merge(s,x(l,"script"))),i.call(e[d],l,d);if(u)for(c=s[s.length-1].ownerDocument,kt.map(s,O),d=0;u>d;d++)l=s[d],Zt.test(l.type||"")&&!Bt.access(l,"globalEval")&&kt.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?kt._evalUrl&&kt._evalUrl(l.src):n(l.textContent.replace(cn,""),c,l))}return e}function M(e,t,n){for(var i,r=t?kt.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||kt.cleanData(x(i)),i.parentNode&&(n&&kt.contains(i.ownerDocument,i)&&k(x(i,"script")),i.parentNode.removeChild(i));return e}function L(e,t,n){var i,r,o,a,s=e.style;return n=n||fn(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||kt.contains(e.ownerDocument,e)||(a=kt.style(e,t)),!vt.pixelBoxStyles()&&dn.test(a)&&pn.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function P(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function H(e){if(e in bn)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=yn.length;n--;)if(e=yn[n]+t,e in bn)return e}function I(e){var t=kt.cssProps[e];return t||(t=kt.cssProps[e]=H(e)||e),t}function q(e,t,n){var i=$t.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function F(e,t,n,i,r,o){var a="width"===t?1:0,s=0,u=0;if(n===(i?"border":"content"))return 0;for(;4>a;a+=2)"margin"===n&&(u+=kt.css(e,n+Jt[a],!0,r)),i?("content"===n&&(u-=kt.css(e,"padding"+Jt[a],!0,r)),"margin"!==n&&(u-=kt.css(e,"border"+Jt[a]+"Width",!0,r))):(u+=kt.css(e,"padding"+Jt[a],!0,r),"padding"!==n?u+=kt.css(e,"border"+Jt[a]+"Width",!0,r):s+=kt.css(e,"border"+Jt[a]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function B(e,t,n){var i=fn(e),r=L(e,t,i),o="border-box"===kt.css(e,"boxSizing",!1,i),a=o;if(dn.test(r)){if(!n)return r;r="auto"}return a=a&&(vt.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===kt.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),r=parseFloat(r)||0,r+F(e,t,n||(o?"border":"content"),a,i,r)+"px"}function z(e,t,n,i,r){return new z.prototype.init(e,t,n,i,r)}function U(){xn&&(at.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(U):e.setTimeout(U,kt.fx.interval),kt.fx.tick())}function W(){return e.setTimeout(function(){wn=void 0}),wn=Date.now()}function X(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=Jt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function $(e,t,n){for(var i,r=(G.tweeners[t]||[]).concat(G.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function J(e,t,n){var i,r,o,a,s,u,l,c,d="width"in t||"height"in t,f=this,p={},h=e.style,g=e.nodeType&&Vt(e),m=Bt.get(e,"fxshow");n.queue||(a=kt._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,kt.queue(e,"fx").length||a.empty.fire()})}));for(i in t)if(r=t[i],kn.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||kt.style(e,i)}if(u=!kt.isEmptyObject(t),u||!kt.isEmptyObject(p)){d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=m&&m.display,null==l&&(l=Bt.get(e,"display")),c=kt.css(e,"display"),"none"===c&&(l?c=l:(w([e],!0),l=e.style.display||l,c=kt.css(e,"display"),w([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===kt.css(e,"float")&&(u||(f.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(i in p)u||(m?"hidden"in m&&(g=m.hidden):m=Bt.access(e,"fxshow",{display:l}),o&&(m.hidden=!g),g&&w([e],!0),f.done(function(){g||w([e]),Bt.remove(e,"fxshow");for(i in p)kt.style(e,i,p[i])})),u=$(g?m[i]:0,i,f),i in m||(m[i]=u.start,g&&(u.end=u.start,u.start=0))}}function V(e,t){var n,i,r,o,a;for(n in e)if(i=h(n),r=t[i],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=kt.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function G(e,t,n){var i,r,o=0,a=G.prefilters.length,s=kt.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=wn||W(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,o=1-i,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:kt.extend({},t),opts:kt.extend(!0,{specialEasing:{},easing:kt.easing._default},n),originalProperties:t,originalOptions:n,startTime:wn||W(),duration:n.duration,tweens:[],createTween:function(t,n){var i=kt.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(V(c,l.opts.specialEasing);a>o;o++)if(i=G.prefilters[o].call(l,e,c,l.opts))return yt(i.stop)&&(kt._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return kt.map(c,$,l),yt(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),kt.fx.timer(kt.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function Y(e){var t=e.match(Mt)||[];return t.join(" ")}function Q(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Mt)||[]:[]}function Z(e,t,n,r){var o;if(Array.isArray(t))kt.each(t,function(t,i){n||Mn.test(e)?r(e,i):Z(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==i(t))r(e,t);else for(o in t)Z(e+"["+o+"]",t[o],n,r)}function et(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(Mt)||[];if(yt(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function tt(e,t,n,i){function r(s){var u;return o[s]=!0,kt.each(e[s]||[],function(e,s){var l=s(t,n,i);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var o={},a=e===$n;return r(t.dataTypes[0])||!o["*"]&&r("*")}function nt(e,t){var n,i,r=kt.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&kt.extend(!0,e,i),e}function it(e,t,n){for(var i,r,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function rt(e,t,n,i){var r,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var ot=[],at=e.document,st=Object.getPrototypeOf,ut=ot.slice,lt=ot.concat,ct=ot.push,dt=ot.indexOf,ft={},pt=ft.toString,ht=ft.hasOwnProperty,gt=ht.toString,mt=gt.call(Object),vt={},yt=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},bt=function(e){return null!=e&&e===e.window},wt={type:!0,src:!0,noModule:!0},xt="3.3.1",kt=function(e,t){return new kt.fn.init(e,t)},Tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;kt.fn=kt.prototype={jquery:xt,constructor:kt,length:0,toArray:function(){return ut.call(this)},get:function(e){return null==e?ut.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=kt.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return kt.each(this,e)},map:function(e){return this.pushStack(kt.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:ot.sort,splice:ot.splice},kt.extend=kt.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||yt(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(l&&i&&(kt.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&kt.isPlainObject(n)?n:{},a[t]=kt.extend(l,o,i)):void 0!==i&&(a[t]=i));return a},kt.extend({expando:"jQuery"+(xt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return e&&"[object Object]"===pt.call(e)?(t=st(e))?(n=ht.call(t,"constructor")&&t.constructor,"function"==typeof n&&gt.call(n)===mt):!0:!1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;n>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(Tt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?kt.merge(n,"string"==typeof e?[e]:e):ct.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:dt.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;i>a;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return lt.apply([],s)},guid:1,support:vt}),"function"==typeof Symbol&&(kt.fn[Symbol.iterator]=ot[Symbol.iterator]),kt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ft["[object "+t+"]"]=t.toLowerCase()});var _t=function(e){function t(e,t,n,i){var r,o,a,s,u,l,c,f=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:B)!==D&&N(t),t=t||D,L)){if(11!==h&&(u=vt.exec(e)))if(r=u[1]){if(9===h){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&q(t,a)&&a.id===r)return n.push(a),n}else{if(u[2])return K.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&k.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(r)),n}if(!(!k.qsa||$[e+" "]||P&&P.test(e))){if(1!==h)f=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xt,kt):t.setAttribute("id",s=F),l=E(e),o=l.length;o--;)l[o]="#"+s+" "+p(l[o]);c=l.join(","),f=yt.test(e)&&d(t.parentNode)||t}if(c)try{return K.apply(n,f.querySelectorAll(c)),n}catch(g){}finally{s===F&&t.removeAttribute("id")}}}return C(e.replace(st,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=D.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)T.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&_t(t)===e:t.disabled===e:"label"in t?t.disabled===e:!1}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=U++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,u){var l,c,d,f=[z,s];if(u){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(d=t[F]||(t[F]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((l=c[o])&&l[0]===z&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=e(t,n,u))return!0}return!1}}function g(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function v(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),l&&t.push(s));return a}function y(e,t,n,r,o,a){return r&&!r[F]&&(r=y(r)),o&&!o[F]&&(o=y(o,a)),i(function(i,a,s,u){var l,c,d,f=[],p=[],h=a.length,g=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?g:v(g,f,e,s,u),b=n?o||(i?e:h||r)?[]:a:y;if(n&&n(y,b,s,u),r)for(l=v(b,p),r(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(i){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?et(i,d):f[c])>-1&&(i[l]=!(a[l]=d))}}else b=v(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function b(e){for(var t,n,i,r=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),l=h(function(e){return et(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==R)||((t=n).nodeType?u(e,n,i):l(e,n,i));return t=null,r}];r>s;s++)if(n=T.relative[e[s].type])c=[h(g(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[F]){for(i=++s;r>i&&!T.relative[e[i].type];i++);return y(s>1&&g(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(st,"$1"),n,i>s&&b(e.slice(s,i)),r>i&&b(e=e.slice(i)),r>i&&p(e))}c.push(n)}return g(c)}function w(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,u,l){var c,d,f,p=0,h="0",g=i&&[],m=[],y=R,b=i||o&&T.find.TAG("*",l),w=z+=null==y?1:Math.random()||.1,x=b.length;for(l&&(R=a===D||a||l);h!==x&&null!=(c=b[h]);h++){if(o&&c){for(d=0,a||c.ownerDocument===D||(N(c),s=!L);f=e[d++];)if(f(c,a||D,s)){u.push(c);break}l&&(z=w)}r&&((c=!f&&c)&&p--,i&&g.push(c))}if(p+=h,r&&h!==p){for(d=0;f=n[d++];)f(g,m,a,s);if(i){if(p>0)for(;h--;)g[h]||m[h]||(m[h]=Y.call(u));m=v(m)}K.apply(u,m),l&&!i&&m.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(z=w,R=y),g};return r?i(a):a}var x,k,T,_,A,E,S,C,R,O,j,N,D,M,L,P,H,I,q,F="sizzle"+1*new Date,B=e.document,z=0,U=0,W=n(),X=n(),$=n(),J=function(e,t){return e===t&&(j=!0),0},V={}.hasOwnProperty,G=[],Y=G.pop,Q=G.push,K=G.push,Z=G.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ft=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,kt=function(e,t){return t?"\x00"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Tt=function(){N()},_t=h(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply(G=Z.call(B.childNodes),B.childNodes),G[B.childNodes.length].nodeType}catch(At){K={apply:G.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}k=t.support={},A=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:B;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,M=D.documentElement,L=!A(D),B!==D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),k.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=r(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=mt.test(D.getElementsByClassName),k.getById=r(function(e){return M.appendChild(e).id=F,!D.getElementsByName||!D.getElementsByName(F).length}),k.getById?(T.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){return e.getAttribute("id")===t}},T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}}):(T.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n,i,r,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),T.find.TAG=k.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):k.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.CLASS=k.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&L?t.getElementsByClassName(e):void 0},H=[],P=[],(k.qsa=mt.test(D.querySelectorAll))&&(r(function(e){M.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+F+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||P.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(k.matchesSelector=mt.test(I=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(e){k.disconnectedMatch=I.call(e,"*"),I.call(e,"[s!='']:x"),H.push("!=",ot)}),P=P.length&&new RegExp(P.join("|")),H=H.length&&new RegExp(H.join("|")),t=mt.test(M.compareDocumentPosition),q=t||mt.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},J=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!k.sortDetached&&t.compareDocumentPosition(e)===n?e===D||e.ownerDocument===B&&q(B,e)?-1:t===D||t.ownerDocument===B&&q(B,t)?1:O?et(O,e)-et(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!r||!o)return e===D?-1:t===D?1:r?-1:o?1:O?et(O,e)-et(O,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[i]===u[i];)i++;return i?a(s[i],u[i]):s[i]===B?-1:u[i]===B?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&N(e),n=n.replace(ct,"='$1']"),!(!k.matchesSelector||!L||$[n+" "]||H&&H.test(n)||P&&P.test(n)))try{var i=I.call(e,n);if(i||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&N(e),q(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&N(e);var n=T.attrHandle[t.toLowerCase()],i=n&&V.call(T.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==i?i:k.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(xt,kt)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(j=!k.detectDuplicates,O=!k.sortStable&&e.slice(0),e.sort(J),j){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return O=null,e},_=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=_(t);return n},T=t.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(bt,wt),e[3]=(e[3]||e[4]||e[5]||"").replace(bt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(bt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(f=m,d=f[F]||(f[F]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),l=c[e]||[],p=l[0]===z&&l[1],b=p&&l[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[z,p,b];break}}else if(y&&(f=t,d=f[F]||(f[F]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),l=c[e]||[],p=l[0]===z&&l[1],b=p),b===!1)for(;(f=++p&&f&&f[g]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(d=f[F]||(f[F]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[e]=[z,b]),f!==t)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(r=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=et(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(st,"$1"));return r[F]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(bt,wt),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(bt,wt).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return ht.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,E=t.tokenize=function(e,n){var i,r,o,a,s,u,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!i||(r=ut.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=lt.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(a in T.filter)!(r=pt[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):X(e,u).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],o=$[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=b(t[n]),o[F]?i.push(o):r.push(o);o=$(e,w(r,i)),o.selector=e}return o},C=t.select=function(e,t,n,i){var r,o,a,s,u,l="function"==typeof e&&e,c=!i&&E(e=l.selector||e);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&L&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(bt,wt),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pt.needsContext.test(e)?0:o.length;r--&&(a=o[r],!T.relative[s=a.type]);)if((u=T.find[s])&&(i=u(a.matches[0].replace(bt,wt),yt.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return K.apply(n,i),n;break}}return(l||S(e,c))(i,t,!L,n,!t||yt.test(e)&&d(t.parentNode)||t),n},k.sortStable=F.split("").sort(J).join("")===F,k.detectDuplicates=!!j,N(),k.sortDetached=r(function(e){return 1&e.compareDocumentPosition(D.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);kt.find=_t,kt.expr=_t.selectors,kt.expr[":"]=kt.expr.pseudos,kt.uniqueSort=kt.unique=_t.uniqueSort,kt.text=_t.getText,kt.isXMLDoc=_t.isXML,kt.contains=_t.contains,kt.escapeSelector=_t.escape;var At=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&kt(e).is(n))break;i.push(e)}return i},Et=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},St=kt.expr.match.needsContext,Ct=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;kt.filter=function(e,t,n){var i=t[0];
return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?kt.find.matchesSelector(i,e)?[i]:[]:kt.find.matches(e,kt.grep(t,function(e){return 1===e.nodeType}))},kt.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(kt(e).filter(function(){for(t=0;i>t;t++)if(kt.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;i>t;t++)kt.find(e,r[t],n);return i>1?kt.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&St.test(e)?kt(e):e||[],!1).length}});var Rt,Ot=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,jt=kt.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Rt,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ot.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof kt?t[0]:t,kt.merge(this,kt.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:at,!0)),Ct.test(i[1])&&kt.isPlainObject(t))for(i in t)yt(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=at.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):yt(e)?void 0!==n.ready?n.ready(e):e(kt):kt.makeArray(e,this)};jt.prototype=kt.fn,Rt=kt(at);var Nt=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};kt.fn.extend({has:function(e){var t=kt(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(kt.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&kt(e);if(!St.test(e))for(;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&kt.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?kt.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?dt.call(kt(e),this[0]):dt.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(kt.uniqueSort(kt.merge(this.get(),kt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),kt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return At(e,"parentNode")},parentsUntil:function(e,t,n){return At(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return At(e,"nextSibling")},prevAll:function(e){return At(e,"previousSibling")},nextUntil:function(e,t,n){return At(e,"nextSibling",n)},prevUntil:function(e,t,n){return At(e,"previousSibling",n)},siblings:function(e){return Et((e.parentNode||{}).firstChild,e)},children:function(e){return Et(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),kt.merge([],e.childNodes))}},function(e,t){kt.fn[e]=function(n,i){var r=kt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=kt.filter(i,r)),this.length>1&&(Dt[e]||kt.uniqueSort(r),Nt.test(e)&&r.reverse()),this.pushStack(r)}});var Mt=/[^\x20\t\r\n\f]+/g;kt.Callbacks=function(e){e="string"==typeof e?u(e):kt.extend({},e);var t,n,r,o,a=[],s=[],l=-1,c=function(){for(o=o||e.once,r=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},d={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function r(t){kt.each(t,function(t,n){yt(n)?e.unique&&d.has(n)||a.push(n):n&&n.length&&"string"!==i(n)&&r(n)})}(arguments),n&&!t&&c()),this},remove:function(){return kt.each(arguments,function(e,t){for(var n;(n=kt.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){return e?kt.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},kt.extend({Deferred:function(t){var n=[["notify","progress",kt.Callbacks("memory"),kt.Callbacks("memory"),2],["resolve","done",kt.Callbacks("once memory"),kt.Callbacks("once memory"),0,"resolved"],["reject","fail",kt.Callbacks("once memory"),kt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return r.then(null,e)},pipe:function(){var e=arguments;return kt.Deferred(function(t){kt.each(n,function(n,i){var r=yt(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&yt(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){function o(t,n,i,r){return function(){var s=this,u=arguments,d=function(){var e,d;if(!(a>t)){if(e=i.apply(s,u),e===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,yt(d)?r?d.call(e,o(a,n,l,r),o(a,n,c,r)):(a++,d.call(e,o(a,n,l,r),o(a,n,c,r),o(a,n,l,n.notifyWith))):(i!==l&&(s=void 0,u=[e]),(r||n.resolveWith)(s,u))}},f=r?d:function(){try{d()}catch(e){kt.Deferred.exceptionHook&&kt.Deferred.exceptionHook(e,f.stackTrace),t+1>=a&&(i!==c&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?f():(kt.Deferred.getStackHook&&(f.stackTrace=kt.Deferred.getStackHook()),e.setTimeout(f))}}var a=0;return kt.Deferred(function(e){n[0][3].add(o(0,e,yt(r)?r:l,e.notifyWith)),n[1][3].add(o(0,e,yt(t)?t:l)),n[2][3].add(o(0,e,yt(i)?i:c))}).promise()},promise:function(e){return null!=e?kt.extend(e,r):r}},o={};return kt.each(n,function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add(function(){i=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=ut.call(arguments),o=kt.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?ut.call(arguments):n,--t||o.resolveWith(i,r)}};if(1>=t&&(d(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||yt(r[n]&&r[n].then)))return o.then();for(;n--;)d(r[n],a(n),o.reject);return o.promise()}});var Lt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;kt.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Lt.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},kt.readyException=function(t){e.setTimeout(function(){throw t})};var Pt=kt.Deferred();kt.fn.ready=function(e){return Pt.then(e).catch(function(e){kt.readyException(e)}),this},kt.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--kt.readyWait:kt.isReady)||(kt.isReady=!0,e!==!0&&--kt.readyWait>0||Pt.resolveWith(at,[kt]))}}),kt.ready.then=Pt.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?e.setTimeout(kt.ready):(at.addEventListener("DOMContentLoaded",f),e.addEventListener("load",f));var Ht=function(e,t,n,r,o,a,s){var u=0,l=e.length,c=null==n;if("object"===i(n)){o=!0;for(u in n)Ht(e,t,u,n[u],!0,a,s)}else if(void 0!==r&&(o=!0,yt(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(kt(e),n)})),t))for(;l>u;u++)t(e[u],n,s?r:r.call(e[u],u,t(e[u],n)));return o?e:c?t.call(e):l?t(e[0],n):a},It=/^-ms-/,qt=/-([a-z])/g,Ft=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ft(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[h(t)]=n;else for(i in t)r[h(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){Array.isArray(t)?t=t.map(h):(t=h(t),t=t in i?[t]:t.match(Mt)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||kt.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!kt.isEmptyObject(t)}};var Bt=new g,zt=new g,Ut=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Wt=/[A-Z]/g;kt.extend({hasData:function(e){return zt.hasData(e)||Bt.hasData(e)},data:function(e,t,n){return zt.access(e,t,n)},removeData:function(e,t){zt.remove(e,t)},_data:function(e,t,n){return Bt.access(e,t,n)},_removeData:function(e,t){Bt.remove(e,t)}}),kt.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=zt.get(o),1===o.nodeType&&!Bt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=h(i.slice(5)),v(o,i,r[i])));Bt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){zt.set(this,e)}):Ht(this,function(t){var n;if(o&&void 0===t){if(n=zt.get(o,e),void 0!==n)return n;if(n=v(o,e),void 0!==n)return n}else this.each(function(){zt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){zt.remove(this,e)})}}),kt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Bt.get(e,t),n&&(!i||Array.isArray(n)?i=Bt.access(e,t,kt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=kt.queue(e,t),i=n.length,r=n.shift(),o=kt._queueHooks(e,t),a=function(){kt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Bt.get(e,n)||Bt.access(e,n,{empty:kt.Callbacks("once memory").add(function(){Bt.remove(e,[t+"queue",n])})})}}),kt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?kt.queue(this[0],e):void 0===t?this:this.each(function(){var n=kt.queue(this,e,t);kt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&kt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){kt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=kt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Bt.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+Xt+")([a-z%]*)$","i"),Jt=["Top","Right","Bottom","Left"],Vt=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&kt.contains(e.ownerDocument,e)&&"none"===kt.css(e,"display")},Gt=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},Yt={};kt.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Vt(this)?kt(this).show():kt(this).hide()})}});var Qt=/^(?:checkbox|radio)$/i,Kt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Zt=/^$|^module$|\/(?:java|ecma)script/i,en={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};en.optgroup=en.option,en.tbody=en.tfoot=en.colgroup=en.caption=en.thead,en.th=en.td;var tn=/<|&#?\w+;/;!function(){var e=at.createDocumentFragment(),t=e.appendChild(at.createElement("div")),n=at.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),vt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var nn=at.documentElement,rn=/^key/,on=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,an=/^([^.]*)(?:\.(.+)|)/;kt.event={global:{},add:function(e,t,n,i,r){var o,a,s,u,l,c,d,f,p,h,g,m=Bt.get(e);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&kt.find.matchesSelector(nn,r),n.guid||(n.guid=kt.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return"undefined"!=typeof kt&&kt.event.triggered!==t.type?kt.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Mt)||[""],l=t.length;l--;)s=an.exec(t[l])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p&&(d=kt.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=kt.event.special[p]||{},c=kt.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&kt.expr.match.needsContext.test(r),namespace:h.join(".")},o),(f=u[p])||(f=u[p]=[],f.delegateCount=0,d.setup&&d.setup.call(e,i,h,a)!==!1||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),kt.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,a,s,u,l,c,d,f,p,h,g,m=Bt.hasData(e)&&Bt.get(e);if(m&&(u=m.events)){for(t=(t||"").match(Mt)||[""],l=t.length;l--;)if(s=an.exec(t[l])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(d=kt.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,f=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&d.teardown.call(e,h,m.handle)!==!1||kt.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)kt.event.remove(e,p+t[l],n,i,!0);kt.isEmptyObject(u)&&Bt.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=kt.event.fix(e),u=new Array(arguments.length),l=(Bt.get(this,"events")||{})[s.type]||[],c=kt.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=kt.event.handlers.call(this,s,l),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)(!s.rnamespace||s.rnamespace.test(o.namespace))&&(s.handleObj=o,s.data=o.data,i=((kt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u),void 0!==i&&(s.result=i)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||l.disabled!==!0)){for(o=[],a={},n=0;u>n;n++)i=t[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?kt(r,this).index(l)>-1:kt.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(kt.Event.prototype,e,{enumerable:!0,configurable:!0,get:yt(t)?function(){return this.originalEvent?t(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[kt.expando]?e:new kt.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==E()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===E()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&o(this,"input")?(this.click(),!1):void 0},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},kt.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},kt.Event=function(e,t){return this instanceof kt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?_:A,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&kt.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[kt.expando]=!0)):new kt.Event(e,t)},kt.Event.prototype={constructor:kt.Event,isDefaultPrevented:A,isPropagationStopped:A,isImmediatePropagationStopped:A,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},kt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&rn.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&on.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},kt.event.addProp),kt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){kt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!kt.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),kt.fn.extend({on:function(e,t,n,i){return S(this,e,t,n,i)},one:function(e,t,n,i){return S(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,kt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=A),this.each(function(){kt.event.remove(this,e,n,t)})}});var sn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,un=/<script|<style|<link/i,ln=/checked\s*(?:[^=]|=\s*.checked.)/i,cn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;kt.extend({htmlPrefilter:function(e){return e.replace(sn,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),u=kt.contains(e.ownerDocument,e);if(!(vt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||kt.isXMLDoc(e)))for(a=x(s),o=x(e),i=0,r=o.length;r>i;i++)N(o[i],a[i]);if(t)if(n)for(o=o||x(e),a=a||x(s),i=0,r=o.length;r>i;i++)j(o[i],a[i]);else j(e,s);return a=x(s,"script"),a.length>0&&k(a,!u&&x(e,"script")),s},cleanData:function(e){for(var t,n,i,r=kt.event.special,o=0;void 0!==(n=e[o]);o++)if(Ft(n)){if(t=n[Bt.expando]){if(t.events)for(i in t.events)r[i]?kt.event.remove(n,i):kt.removeEvent(n,i,t.handle);n[Bt.expando]=void 0}n[zt.expando]&&(n[zt.expando]=void 0)}}}),kt.fn.extend({detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return Ht(this,function(e){return void 0===e?kt.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(kt.cleanData(x(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return kt.clone(this,e,t)})},html:function(e){return Ht(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!un.test(e)&&!en[(Kt.exec(e)||["",""])[1].toLowerCase()]){e=kt.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(kt.cleanData(x(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var n=this.parentNode;kt.inArray(this,e)<0&&(kt.cleanData(x(this)),n&&n.replaceChild(t,this))},e)}}),kt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){kt.fn[e]=function(e){for(var n,i=[],r=kt(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),kt(r[a])[t](n),ct.apply(i,n.get());return this.pushStack(i)}});var dn=new RegExp("^("+Xt+")(?!px)[a-z%]+$","i"),fn=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},pn=new RegExp(Jt.join("|"),"i");!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nn.appendChild(u).appendChild(l);var t=e.getComputedStyle(l);i="1%"!==t.top,s=12===n(t.marginLeft),l.style.right="60%",a=36===n(t.right),r=36===n(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",nn.removeChild(u),l=null}}function n(e){return Math.round(parseFloat(e))}var i,r,o,a,s,u=at.createElement("div"),l=at.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===l.style.backgroundClip,kt.extend(vt,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var hn=/^(none|table(?!-c[ea]).+)/,gn=/^--/,mn={position:"absolute",visibility:"hidden",display:"block"},vn={letterSpacing:"0",fontWeight:"400"},yn=["Webkit","Moz","ms"],bn=at.createElement("div").style;kt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=L(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=h(t),u=gn.test(t),l=e.style;return u||(t=I(s)),a=kt.cssHooks[t]||kt.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=$t.exec(n))&&r[1]&&(n=y(e,t,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(kt.cssNumber[s]?"":"px")),vt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(u?l.setProperty(t,n):l[t]=n)),void 0)}},css:function(e,t,n,i){var r,o,a,s=h(t),u=gn.test(t);return u||(t=I(s)),a=kt.cssHooks[t]||kt.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=L(e,t,i)),"normal"===r&&t in vn&&(r=vn[t]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),kt.each(["height","width"],function(e,t){kt.cssHooks[t]={get:function(e,n,i){return n?!hn.test(kt.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,i):Gt(e,mn,function(){return B(e,t,i)}):void 0},set:function(e,n,i){var r,o=fn(e),a="border-box"===kt.css(e,"boxSizing",!1,o),s=i&&F(e,t,i,a,o);return a&&vt.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-F(e,t,"border",!1,o)-.5)),s&&(r=$t.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=kt.css(e,t)),q(e,n,s)}}}),kt.cssHooks.marginLeft=P(vt.reliableMarginLeft,function(e,t){return t?(parseFloat(L(e,"marginLeft"))||e.getBoundingClientRect().left-Gt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),kt.each({margin:"",padding:"",border:"Width"},function(e,t){kt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Jt[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(kt.cssHooks[e+t].set=q)}),kt.fn.extend({css:function(e,t){return Ht(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=fn(e),r=t.length;r>a;a++)o[t[a]]=kt.css(e,t[a],!1,i);return o}return void 0!==n?kt.style(e,t,n):kt.css(e,t)},e,t,arguments.length>1)}}),kt.Tween=z,z.prototype={constructor:z,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||kt.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(kt.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.pos=t=this.options.duration?kt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=kt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){kt.fx.step[e.prop]?kt.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[kt.cssProps[e.prop]]&&!kt.cssHooks[e.prop]?e.elem[e.prop]=e.now:kt.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},kt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},kt.fx=z.prototype.init,kt.fx.step={};var wn,xn,kn=/^(?:toggle|show|hide)$/,Tn=/queueHooks$/;kt.Animation=kt.extend(G,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return y(n.elem,e,$t.exec(t),n),n}]},tweener:function(e,t){yt(e)?(t=e,e=["*"]):e=e.match(Mt);for(var n,i=0,r=e.length;r>i;i++)n=e[i],G.tweeners[n]=G.tweeners[n]||[],G.tweeners[n].unshift(t)},prefilters:[J],prefilter:function(e,t){t?G.prefilters.unshift(e):G.prefilters.push(e)}}),kt.speed=function(e,t,n){var i=e&&"object"==typeof e?kt.extend({},e):{complete:n||!n&&t||yt(e)&&e,duration:e,easing:n&&t||t&&!yt(t)&&t};return kt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in kt.fx.speeds?kt.fx.speeds[i.duration]:kt.fx.speeds._default),(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){yt(i.old)&&i.old.call(this),i.queue&&kt.dequeue(this,i.queue)},i},kt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Vt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=kt.isEmptyObject(e),o=kt.speed(t,n,i),a=function(){var t=G(this,kt.extend({},e),o);(r||Bt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=kt.timers,a=Bt.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&Tn.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&kt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Bt.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=kt.timers,a=i?i.length:0;for(n.finish=!0,kt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),kt.each(["toggle","show","hide"],function(e,t){var n=kt.fn[t];kt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(X(t,!0),e,i,r)}}),kt.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){kt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),kt.timers=[],kt.fx.tick=function(){var e,t=0,n=kt.timers;for(wn=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||kt.fx.stop(),wn=void 0},kt.fx.timer=function(e){kt.timers.push(e),kt.fx.start()},kt.fx.interval=13,kt.fx.start=function(){xn||(xn=!0,U())},kt.fx.stop=function(){xn=null},kt.fx.speeds={slow:600,fast:200,_default:400},kt.fn.delay=function(t,n){return t=kt.fx?kt.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=at.createElement("input"),t=at.createElement("select"),n=t.appendChild(at.createElement("option"));e.type="checkbox",vt.checkOn=""!==e.value,vt.optSelected=n.selected,e=at.createElement("input"),e.value="t",e.type="radio",vt.radioValue="t"===e.value}();var _n,An=kt.expr.attrHandle;kt.fn.extend({attr:function(e,t){return Ht(this,kt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){kt.removeAttr(this,e)})}}),kt.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?kt.prop(e,t,n):(1===o&&kt.isXMLDoc(e)||(r=kt.attrHooks[t.toLowerCase()]||(kt.expr.match.bool.test(t)?_n:void 0)),void 0!==n?null===n?void kt.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=kt.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!vt.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(Mt);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),_n={set:function(e,t,n){return t===!1?kt.removeAttr(e,n):e.setAttribute(n,n),n}},kt.each(kt.expr.match.bool.source.match(/\w+/g),function(e,t){var n=An[t]||kt.find.attr;An[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=An[a],An[a]=r,r=null!=n(e,t,i)?a:null,An[a]=o),r}});var En=/^(?:input|select|textarea|button)$/i,Sn=/^(?:a|area)$/i;kt.fn.extend({prop:function(e,t){return Ht(this,kt.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[kt.propFix[e]||e]})}}),kt.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&kt.isXMLDoc(e)||(t=kt.propFix[t]||t,r=kt.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=kt.find.attr(e,"tabindex");return t?parseInt(t,10):En.test(e.nodeName)||Sn.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),vt.optSelected||(kt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),kt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){kt.propFix[this.toLowerCase()]=this}),kt.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,u=0;
if(yt(e))return this.each(function(t){kt(this).addClass(e.call(this,t,Q(this)))});if(t=K(e),t.length)for(;n=this[u++];)if(r=Q(n),i=1===n.nodeType&&" "+Y(r)+" "){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=Y(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,u=0;if(yt(e))return this.each(function(t){kt(this).removeClass(e.call(this,t,Q(this)))});if(!arguments.length)return this.attr("class","");if(t=K(e),t.length)for(;n=this[u++];)if(r=Q(n),i=1===n.nodeType&&" "+Y(r)+" "){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=Y(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):this.each(yt(e)?function(n){kt(this).toggleClass(e.call(this,n,Q(this),t),t)}:function(){var t,r,o,a;if(i)for(r=0,o=kt(this),a=K(e);t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(void 0===e||"boolean"===n)&&(t=Q(this),t&&Bt.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Bt.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Y(Q(n))+" ").indexOf(t)>-1)return!0;return!1}});var Cn=/\r/g;kt.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=yt(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,kt(this).val()):e,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=kt.map(r,function(e){return null==e?"":e+""})),t=kt.valHooks[this.type]||kt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=kt.valHooks[r.type]||kt.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Cn,""):null==n?"":n)}}}),kt.extend({valHooks:{option:{get:function(e){var t=kt.find.attr(e,"value");return null!=t?t:Y(kt.text(e))}},select:{get:function(e){var t,n,i,r=e.options,a=e.selectedIndex,s="select-one"===e.type,u=s?null:[],l=s?a+1:r.length;for(i=0>a?l:s?a:0;l>i;i++)if(n=r[i],!(!n.selected&&i!==a||n.disabled||n.parentNode.disabled&&o(n.parentNode,"optgroup"))){if(t=kt(n).val(),s)return t;u.push(t)}return u},set:function(e,t){for(var n,i,r=e.options,o=kt.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=kt.inArray(kt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),kt.each(["radio","checkbox"],function(){kt.valHooks[this]={set:function(e,t){return Array.isArray(t)?e.checked=kt.inArray(kt(e).val(),t)>-1:void 0}},vt.checkOn||(kt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),vt.focusin="onfocusin"in e;var Rn=/^(?:focusinfocus|focusoutblur)$/,On=function(e){e.stopPropagation()};kt.extend(kt.event,{trigger:function(t,n,i,r){var o,a,s,u,l,c,d,f,p=[i||at],h=ht.call(t,"type")?t.type:t,g=ht.call(t,"namespace")?t.namespace.split("."):[];if(a=f=s=i=i||at,3!==i.nodeType&&8!==i.nodeType&&!Rn.test(h+kt.event.triggered)&&(h.indexOf(".")>-1&&(g=h.split("."),h=g.shift(),g.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[kt.expando]?t:new kt.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:kt.makeArray(n,[t]),d=kt.event.special[h]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!bt(i)){for(u=d.delegateType||h,Rn.test(u+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||at)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)f=a,t.type=o>1?u:d.bindType||h,c=(Bt.get(a,"events")||{})[t.type]&&Bt.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Ft(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Ft(i)||l&&yt(i[h])&&!bt(i)&&(s=i[l],s&&(i[l]=null),kt.event.triggered=h,t.isPropagationStopped()&&f.addEventListener(h,On),i[h](),t.isPropagationStopped()&&f.removeEventListener(h,On),kt.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(e,t,n){var i=kt.extend(new kt.Event,n,{type:e,isSimulated:!0});kt.event.trigger(i,null,t)}}),kt.fn.extend({trigger:function(e,t){return this.each(function(){kt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?kt.event.trigger(e,t,n,!0):void 0}}),vt.focusin||kt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){kt.event.simulate(t,e.target,kt.event.fix(e))};kt.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Bt.access(i,t);r||i.addEventListener(e,n,!0),Bt.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Bt.access(i,t)-1;r?Bt.access(i,t,r):(i.removeEventListener(e,n,!0),Bt.remove(i,t))}}});var jn=e.location,Nn=Date.now(),Dn=/\?/;kt.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&kt.error("Invalid XML: "+t),n};var Mn=/\[\]$/,Ln=/\r?\n/g,Pn=/^(?:submit|button|image|reset|file)$/i,Hn=/^(?:input|select|textarea|keygen)/i;kt.param=function(e,t){var n,i=[],r=function(e,t){var n=yt(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!kt.isPlainObject(e))kt.each(e,function(){r(this.name,this.value)});else for(n in e)Z(n,e[n],t,r);return i.join("&")},kt.fn.extend({serialize:function(){return kt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=kt.prop(this,"elements");return e?kt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!kt(this).is(":disabled")&&Hn.test(this.nodeName)&&!Pn.test(e)&&(this.checked||!Qt.test(e))}).map(function(e,t){var n=kt(this).val();return null==n?null:Array.isArray(n)?kt.map(n,function(e){return{name:t.name,value:e.replace(Ln,"\r\n")}}):{name:t.name,value:n.replace(Ln,"\r\n")}}).get()}});var In=/%20/g,qn=/#.*$/,Fn=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)$/gm,zn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Un=/^(?:GET|HEAD)$/,Wn=/^\/\//,Xn={},$n={},Jn="*/".concat("*"),Vn=at.createElement("a");Vn.href=jn.href,kt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jn.href,type:"GET",isLocal:zn.test(jn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":kt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?nt(nt(e,kt.ajaxSettings),t):nt(kt.ajaxSettings,e)},ajaxPrefilter:et(Xn),ajaxTransport:et($n),ajax:function(t,n){function i(t,n,i,s){var l,f,p,w,x,k=n;c||(c=!0,u&&e.clearTimeout(u),r=void 0,a=s||"",T.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(w=it(h,T,i)),w=rt(h,w,T,l),l?(h.ifModified&&(x=T.getResponseHeader("Last-Modified"),x&&(kt.lastModified[o]=x),x=T.getResponseHeader("etag"),x&&(kt.etag[o]=x)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=w.state,f=w.data,p=w.error,l=!p)):(p=k,(t||!k)&&(k="error",0>t&&(t=0))),T.status=t,T.statusText=(n||k)+"",l?v.resolveWith(g,[f,k,T]):v.rejectWith(g,[T,k,p]),T.statusCode(b),b=void 0,d&&m.trigger(l?"ajaxSuccess":"ajaxError",[T,h,l?f:p]),y.fireWith(g,[T,k]),d&&(m.trigger("ajaxComplete",[T,h]),--kt.active||kt.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,u,l,c,d,f,p,h=kt.ajaxSetup({},n),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?kt(g):kt.event,v=kt.Deferred(),y=kt.Callbacks("once memory"),b=h.statusCode||{},w={},x={},k="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Bn.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return r&&r.abort(t),i(0,t),this}};if(v.promise(T),h.url=((t||h.url||jn.href)+"").replace(Wn,jn.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Mt)||[""],null==h.crossDomain){l=at.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Vn.protocol+"//"+Vn.host!=l.protocol+"//"+l.host}catch(_){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=kt.param(h.data,h.traditional)),tt(Xn,h,n,T),c)return T;d=kt.event&&h.global,d&&0===kt.active++&&kt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Un.test(h.type),o=h.url.replace(qn,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(In,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Dn.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(o=o.replace(Fn,"$1"),p=(Dn.test(o)?"&":"?")+"_="+Nn++ +p),h.url=o+p),h.ifModified&&(kt.lastModified[o]&&T.setRequestHeader("If-Modified-Since",kt.lastModified[o]),kt.etag[o]&&T.setRequestHeader("If-None-Match",kt.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",h.contentType),T.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Jn+"; q=0.01":""):h.accepts["*"]);for(f in h.headers)T.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(h.beforeSend.call(g,T,h)===!1||c))return T.abort();if(k="abort",y.add(h.complete),T.done(h.success),T.fail(h.error),r=tt($n,h,n,T)){if(T.readyState=1,d&&m.trigger("ajaxSend",[T,h]),c)return T;h.async&&h.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},h.timeout));try{c=!1,r.send(w,i)}catch(_){if(c)throw _;i(-1,_)}}else i(-1,"No Transport");return T},getJSON:function(e,t,n){return kt.get(e,t,n,"json")},getScript:function(e,t){return kt.get(e,void 0,t,"script")}}),kt.each(["get","post"],function(e,t){kt[t]=function(e,n,i,r){return yt(n)&&(r=r||i,i=n,n=void 0),kt.ajax(kt.extend({url:e,type:t,dataType:r,data:n,success:i},kt.isPlainObject(e)&&e))}}),kt._evalUrl=function(e){return kt.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},kt.fn.extend({wrapAll:function(e){var t;return this[0]&&(yt(e)&&(e=e.call(this[0])),t=kt(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return this.each(yt(e)?function(t){kt(this).wrapInner(e.call(this,t))}:function(){var t=kt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=yt(e);return this.each(function(n){kt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){kt(this).replaceWith(this.childNodes)}),this}}),kt.expr.pseudos.hidden=function(e){return!kt.expr.pseudos.visible(e)},kt.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},kt.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Gn={0:200,1223:204},Yn=kt.ajaxSettings.xhr();vt.cors=!!Yn&&"withCredentials"in Yn,vt.ajax=Yn=!!Yn,kt.ajaxTransport(function(t){var n,i;return vt.cors||Yn&&!t.crossDomain?{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Gn[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}:void 0}),kt.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),kt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return kt.globalEval(e),e}}}),kt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),kt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=kt("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),at.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Qn=[],Kn=/(=)\?(?=&|$)|\?\?/;kt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qn.pop()||kt.expando+"_"+Nn++;return this[e]=!0,e}}),kt.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Kn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=yt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Kn,"$1"+r):t.jsonp!==!1&&(t.url+=(Dn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||kt.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?kt(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Qn.push(r)),a&&yt(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),vt.createHTMLDocument=function(){var e=at.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),kt.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,r,o;return t||(vt.createHTMLDocument?(t=at.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=at.location.href,t.head.appendChild(i)):t=at),r=Ct.exec(e),o=!n&&[],r?[t.createElement(r[1])]:(r=T([e],t,o),o&&o.length&&kt(o).remove(),kt.merge([],r.childNodes))},kt.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=Y(e.slice(s)),e=e.slice(0,s)),yt(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&kt.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?kt("<div>").append(kt.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},kt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){kt.fn[t]=function(e){return this.on(t,e)}}),kt.expr.pseudos.animated=function(e){return kt.grep(kt.timers,function(t){return e===t.elem}).length},kt.offset={setOffset:function(e,t,n){var i,r,o,a,s,u,l,c=kt.css(e,"position"),d=kt(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=kt.css(e,"top"),u=kt.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),yt(t)&&(t=t.call(e,n,kt.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):d.css(f)}},kt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){kt.offset.setOffset(this,e,t)});var t,n,i=this[0];if(i)return i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===kt.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===kt.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&(r=kt(e).offset(),r.top+=kt.css(e,"borderTopWidth",!0),r.left+=kt.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-kt.css(i,"marginTop",!0),left:t.left-r.left-kt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===kt.css(e,"position");)e=e.offsetParent;return e||nn})}}),kt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;kt.fn[e]=function(i){return Ht(this,function(e,i,r){var o;return bt(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r?o?o[t]:e[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length)}}),kt.each(["top","left"],function(e,t){kt.cssHooks[t]=P(vt.pixelPosition,function(e,n){return n?(n=L(e,t),dn.test(n)?kt(e).position()[t]+"px":n):void 0})}),kt.each({Height:"height",Width:"width"},function(e,t){kt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){kt.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return Ht(this,function(t,n,r){var o;return bt(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?kt.css(t,n,s):kt.style(t,n,r,s)},t,a?r:void 0,a)}})}),kt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){kt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),kt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),kt.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),kt.proxy=function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),yt(e)?(i=ut.call(arguments,2),r=function(){return e.apply(t||this,i.concat(ut.call(arguments)))},r.guid=e.guid=e.guid||kt.guid++,r):void 0},kt.holdReady=function(e){e?kt.readyWait++:kt.ready(!0)},kt.isArray=Array.isArray,kt.parseJSON=JSON.parse,kt.nodeName=o,kt.isFunction=yt,kt.isWindow=bt,kt.camelCase=h,kt.type=i,kt.now=Date.now,kt.isNumeric=function(e){var t=kt.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var Zn=e.jQuery,ei=e.$;return kt.noConflict=function(t){return e.$===kt&&(e.$=ei),t&&e.jQuery===kt&&(e.jQuery=Zn),kt},t||(e.jQuery=e.$=kt),kt}),define("text!stylesheets/leaderboard.css",[],function(){return".gray {\n  color: #999;\n}\n.lightgray {\n  color: #afafaf;\n}\n.blackish {\n  color: #333;\n}\n.blueish,\n.blueish a:link,\n.blueish a:visited,\n.blueish a:hover,\n.blueish a:active {\n  color: #335ea7;\n  text-decoration: none;\n}\n.leaderboard {\n  width: 480px;\n}\n.butwrap {\n  width: 100%;\n  height: 50px;\n}\n.modebut {\n  width: 21%;\n  margin: 2%;\n  height: 30px;\n  background: #335ea7;\n  float: left;\n  line-height: 30px;\n  text-align: center;\n  color: #fff;\n  font-size: 13px;\n  cursor: pointer;\n  font-weight: bold;\n}\n.activebut {\n  background: #390;\n}\n.scores {\n  padding: 5px 20px 0;\n}\n.pagination {\n  padding: 14px 0 0;\n  width: 142px;\n  margin: auto;\n  overflow: hidden;\n}\n.pagination img {\n  width: 28px;\n  height: 28px;\n  cursor: pointer;\n  float: left;\n}\n.page {\n  padding: 0 12px;\n  left: 28px;\n  right: 28px;\n  font-size: 15px;\n  line-height: 30px;\n  text-align: center;\n  float: left;\n}\n.toprow {\n  margin: 0 0 4px;\n}\n.scoreitem {\n  padding: 2px 0;\n  font-weight: bold;\n  height: 18px;\n  overflow: hidden;\n  font-size: 14px;\n}\n.fullcap {\n  text-transform: uppercase;\n}\n.hidetext {\n  overflow: hidden;\n}\n.nopadding {\n  padding: 0;\n}\n.playerscore {\n  font-size: 18px;\n  text-align: center;\n  padding: 10px;\n  font-weight: bold;\n}\n.regbut {\n  display: none;\n}\n.numcol {\n  width: 10%;\n  float: left;\n}\n.namecol {\n  width: 40%;\n  float: left;\n}\n.scorecol {\n  width: 25%;\n  float: left;\n}\n.datecol {\n  width: 25%;\n  float: left;\n}\n"}),define("leaderboard",["require","underscore","playtomic_helper","logger","dialogv2","utils/constants","runtime","text!views/leaderboard.html","utils/jquery-amd","text!stylesheets/leaderboard.css"],function(e){var t,n,i,r,o,a=e("underscore"),s=e("playtomic_helper"),u=(e("logger"),e("dialogv2")),l=e("utils/constants"),c=e("runtime"),d=a.template(e("text!views/leaderboard.html")),f=d({cdn:l.cdnUrl}),p=e("utils/jquery-amd"),h=e("text!stylesheets/leaderboard.css"),g=1,m=function(e,r,o){try{i=o.scores,n=o.mode,y(r.page,o.numscores,i.length),t(".modebut").removeClass("activebut"),t("."+o.mode).addClass("activebut"),i.length>0&&t(".head").html("&nbsp;"+i[0].table),t(".scores").html("");for(var a=0;a<i.length;a++){if(r.useMilli)var s=x(i[a].points);else var s=i[a].points;t(".scores").append('<div class="scoreitem blackish"><div class="numcol hidetext nopadding">'+i[a].rank+'.</div><div class="namecol blueish hidetext nopadding">  <a href="'+l.root_url+"/profiles/"+i[a].playerid+'" target="_blank">'+i[a].playername+'</a></div><div class="scorecol hidetext nopadding">'+s+'</div><div class="datecol lightgray fullcap hidetext nopadding">'+i[a].rdate+"</div></div>")}}catch(c){console.log(c),u.destroy()}},v=function(e,n,i){t(".pscore").html(i.hasOwnProperty("scores")&&i.scores.length>0?n.useMilli?x(i.scores[0].points):i.scores[0].points:"none yet")},y=function(e,n,i){t(".left-arrow").css("visibility","visible"),t(".right-arrow").css("visibility","visible"),1==e&&t(".left-arrow").css("visibility","hidden"),10*e>=n&&t(".right-arrow").css("visibility","hidden"),10==e&&t(".right-arrow").css("visibility","hidden"),10>i&&t(".right-arrow").css("visibility","hidden"),t(".page").html("page "+e)},b=function(){t(".pagination").click(function(e){-1!=e.target.className.search("left-arrow")?g--:-1!=e.target.className.search("right-arrow")&&g++,r.page=g,s.sendAPIRequest("leaderboards","list",m,null,r)}),t(".butwrap").click(function(e){-1!=e.target.className.search("alltime")&&(r.mode="alltime"),-1!=e.target.className.search("last30days")&&(r.mode="last30days"),-1!=e.target.className.search("last7days")&&(r.mode="last7days"),-1!=e.target.className.search("newest")&&(r.mode="newest"),g=1,n=r.mode,r.page=g,s.sendAPIRequest("leaderboards","list",m,null,r)}),t(".regbut").click(function(){window.ID.register()})},w=function(){c.getOAuthToken()?(o.playerid=c.getAuthResponse().details.pid,t(".pmsg").show(),t(".pscore").show(),t(".regbut").hide(),s.sendAPIRequest("leaderboards","list",v,null,o)):(t(".pmsg").hide(),t(".pscore").hide(),t(".regbut").show())},x=function(e){var t=Math.floor(e/1e3%60),n=10>t?"0"+String(t):String(t),i=Math.round(Math.floor(e/1e3/60)),r=10>i?"0"+String(i):String(i),o=e.toString();o=o.slice(o.length-3,o.length);var a=r+":"+n+":"+o;return a},k=function(e){e.page=e.page||1,e.perpage=10,e.mode=e.mode||"alltime",r=a.clone(e),o=a.clone(e),u.create(f,e),u.inlineStyle(h),t=p(u.window()),b(),w(),s.sendAPIRequest("leaderboards","list",m,null,e)};return{showList:k}}),define("text!views/achievements.html",[],function(){return'<div class="white achievements">\n  <div id="close" class="close">&times;</div>\n  <header>\n    <div>\n      <span>Achievements</span>\n    </div>\n  </header>\n\n  <div>\n    <div class="list"></div>\n  </div>\n  <div>\n    <div class="detail">\n      <div class="detaildata">\n        <div class="iconwrap"></div>\n        <div class="achtitle"></div>\n        <div class="achdesc"></div>\n      </div>\n    </div>\n  </div>\n\n  <footer>\n    <img src="<%= cdn %>/sdk/logo/y8-account-logo.png" alt="logo" width="45" height="32">\n  </footer>\n</div>\n'}),define("text!stylesheets/achievements.css",[],function(){return".achievements {\n  width: 450px;\n}\n\n.list {\n  margin: 14px;\n  background: #333;\n  overflow: hidden;\n  padding: 5px;\n  max-height: 218px;\n  overflow-y: auto;\n}\n\n.achitem {\n  float: left;\n  margin: 1.5px;\n  border: 2px solid #828282;\n  width: 64px;\n  height: 64px;\n  box-sizing: content-box;\n}\n\n.botrow img {\n  position: absolute;\n  bottom: 1px;\n  right: 1px;\n}\n\n.botrow {\n  position: relative;\n  bottom: 13px;\n  height: 13px;\n  font-size: 11px;\n  z-index: 2;\n  background-repeat: repeat-x;\n  width: 64px;\n  color: #e7e7e7;\n}\n\n.detail {\n  margin-left: 30px;\n  background: #333;\n  height: 75px;\n  width: 370px;\n}\n\n.iconwrap {\n  margin: 3px;\n  border: 2px solid #828282;\n  width: 64px;\n  height: 64px;\n  float: left;\n  margin-right: 5px;\n}\n\n.achtitle {\n  color: #fff;\n  font-size: 22px;\n  padding: 6px;\n}\n\n.achdesc {\n  color: #e6e6e6;\n  font-size: 16px;\n  padding-top: 4px;\n}\n"}),define("achievements",["require","underscore","playtomic_helper","logger","dialogv2","utils/constants","runtime","text!views/achievements.html","utils/jquery-amd","text!stylesheets/achievements.css"],function(e){var t,n,i=e("underscore"),r=e("playtomic_helper"),o=(e("logger"),e("dialogv2")),a=e("utils/constants"),s=e("runtime"),u=i.template(e("text!views/achievements.html")),l=u({cdn:a.cdnUrl}),c=e("utils/jquery-amd"),d=e("text!stylesheets/achievements.css"),f=a.cdnUrl+"/sdk/achievements/lock.png",p=a.cdnUrl+"/sdk/achievements/gradient.png",h=function(e,i,r){n=r.achievements;for(var o=0;o<n.length;o++){var u=n[o].hasOwnProperty("player")?"hide":"",l=a.cdnUrl+"/achievements/"+s.getAppId()+"/"+n[o].icon,c='<div class="achitem" data-id="'+o+'"><img src="'+l+'"><div class="botrow '+u+'">'+n[o].difficulty+'<img src="'+f+'" class="showLock"></div></div>';t(".list").append(c)}t(".achitem").click(function(){g(t(this))}),g(t(".achitem").first()),t(".botrow").css("background-image","url("+p+")")},g=function(e){var i=e.data("id"),r=a.cdnUrl+"/achievements/"+s.getAppId()+"/"+n[i].icon;t(".iconwrap").html('<img src="'+r+'">'),t(".achtitle").html(n[i].achievement),t(".achdesc").html(n[i].description)},m=function(e){o.create(l),o.inlineStyle(d),t=c(o.window()),r.sendAPIRequest("achievements","list",h,null,e)};return{showList:m}}),define("playtomic2",["require","utils/jssha","logger","runtime","dialogs_manager","utils/constants","playtomic_helper","leaderboard","achievements"],function(e){function t(e,t,n){e&&e(n)}var n=(e("utils/jssha"),e("logger")),i=e("runtime"),r=(e("dialogs_manager"),e("utils/constants"),e("playtomic_helper")),o=e("leaderboard"),a=e("achievements"),s={init:r.init,Achievements:{list:function(e){e||(e={}),i.getOAuthToken()&&(e.playerid=i.getAuthResponse().details.pid),a.showList(e)},listCustom:function(e,n){e||(e={}),i.getOAuthToken()&&(e.playerid=i.getAuthResponse().details.pid),r.sendAPIRequest("achievements","list",t,n,e)},save:function(e,o){return i.getOAuthToken()?(e.hasOwnProperty("playerid")||(e.playerid=i.getAuthResponse().details.pid),e.hasOwnProperty("playername")||(e.playername=i.getAuthResponse().details.nickname),void r.sendAPIRequest("achievements","save",t,o,e)):void(this.debug&&n.log("user must login before saving an achievement"))}},Leaderboards:{tables:function(e,n){r.sendAPIRequest("leaderboards","tables",t,n,e)},list:function(e){o.showList(e)},listCustom:function(e,n){r.sendAPIRequest("leaderboards","list",t,n,e)},save:function(e,o){return i.getOAuthToken()?(e.hasOwnProperty("playerid")||(e.playerid=i.getAuthResponse().details.pid),e.hasOwnProperty("playername")||(e.playername=i.getAuthResponse().details.nickname),void r.sendAPIRequest("leaderboards","save",t,o,e)):void(this.debug&&n.log("user must login before saving an achievement"))}},PlayerMaps:{save:function(e,o,a,s){if(!i.getOAuthToken())return void(this.debug&&n.log("user must login before saving a map"));a=a||i.getAuthResponse().details.nickname;var u={name:e,data:o,playerid:i.getAuthResponse().details.pid,playername:a};r.sendAPIRequest("playerlevels","save",t,s,u)},list:function(){},listCustom:function(e,i,o,a,s){if(a){if(i>10&&this.debug)return n.log("perPage set too high on mapListCustom"),!1}else if(i>50&&this.debug)return n.log("perPage set too high on mapListCustom"),!1;var u={mode:e,perpage:i,page:o,data:a};r.sendAPIRequest("playerlevels","list",t,s,u)},load:function(e,n){var i={levelid:e};r.sendAPIRequest("playerlevels","load",t,n,i)},rate:function(e,o,a){if(!i.getOAuthToken())return void(this.debug&&n.log("user must login before rating a map"));var s={levelid:e,rating:o,playerid:i.getAuthResponse().details.pid};r.sendAPIRequest("playerlevels","rate",t,a,s)}}};return s}),define("protection",["require","utils/domain","sdk/api","logger"],function(e){var t=e("utils/domain"),n=e("sdk/api"),i=e("logger"),r=t.getDomain(),o=[],a=[],s=null,u=null,l=function(e){var t=setTimeout(function(){e()},1e4);0===o.length?n.apiOpen("protection-lists","GET",null,function(n){n.hasOwnProperty("approved_domains")&&(o=n.approved_domains,a=n.blacklisted_urls),clearTimeout(t),e()}):e()};return{isSponsor:function(e){return s?void e(s):(i.history.push("Sponsor called"),void l(function(){for(var t=0;t<o.length;t++)if(-1!=r.search(o[t]))return s=!0,void e(!0);s=!1,e(!1)}))},isBlacklisted:function(e){return u?void e(u):(i.history.push("Blacklist called"),void l(function(){for(var t=0;t<a.length;t++)if(-1!=r.search(a[t]))return u=!0,void e(!0);u=!1,e(!1)}))},debug:function(){i.log("domain "+r),i.log("approved",o),i.log("blacklist",a);for(var e=0;e<a.length;e++)i.log(-1!=r.search(a[e]));i.log("---");for(var e=0;e<o.length;e++)i.log(-1!=r.search(o[e]))}}}),define("text!views/secret_menu.html",[],function(){return'<div class="wrap">\n  <div class="innerwrap">\n    <div id="close" class="close">&times;</div>\n    <h2>Secret Menu</h2>\n    <div id="logoutput" class="logoutput"></div>\n    <div id="appid"></div>\n    <div id="callcount"></div>\n    <div id="savesize"></div>\n    <a href="#" id="deleteall">Delete all data</a>\n  </div>\n</div>\n'}),define("text!stylesheets/secret_menu.css",[],function(){return".wrap {\n  height: 420px;\n  width: 350px;\n  background: #e7ecee;\n}\n.innerwrap {\n  padding: 6px;\n}\nh2 {\n  margin: 10px 6px;\n  padding: 0;\n}\n.logoutput {\n  overflow-y: scroll;\n  height: 200px;\n  border: 1px solid #ccc;\n}\n"}),define("secret_menu",["require","underscore","logger","utils/dom_helper","dialogv2","runtime","utils/constants","sdk/api","text!views/secret_menu.html","text!stylesheets/secret_menu.css"],function(e){var t=e("underscore"),n=e("logger"),i=e("utils/dom_helper"),r=e("dialogv2"),o=e("runtime"),a=e("utils/constants"),s=e("sdk/api"),u=t.template(e("text!views/secret_menu.html")),l=u(),c=e("text!stylesheets/secret_menu.css"),d={init:function(){var e=this;a.y8_appid!=o.getAppId()&&i.addEventListener(window,"keydown",function(t){t.shiftKey&&t.altKey&&t.ctrlKey&&(r.loaded?r.destroy():(r.loadedCallback=function(){var t=r.iframe.contentWindow.document,a=t.getElementById("logoutput"),s=t.getElementById("appid"),u=t.getElementById("callcount"),l=t.getElementById("savesize");e.deleteAll=t.getElementById("deleteall"),i.addEventListener(e.deleteAll,"click",e.deleteAllData),a.innerHTML="";for(var c=0;c<n.history.length;c++)a.innerHTML=a.innerHTML+n.history[c];s.innerHTML=o.getAppId(),u.innerHTML=n.getCalls()+" call in last 5 mins",l.innerHTML=n.getSaveSize()+" bytes saved last"
},r.create(l),r.inlineStyle(c),r.unloadedCallback=function(){i.removeEventListener(e.deleteAll,"click",e.deleteAllData)}))})},deleteAllData:function(){s.api("user_data/remove_all","POST",{})}};return d}),define("multiplayer",["logger"],function(e){return{room:{},appid:"",appsession:"",callback:null,callbackScope:null,matchingCallback:null,matchingScope:null,session:"",userid:"",nodes:[["playtomicmp1.cz2.id.net",3201],["playtomicmp2.cz2.id.net",3201]],host:"",port:0,proto:"https:"===document.location.protocol?"wss://":"ws://",msgQue:[],socket:null,_message:"",reconnects:0,reconnectDelay:5e3,switchingServer:!1,timedout:!1,debugLevel:2,autoReconnect:!1,heartbeatTimer:null,open:function(t,n,i,r){t||e.log("SMP: missing appid"),n||e.log("SMP: missing Game API appsession"),this.appid=t,this.appsession=n,this.callback=i,this.callbackScope=r;var o=Math.floor(Math.random()*(this.nodes.length-1+1))+1-1;this.host=this.nodes[o][0],this.port=this.nodes[o][1],this.openSocket(this.host,this.port),this.debugLevel>0&&e.log("connecting to "+this.host+":"+this.port)},openSocket:function(t,n){var i=this;this.socket=new WebSocket("ws://"+t+":"+n),this.socket.onopen=function(){i.reconnects=0;var e={section:"users",action:"start",appid:i.appid,appsession:i.appsession,uid:i.userid};i.sendObject(e),this.switchingServer=!1,i.heartbeatTimer=setInterval(function(){i.sendObject({section:"users",action:"heartbeat",appid:i.appid})},15e3)},this.socket.onmessage=function(e){for(var t=e.data.split("!@"),n=0;n<t.length;n++)i._message+=t[n],n<t.length-1&&(0!==i._message.indexOf("{")&&(i._message=i._message.substring(i._message.indexOf("{"),i._message.length)),i.onMessage(i._message),i._message="")},this.socket.onerror=function(t){e.log("SMP: error"+t.data)},this.socket.onclose=function(t){if(i.debugLevel>0&&(e.log("SMP: disconnected"),e.log(t)),clearInterval(i.heartbeatTimer),0===i.msgQue.length){var n={section:"connection",action:"disconnect",success:!1};4e3==t.code?(i.timedout=!0,n.errorcode=4e3,n.errormessage="Connection timed out",i.callback(n,i.callbackScope)):t.wasClean||(n.errorcode=1,n.errormessage="Connection lost",i.callback(n,i.callbackScope))}i.switchingServer||i.timedout||!i.autoReconnect||(i.reconnects=1,i.startReconnect())}},onMessage:function(t){try{var n=JSON.parse(t);this.callback&&this.callback(n,this.callbackScope),this.matchingCallback&&this.matchingCallback(n,this.matchingScope)}catch(i){return void e.log(i)}if(n.hasOwnProperty("action")){if("users"==n.section&&"start"==n.action&&0==n.errorcode&&(this.session=n.usersession,this.userid=n.userid,this.msgQue.length>0)){for(var r in this.msgQue)if(this.msgQue.hasOwnProperty(r)){var t=this.msgQue[r];t&&(this.sendObject(t),this.debugLevel>0&&e.log("sending que"+JSON.stringify(t)))}this.msgQue=[]}"rooms"==n.section&&"playerjoined"==n.action&&(this.room.players[n.playerid]=n.meta),"rooms"==n.section&&"playerleft"==n.action&&delete this.room.players[n.playerid],"rooms"==n.section&&"playerupdate"==n.action&&(this.room.players[n.playerid]=n.meta),"rooms"==n.section&&"join"==n.action&&(this.room=n.room)}else e.log("possible error "+t)},roomList:function(e,t,n,i){var r={section:"rooms",action:"list",appid:this.appid};e&&(r.type=e),t&&(r.roomid=t),n&&(r.custom=n),i&&(r.pt=i),this.sendObject(r)},roomJoin:function(t,n,i){var r=n.split(":"),o={section:"rooms",action:"join",appid:this.appid,roomid:t};i&&(o.pt=i),r[0]!=this.host||r[1].substring(1)!=this.port.toString().substring(1)?(this.host=r[0],this.port=r[1],this.switchServer(this.host,this.port),this.debugLevel>0&&e.log("switch to "+n),this.msgQue.push(o)):this.sendObject(o)},roomCreate:function(e,t,n,i,r){var o={section:"rooms",action:"create",type:e,appid:this.appid};for(key in r)o[key]=r[key];t&&(o.roomid=t),n&&(o.custom=n),i&&(o.pt=i),this.sendObject(o)},roomUpdate:function(e,t,n){var i={section:"rooms",action:"update",appid:this.appid,custom:e};t&&(i.pt=t);for(key in n)i[key]=n[key];this.sendObject(i)},roomLeave:function(e){var t={section:"rooms",action:"leave",appid:this.appid};e&&(t.pt=e),this.sendObject(t)},broadcast:function(t){(!t||"object"!=typeof t||Array.isArray(t))&&e.log("SMP: broadcast takes an object for the argument"),this.sendObject({section:"rooms",action:"broadcast",appid:this.appid,message:t})},broadcastAll:function(t){(!t||"object"!=typeof t||Array.isArray(t))&&e.log("SMP: broadcast takes an object for the argument"),this.sendObject({section:"rooms",action:"broadcast",appid:this.appid,message:t});var n={section:"rooms",action:"broadcast",success:!0,errorcode:0};for(var i in t)n[i]=t[i];this.callback(n)},sendTo:function(e,t){this.sendObject({section:"rooms",action:"sendTo",appid:this.appid,userid:e,message:t})},userMeta:function(e,t){var n={section:"users",action:"meta",meta:e,appid:this.appid};t&&(n.pt=t),this.sendObject(n)},ping:function(e){var t={section:"users",action:"ping",appid:this.appid};e&&(t.pt=e),this.sendObject(t)},sendObject:function(t){var n=JSON.stringify(t);this.socket.send(n),"heartbeat"!=t.action&&(this.debugLevel>1&&("broadcast"==t.action||"sendTo"==t.action)&&e.log("SMP: sending "+n),this.debugLevel>0&&"broadcast"!=t.action&&"sendTo"!=t.action&&e.log("SMP: sending "+n))},switchServer:function(e,t){this.switchingServer=!0,this.socket.close(),this.host=e,this.port=t,this.openSocket(e,t)},startReconnect:function(){var t=this;return 1===this.socket.readyState?(this.reconnects=0,void e.log("SMP: reconnected")):0===this.socket.readyState?(setTimeout(function(){t.reconnects++,t.startReconnect()},3e3*t.reconnects*1.5),void e.log("SMP: waiting for pending connection")):void setTimeout(function(){e.log("SMP: Trying to reconnect"),t.openSocket(t.host,t.port),t.reconnects++,t.startReconnect()},3e3*t.reconnects*1.5)},api:function(e){this.sendObject(e)}}}),define("matchmaking",["logger","multiplayer","playtomic","runtime"],function(e,t,n,i){return{enabled:!1,availableRooms:[],playerRank:0,lonleyPlayerTimeout:null,minPlayers:2,maxPlayers:10,joinAnytime:!0,playerRankTable:"",highest:!0,useAchievements:!1,randRoomTime:1e3*(Math.floor(5*Math.random())+1),startMatchmaking:function(){return enabled=!0,t.appid?n.loaded?(t.matchingCallback=this.callback,void(t.matchingScope=this)):void e.log("Matchmaking Error: The Game API must be initialized before startMatchmaking"):void e.log("Matchmaking Error: Multiplayer.open must be called before startMatchmaking")},autoJoinGame:function(){var e=this;t.roomList("game",null,{mm:!0},"mm-list");var n=setInterval(function(){e.availableRooms.length>0&&(clearInterval(n),e.playerRankTable||e.useAchievements?e.joinBestRoom():e.joinFullestRoom())},100)},callback:function(e,t){var n=t;"mm-list"==e.pt&&n.updateRooms(e.rooms),"mm-make"==e.pt&&this.roomList("game",null,{mm:!0},"mm-list"),"mm-join"==e.pt&&this.userMeta({rank:n.playerRank},"mm-meta"),"rooms"==e.section&&"leave"==e.action&&(n.availableRooms=[],n.playerRank=0),"playerjoined"==e.action&&clearTimeout(n.lonleyPlayerTimeout),"mm-list-check"==e.pt&&(e.rooms&&1!=e.rooms[0].playerCount||(clearTimeout(n.lonleyPlayerTimeout),this.roomLeave(),setTimeout(function(){n.autoJoinGame()},100)))},getPlayersRank:function(){if(this.playerRankTable&&i.getAuthResponse()){var e={table:this.playerRankTable,highest:this.highest,playerid:i.getAuthResponse().details.pid};n.Leaderboards.listCustom(e,this.setPlayerRank)}else this.useAchievements&&i.getAuthResponse()?n.Achievements.listCustom(null,this.setPlayerRank):this.joinFullestRoom()},setPlayerRank:function(e){var t=this.ID.Matchmaking;if(e.hasOwnProperty("achievements")){for(var n=0,i=0;i<e.achievements.length;i++)e.achievements[i].hasOwnProperty("player")&&("easy"==e.achievements[i].difficulty?n+=1:"medium"==e.achievements[i].difficulty?n+=3:"hard"==e.achievements[i].difficulty&&(n+=9));t.playerRank=n}else t.playerRank=e.hasOwnProperty("scores")&&e.scores.length>0?e.scores[0].points:1},joinBestRoom:function(){this.getPlayersRank();var e=0,t=this,n=setInterval(function(){e++,0!=t.playerRank&&(clearInterval(n),t.sortRoomsByRank()),e>100&&(clearInterval(n),t.playerRank=1,t.sortRoomsByRank())},100)},sortRoomsByRank:function(){for(var e=0;e<this.availableRooms.length;e++){var n=0;for(var i in this.availableRooms[e].players)this.availableRooms[e].players[i].hasOwnProperty("rank")&&(n+=availableRooms[e].players[i].rank);0!=this.availableRooms[e].playerCount&&(n=Math.round(n/this.availableRooms[e].playerCount)),this.availableRooms[e].roomRank=n}for(var r={closeness:1e5,roomid:null,node:null},o=0;o<this.availableRooms.length;o++){var a=Math.abs(this.availableRooms[o].roomRank-this.playerRank);a<r.closeness&&(r.closeness=a,r.roomid=this.availableRooms[o].roomid,r.node=this.availableRooms[o].webnode),t.roomJoin(r.roomid,r.node,"mm-join"),this.lonleyPlayerTimeout=setTimeout(function(){t.roomList(null,r.roomid,{mm:!0},"mm-list-check")},12e3+this.randRoomTime)}},joinFullestRoom:function(){this.availableRooms=this.availableRooms.sort(function(e,t){return e.playerCount>t.playerCount?1:e.playerCount<t.playerCount?-1:0});var e=this.availableRooms[this.availableRooms.length-1];t.roomJoin(e.roomid,e.webnode,"mm-join")},updateRooms:function(e){if(this.availableRooms=[],this.joinAnytime)for(var n=0;n<e.length;n++)e[n].playerCount!=e[n].maxPlayers&&this.availableRooms.push(e[n]);else for(var i=0;i<e.length;i++)e[i].playerCount!=e[i].maxPlayers&&e[i].isOpen&&this.availableRooms.push(e[i]);0==this.availableRooms.length&&t.roomCreate("game",null,{mm:!0},"mm-make",{maxPlayers:this.maxPlayers})}}}),define("social",["require","protection","logger","runtime","utils/domain","utils/constants"],function(e){var t=(e("protection"),e("logger")),n=e("runtime"),i=e("utils/domain"),r=e("utils/constants");return{openProfile:function(){if(!n.getOAuthToken())return void t.log("User must be logged in to open a profile.");var e=n.getAuthResponse(),o=e.details.pid+"/"+e.details.nickname,a=r.root_url+"/profiles/"+o,s=i.getDomain();ID.Protection.isSponsor(function(e){e&&s.split(".").length<2&&(a="http://www."+s+"/users/"+o)}),window.open(a)}}}),function(e,t){var n="0.7.17",i="",r="?",o="function",a="undefined",s="object",u="string",l="major",c="model",d="name",f="type",p="vendor",h="version",g="architecture",m="console",v="mobile",y="tablet",b="smarttv",w="wearable",x="embedded",k={extend:function(e,t){var n={};for(var i in e)n[i]=t[i]&&t[i].length%2===0?t[i].concat(e[i]):e[i];return n},has:function(e,t){return"string"==typeof e?-1!==t.toLowerCase().indexOf(e.toLowerCase()):!1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===u?e.replace(/[^\d\.]/g,"").split(".")[0]:t},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},T={rgx:function(e,n){for(var i,r,a,u,l,c,d=0;d<n.length&&!l;){var f=n[d],p=n[d+1];for(i=r=0;i<f.length&&!l;)if(l=f[i++].exec(e))for(a=0;a<p.length;a++)c=l[++r],u=p[a],typeof u===s&&u.length>0?2==u.length?this[u[0]]=typeof u[1]==o?u[1].call(this,c):u[1]:3==u.length?this[u[0]]=typeof u[1]!==o||u[1].exec&&u[1].test?c?c.replace(u[1],u[2]):t:c?u[1].call(this,c,u[2]):t:4==u.length&&(this[u[0]]=c?u[3].call(this,c.replace(u[1],u[2])):t):this[u]=c?c:t;d+=2}},str:function(e,n){for(var i in n)if(typeof n[i]===s&&n[i].length>0){for(var o=0;o<n[i].length;o++)if(k.has(n[i][o],e))return i===r?t:i}else if(k.has(n[i],e))return i===r?t:i;return e}},_={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},A={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[d,h],[/(opios)[\/\s]+([\w\.]+)/i],[[d,"Opera Mini"],h],[/\s(opr)\/([\w\.]+)/i],[[d,"Opera"],h],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[d,h],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[d,"IE"],h],[/(edge)\/((\d+)?[\w\.]+)/i],[d,h],[/(yabrowser)\/([\w\.]+)/i],[[d,"Yandex"],h],[/(puffin)\/([\w\.]+)/i],[[d,"Puffin"],h],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[d,"UCBrowser"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],h],[/(micromessenger)\/([\w\.]+)/i],[[d,"WeChat"],h],[/(QQ)\/([\d\.]+)/i],[d,h],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[d,h],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[h,[d,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[h,[d,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[h,[d,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,/(.+)/,"$1 WebView"],h],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[d,/(.+(?:g|us))(.+)/,"$1 $2"],h],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[h,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[d,h],[/(dolfin)\/([\w\.]+)/i],[[d,"Dolphin"],h],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[d,"Chrome"],h],[/(coast)\/([\w\.]+)/i],[[d,"Opera Coast"],h],[/fxios\/([\w\.-]+)/i],[h,[d,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[h,[d,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[h,d],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[d,"GSA"],h],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[h,T.str,_.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[d,h],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],h],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,k.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",k.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[g,k.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[c,p,[f,y]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[p,"Apple"],[f,y]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[p,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[p,c,[f,y]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[c,[p,"Amazon"],[f,y]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[c,T.str,_.device.amazon.model],[p,"Amazon"],[f,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,p,[f,v]],[/\((ip[honed|\s\w*]+);/i],[c,[p,"Apple"],[f,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[p,c,[f,v]],[/\(bb10;\s(\w+)/i],[c,[p,"BlackBerry"],[f,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[c,[p,"Asus"],[f,y]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[p,"Sony"],[c,"Xperia Tablet"],[f,y]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[c,[p,"Sony"],[f,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[p,c,[f,m]],[/android.+;\s(shield)\sbuild/i],[c,[p,"Nvidia"],[f,m]],[/(playstation\s[34portablevi]+)/i],[c,[p,"Sony"],[f,m]],[/(sprint\s(\w+))/i],[[p,T.str,_.device.sprint.vendor],[c,T.str,_.device.sprint.model],[f,v]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[p,c,[f,y]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[p,[c,/_/g," "],[f,v]],[/(nexus\s9)/i],[c,[p,"HTC"],[f,y]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[c,[p,"Huawei"],[f,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[p,c,[f,v]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[p,"Microsoft"],[f,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[p,"Microsoft"],[f,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[p,"Motorola"],[f,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[p,"Motorola"],[f,y]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[p,k.trim],[c,k.trim],[f,b]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[p,"Samsung"],[f,b]],[/\(dtv[\);].+(aquos)/i],[c,[p,"Sharp"],[f,b]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[p,"Samsung"],c,[f,y]],[/smart-tv.+(samsung)/i],[p,[f,b],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[p,"Samsung"],c,[f,v]],[/sie-(\w+)*/i],[c,[p,"Siemens"],[f,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[p,"Nokia"],c,[f,v]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[c,[p,"Acer"],[f,y]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[p,"LG"],[f,y]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[p,"LG"],c,[f,y]],[/(lg) netcast\.tv/i],[p,c,[f,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[p,"LG"],[f,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[p,"Lenovo"],[f,y]],[/linux;.+((jolla));/i],[p,c,[f,v]],[/((pebble))app\/[\d\.]+\s/i],[p,c,[f,w]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[p,c,[f,v]],[/crkey/i],[[c,"Chromecast"],[p,"Google"]],[/android.+;\s(glass)\s\d/i],[c,[p,"Google"],[f,w]],[/android.+;\s(pixel c)\s/i],[c,[p,"Google"],[f,y]],[/android.+;\s(pixel xl|pixel)\s/i],[c,[p,"Google"],[f,v]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[c,/_/g," "],[p,"Xiaomi"],[f,v]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[c,/_/g," "],[p,"Xiaomi"],[f,y]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[p,"Meizu"],[f,y]],[/android.+a000(1)\s+build/i],[c,[p,"OnePlus"],[f,v]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[p,"RCA"],[f,y]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[c,[p,"Dell"],[f,y]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[p,"Verizon"],[f,y]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[p,"Barnes & Noble"],c,[f,y]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[p,"NuVision"],[f,y]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[p,"ZTE"],c,[f,y]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[p,"Swiss"],[f,v]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[p,"Swiss"],[f,y]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[p,"Zeki"],[f,y]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[p,"Dragon Touch"],c,[f,y]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[c,[p,"Insignia"],[f,y]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[c,[p,"NextBook"],[f,y]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[p,"Voice"],c,[f,v]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[p,"LvTel"],c,[f,v]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[p,"Envizen"],[f,y]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[p,c,[f,y]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[c,[p,"MachSpeed"],[f,y]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[p,c,[f,y]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[p,"Rotor"],[f,y]],[/android.+(KS(.+))\s+build/i],[c,[p,"Amazon"],[f,y]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[p,c,[f,y]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[f,k.lowerize],p,c],[/(android.+)[;\/].+build/i],[c,[p,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[h,[d,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,h],[/rv\:([\w\.]+).*(gecko)/i],[h,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,h],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[d,[h,T.str,_.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[h,T.str,_.os.windows.version]],[/\((bb)(10);/i],[[d,"BlackBerry"],h],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[d,h],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[d,"Symbian"],h],[/\((series40);/i],[d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"],h],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[d,h],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],h],[/(sunos)\s?([\w\.]+\d)*/i],[[d,"Solaris"],h],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[d,h],[/(haiku)\s(\w+)/i],[d,h],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[h,/_/g,"."],[d,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[d,"Mac OS"],[h,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[d,h]]},E=function(n,r){if("object"==typeof n&&(r=n,n=t),!(this instanceof E))return new E(n,r).getResult();var o=n||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:i),a=r?k.extend(A,r):A;return this.getBrowser=function(){var e={name:t,version:t};return T.rgx.call(e,o,a.browser),e.major=k.major(e.version),e},this.getCPU=function(){var e={architecture:t};return T.rgx.call(e,o,a.cpu),e},this.getDevice=function(){var e={vendor:t,model:t,type:t};return T.rgx.call(e,o,a.device),e},this.getEngine=function(){var e={name:t,version:t};return T.rgx.call(e,o,a.engine),e},this.getOS=function(){var e={name:t,version:t};return T.rgx.call(e,o,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=e,this},this};E.VERSION=n,E.BROWSER={NAME:d,MAJOR:l,VERSION:h},E.CPU={ARCHITECTURE:g},E.DEVICE={MODEL:c,VENDOR:p,TYPE:f,CONSOLE:m,MOBILE:v,SMARTTV:b,TABLET:y,WEARABLE:w,EMBEDDED:x},E.ENGINE={NAME:d,VERSION:h},E.OS={NAME:d,VERSION:h},typeof exports!==a?(typeof module!==a&&module.exports&&(exports=module.exports=E),exports.UAParser=E):typeof define===o&&define.amd?define("utils/uaparser",[],function(){return E}):e&&(e.UAParser=E);var S=e&&(e.jQuery||e.Zepto);if(typeof S!==a){var C=new E;S.ua=C.getResult(),S.ua.get=function(){return C.getUA()},S.ua.set=function(e){C.setUA(e);var t=C.getResult();for(var n in t)S.ua[n]=t[n]}}}("object"==typeof window?window:this),define("text!views/game_break.html",[],function(){return'<div id="afgElement" style="position:absolute; width:100%; height:100%; z-index:100; background:#000; top:0; left:0; display: none; margin: 0; height: 100%; overflow: hidden;">\n  <div id="adContainer"></div>\n</div>\n'}),define("game_break",["require","underscore","logger","options","text!views/game_break.html"],function(e){var t,n,i,r,o,a=e("underscore"),s=e("logger"),u=e("options"),l=a.template(e("text!views/game_break.html")),c=l(),d=!1,f=0,p=function(e){d&&e();var t=document.createElement("script");t.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",t.onload=function(){d=!0,e()},document.head.appendChild(t)},h=function(){r||(document.body.insertAdjacentHTML("afterbegin",c),r=document.getElementById("afgElement"))},g=function(e){p(function(){i=new google.ima.AdDisplayContainer(document.getElementById("adContainer")),i.initialize(),e()})},m=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0],r=e.innerWidth||n.clientWidth||i.clientWidth,o=e.innerHeight||n.clientHeight||i.clientHeight;return{width:r,height:o}},v=function(){r.style.display="none",o()},y=function(e){s.log(e.getError()),v()},b=function(){n.contentComplete(),v()},w=function(e){var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!1,t=e.getAdsManager(r,n),t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,y),t.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,b);try{t.init(m().width,m().height,google.ima.ViewMode.NORMAL),t.start()}catch(i){v()}},x=function(){n||(n=new google.ima.AdsLoader(i),n.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,w,!1),n.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,y,!1))},k=function(e){if(o=e,0==u.get.ads_enabled)return o();var t=new Date;return f+1e3*u.get.ad_timing>t.getTime()?o():(h(),void g(function(){x(),r.style.display="block",f=t.getTime();var e=m().width,i=m().height,o=new google.ima.AdsRequest(e,i),a=u.get.afg_channel_id?"&channel="+u.get.afg_channel_id:"";o.adTagUrl="https://googleads.g.doubleclick.net/pagead/ads?ad_type=video_text_image&client=ca-games-pub-6129580795478709&description_url=http%3A%2F%2FY8.com&videoad_start_delay=30000&hl=en&max_ad_duration=60000"+a,o.linearAdSlotWidth=e,o.linearAdSlotHeight=i,o.nonLinearAdSlotWidth=e,o.nonLinearAdSlotHeight=i,o.forceNonLinearFullSlot=!0,n.requestAds(o)}))};return{gameBreak:k}}),define("id",["require","underscore","utils/wrapper","utils/dom_ready","sdk","runtime","distribution_block","auth","event","utils/hide_plugin","rpc","dialogs_manager","tracking","analytics","options","logger","app_image","playtomic","playtomic2","protection","secret_menu","matchmaking","multiplayer","social","sdk/ui","utils/uaparser","game_break"],function(e){var t=e("underscore"),n=e("utils/wrapper"),i=e("utils/dom_ready"),r=e("sdk"),o=e("runtime"),a=(e("distribution_block"),e("auth")),s=e("event"),u=e("utils/hide_plugin"),l=e("rpc"),c=e("dialogs_manager"),d=e("tracking"),f=e("analytics"),p=e("options"),h=e("logger"),g=e("app_image"),m=e("playtomic"),v=e("playtomic2"),y=e("protection"),b=e("secret_menu"),w=e("matchmaking"),x=e("multiplayer"),k=e("social"),T=e("sdk/ui"),_=e("utils/uaparser"),A=e("game_break");return function(e){var E=new _,S={browser:E.getBrowser()||null,Event:s,track:function(e){var t=setInterval(function(){o.initialized()&&(d.track(o.getAppId(),e),clearInterval(t))},500)},underscore:t,api:function(e,t,n,i){r.api.api(e,t,n,i)},apiGuest:function(e,t,n,i){r.api.apiOpen(e,t,n,i)},login:function(e,t){h.addCall(),a.login(t,n(e),n(e))},register:function(e,t){h.addCall(),a.register(t,n(e),n(e))},safariFixLogin:function(e,t){this.browser&&-1!=this.browser.name.search("Safari")?a.redirectToOauthLogin(t):a.login(t,n(e),n(e))},safariFixRegister:function(e,t){this.browser&&-1!=this.browser.name.search("Safari")?a.redirectToOauthRegistration(t):a.register(t,n(e),n(e))},getAuthResponse:function(e){return n(e).call({},o.getAuthResponse())},getLoginStatus:function(e,t,i){var r=o.getLoginStatus()||{};return t?(h.addCall(),a.fetchLoginStatus(e,e,i)):r.status&&r.authResponse?n(e).call({},r):void a.fetchLoginStatus(e,e,i)},ui:function(e,t,n){c.open(e,t,n),h.addCall()},leaderboard:function(){c.open({method:"leaderboard",redirect_uri:o.getRedirectUri()}),h.addCall()},certification:function(){c.open({method:"certification",redirect_uri:o.getRedirectUri()}),h.addCall()},points_leaderboard:function(){c.open({method:"points_leaderboard",redirect_uri:o.getRedirectUri()})},submit_image:function(e,t){g.submit(e,t),h.addCall()},closeMenu:function(){T.destroyAll()},isVisible:function(){return!t.isEmpty(T.__dialogs)},GameAPI:m,GameAPI2:v,Protection:y,Matchmaking:w,Multiplayer:x,Analytics:f.developer,openProfile:k.openProfile,hidePluginElement:u.hidePluginElement,showPluginElement:u.showPluginElement,initialized:o.initialized(),gameBreak:A.gameBreak,init:function(e){if(e.forceInit)o.reset(),p.reset(),f.reset();else if(o.initialized())return;if(o.init(e),o.initialized())try{l.xdHandler(),p.update(),f.init(this),b.init(),m.init(e.appId),v.init()}catch(t){h.log("Error in id "+t)}e&&e.status&&ID.getLoginStatus()}};e.idContainer?e[idContainer]=S:e.ID=S,i(function(){t.isFunction(e.idAsyncInit)&&e.idAsyncInit()})}}),require(["id"],function(e){e(window)}),define("main",function(){})}();
//# sourceMappingURL=sdk.js.map