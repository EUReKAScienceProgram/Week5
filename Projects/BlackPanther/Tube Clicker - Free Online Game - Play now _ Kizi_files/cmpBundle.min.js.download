/*! CMP 2.9.0 Copyright 2018 Oath Holdings, Inc. */
window.__cmpEnv='PROD';
!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=10)}([function(e,n,t){"use strict";var o=function(){var e=function(e){var n=[];for(var t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")};return{parseQuery:function(e){var n={};if(e){"?"===e[0]&&(e=e.substring(1));for(var t=e.split("&"),o=0;o<t.length;o++){var r=t[o].split("=");r[0]&&(n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]))}}return n},stringifyQuery:e,isUndefined:function(e){return"undefined"!==e&&void 0===e},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},toBoolean:function(e){return"string"==typeof e?"true"===e||"1"===e:!!e},logMessage:function(e,n){console&&"function"==typeof console[e]&&console[e](n)},addWindowMessageListener:function(e,n){(e=e||window).addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n)},parsePostMessageData:function(e){var n=e;if("string"==typeof e)try{n=JSON.parse(e)}catch(e){}return n},ajax:function(e,n,t,o){var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),i=function(){var e=void 0!==r.status?r.status:200,n=r.responseText;try{n=200===e?JSON.parse(r.responseText):void 0}catch(e){}t(n,e)};window.XDomainRequest&&((r=new XDomainRequest).onload=i),r.onreadystatechange=function(e){4===r.readyState&&i()},n&&(r.withCredentials=!0);try{r.open("GET",e,!1!==o),r.send(null)}catch(e){t(void 0,0)}},getMetaTagContent:function(e){var n=new RegExp(":","g"),t=e.replace(n,"\\:"),o=document.head.querySelector("[name="+t+"]");return o?o.content:void 0},setLocationUrl:function(n,t){window.location.replace(n+"?"+e(t))},documentReady:function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&e()})},isHostedUI:function(e){var n=RegExp(/\.oath.com$/),t=document.createElement("a");return t.href=e,n.test(t.hostname)}}}();n.a=o},function(e,n,t){"use strict";var o=t(0),r=function(){var e=function(e){return function(){var e,n,t,o,r,i=document.cookie;if(e={},i)for(n=0,t=(r=i.split(";")).length;n<t;n++)e[(o=r[n].split(/=(.+)/))[0].trim()]=(o[1]||"").trim();return e}()[e]},n=function(e,n,t){var r=new Date,i=t?31536e6:864e5;r.setTime(r.getTime()+i),document.cookie=o.a.isUndefined(n)?e+"=; path=/; Max-Age=0":e+"="+n+"; path=/; expires="+r.toGMTString()+";"},t=function(){var n=e("cmp"),t=n?o.a.parseQuery(n):{};return Math.round(Date.now()/1e3)-(t.t||0)>3600},r=function(){var t=Math.round(Date.now()/1e3),r=e("cmp"),i=r?o.a.parseQuery(r):{};i.t=t,n("cmp",o.a.stringifyQuery(i),!0)},i=function(){var n=e("cmp"),r=n?o.a.parseQuery(n):{};if(!o.a.isUndefined(r.j)&&!t())return o.a.toBoolean(r.j)},a=function(t){var i=e("cmp"),a=i?o.a.parseQuery(i):{};o.a.isUndefined(t)?delete a.j:(t=o.a.toBoolean(t),a.j=t?"1":"0"),n("cmp",o.a.stringifyQuery(a),!0),r()};return{getConsentString:function(){return e("EuConsent")},setConsentString:function(e,t){n("EuConsent",e,t),r()},isConsentStringStale:t,setGdprAppliesGlobally:function(e){if(e)return a(i()||o.a.toBoolean(e))},setIsUserInEU:function(e){if(!o.a.isUndefined(e))return a(i()||o.a.toBoolean(e))},setGdprApplies:a,getGdprApplies:i,getPubVendorListVersion:function(){var n=e("cmp"),t=n?o.a.parseQuery(n):{};return t.v&&parseInt(t.v)},setPubVendorListVersion:function(t){var r=e("cmp"),i=r?o.a.parseQuery(r):{};i.v=t,n("cmp",o.a.stringifyQuery(i),!0)},getAllowedOathVendorIds:function(){var n=e("cmp");return(n?o.a.parseQuery(n):{}).o||""},setAllowedOathVendorIds:function(t){var r=e("cmp"),i=r?o.a.parseQuery(r):{};t?i.o=t:delete i.o,n("cmp",o.a.stringifyQuery(i),!0)}}}();n.a=r},function(e,n){!function(){var e=!1;function n(e){var n="string"==typeof e.data,t=e.data;if(n)try{t=JSON.parse(e.data)}catch(e){}if(t&&t.__cmpCall){var o=t.__cmpCall;window.__cmp(o.command,o.parameter,function(t,r){var i={__cmpReturn:{returnValue:t,success:r,callId:o.callId}};e&&e.source&&e.source.postMessage(n?JSON.stringify(i):i,"*")})}}"function"==typeof __cmp||(window.__cmp=function(){var n=arguments;if(__cmp.a=__cmp.a||[],!n.length)return __cmp.a;"ping"===n[0]?n[2]({gdprAppliesGlobally:e,cmpLoaded:!1},!0):__cmp.a.push([].slice.apply(n))},function e(){if(document.body&&document.body.firstChild){var n=document.body,t=document.createElement("iframe");t.style.display="none",t.height=t.width=0,t.name="__cmpLocator",n.insertBefore(t,n.firstChild)}else setTimeout(e,5)}(),window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n))}()},function(e,n,t){"use strict";var o=t(1),r=t(0),i=function(){var e,n=[],t=!1,a=function(n){return void 0!==n&&(e=n),e},s=function(e){n.push({method:e,args:[].slice.call(arguments,1)})},d=function(e,n){if(a()||n){var t=o.a.getConsentString();void 0===t?e(void 0,!1):e(t,!0)}else s(d,e)},u=function(e){if(a()){var n=o.a.getGdprApplies();if(r.a.isUndefined(n))return e(void 0,!1);e(n,!0)}else i.queueRequestUntilInitialized(u,e)};return{isInitialized:a,queueRequestUntilInitialized:s,initializationComplete:function(){if(!a())for(a(!0);n.length;){var e=n.shift();"function"==typeof e.method&&e.method.apply(null,[].slice.call(e.args))}},setGdprAppliesGlobally:function(e){t=e,o.a.setGdprAppliesGlobally(e)},ping:function(e,n){n({gdprAppliesGlobally:t,cmpLoaded:!0})},getConsentString:d,isUserInEU:u}}();n.a=i},function(e,n,t){"use strict";var o=function(e){var n=6,t=36,o=36,r=12,i=12,a=6,s=12,d=12,u=24,c=16,l=1,f=12,p=1,g=1,v=16,m=16;!function(){var e="undefined"!=typeof exports?exports:"undefined"!=typeof self?self:window,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,r,i=String(e),a=0,s=n,d="";i.charAt(0|a)||(s="=",a%1);d+=s.charAt(63&o>>8-a%1*8)){if((r=i.charCodeAt(a+=.75))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|r}return d}),e.atob||(e.atob=function(e){var o=String(e).replace(/[=]+$/,"");if(o.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,a=0,s=0,d="";i=o.charAt(s++);~i&&(r=a%4?64*r+i:i,a++%4)?d+=String.fromCharCode(255&r>>(-2*a&6)):0)i=n.indexOf(i);return d})}();var h=function(){var e="a".charCodeAt(0),w="00000000000000000000000000000000000000000000000000",y=function(){this.binaryStr="",this.addField=function(e,n,t){var o=(e+0||0).toString(2);if(o.length<n)o=w.substr(0,n-o.length)+o;else if(o.length>n)throw new Error("Encountered an overflow setting cookie field "+t);this.binaryStr+=o}};return{build:function(e){e.version=1,e.cmpId=14,e.cmpVersion=1;var n=h.encodeBinary(e),t=h.binaryToBytes(n);return h.toWebSafeBase64(t)},setAll:function(e){var n=h.fromWebSafeBase64(e),t=h.bytesToBinary(n);return h.decodeBinary(t)},bytesToBinary:function(e){for(var n="",t=["0000","0001","0010","0011","0100","0101","0110","0111","1000","1001","1010","1011","1100","1101","1110","1111"],o=function(e){return t[e>>>4&15]+t[15&e]},r=0;r<e.length;r++)n+=o(e.charCodeAt(r));return{string:n,atPos:0,getBits:function(e){var n=parseInt(this.string.substr(this.atPos,e),2);return this.atPos+=e,n}}},binaryToBytes:function(e){var n="";e+=w.substr(0,7-(e.length+7)%8);for(var t=0;t<e.length;t+=8)n+=String.fromCharCode(parseInt(e.substr(t,8),2));return n},toWebSafeBase64:function(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},fromWebSafeBase64:function(e){return atob(e.replace(/-/g,"+").replace(/_/g,"/"))},languageFromCookieValue:function(n){return String.fromCharCode(e+n/64>>>0)+String.fromCharCode(e+n%64)},languageToCookieValue:function(n){return 64*(n.charCodeAt(0)-e)+(n.charCodeAt(1)-e)},dateFromDeciseconds:function(e){return new Date(100*e)},dateToDeciseconds:function(e){return Math.floor(e.getTime()/100)},decodeBinary:function(e){var w=e.getBits(n);if(1!==w)throw new Error("Cookie version "+w+" is not supported");var y,C={version:w,created:h.dateFromDeciseconds(e.getBits(t)),lastUpdated:h.dateFromDeciseconds(e.getBits(o)),cmpId:e.getBits(r),cmpVersion:e.getBits(i),consentScreen:e.getBits(a),consentLanguage:h.languageFromCookieValue(e.getBits(s)),vendorListVersion:e.getBits(d),purposesAllowed:e.getBits(u),maxVendorId:e.getBits(c),encodingType:e.getBits(l)},E=C.maxVendorId,b=new Array(E+1);if(0===C.encodingType){var I=e.string.length-e.atPos;if(I<E)throw new Error("Incorrect bitfield size: "+I+" < "+E);for(y=0;y<E;y++)b[y+1]="1"===e.string.charAt(e.atPos+y)}else{for(C.defaultConsent=1===e.getBits(p),y=0;y<E;y++)b[y+1]=C.defaultConsent;for(C.numEntries=e.getBits(f),y=0;y<C.numEntries;y++){var S=1===e.getBits(g),A=e.getBits(v),U=S?e.getBits(m):A;if(e.atPos>e.string.length)throw new Error("Not enough bits for numEntries in ranges");if(A>U||U>E)throw new Error("Invalid vendorId range: "+A+"-"+U+". The max valid vendorId is: "+E);for(var L=A;L<=U;L++)b[L]=!C.defaultConsent}}return C.vendorConsents=b,C},encodeRanges:function(e){for(var n,t,o=new y,r=e.vendorConsents,i=!!r[1],a=!1,s=e.maxVendorId,d=0,u=2;u<=s;u++){var c=!!r[u]!=!!i;if(c&&(a||(n=u,a=!0),t=u),a&&(!c||u===s)){d++;var l=t>n;if(o.addField(l?1:0,g,"isRange"),o.addField(n,v,"startVendorId"),l&&o.addField(t,m,"endVendorId"),13+o.binaryStr.length>s)return null;a=!1}}return{binary:o,defaultConsent:i?1:0,numEntries:d}},encodeBinary:function(e){var g=e.vendorConsents,v=new y;if(1!==e.version)throw new Error("version "+e.version+" not supported");v.addField(e.version,n,"version"),v.addField(h.dateToDeciseconds(e.created),t,"created"),v.addField(h.dateToDeciseconds(e.lastUpdated),o,"lastUpdated"),v.addField(e.cmpId,r,"cmpId"),v.addField(e.cmpVersion,i,"cmpVersion"),v.addField(e.consentScreen,a,"consentScreen"),v.addField(h.languageToCookieValue(e.consentLanguage||"en"),s,"consentLanguage"),v.addField(e.vendorListVersion,d,"vendorListVersion"),v.addField(e.purposesAllowed,u,"purposesAllowed"),v.addField(e.maxVendorId,c,"maxVendorId");var m=h.encodeRanges(e);if(e.encodingType=m?1:0,v.addField(e.encodingType,l,"encodingType"),0===e.encodingType)for(var w=1;w<=e.maxVendorId;w++)v.binaryStr+=g[w]?"1":"0";else e.defaultConsent=m.defaultConsent,e.numEntries=m.numEntries,v.addField(e.defaultConsent,p,"defaultConsent"),v.addField(e.numEntries,f,"numEntries"),v.binaryStr+=m.binary.binaryStr;return v.binaryStr}}}(),w={vendorConsents:[]};return{setMaxVendorId:function(e){w.maxVendorId=e},getMaxVendorId:function(){return w.maxVendorId},setVendorConsent:function(e,n){w.vendorConsents[n]=!!e},setAllVendorConsents:function(e){for(var n=1;n<=w.maxVendorId;n++)w.vendorConsents[n]=!!e},getAllVendorConsents:function(){for(var e={},n=1;n<w.vendorConsents.length;n++)e[n]=!!w.vendorConsents[n];return e},getVendorConsent:function(e){return!!w.vendorConsents[e]},setPurposeConsent:function(e,n){var t=1<<u-n;w.purposesAllowed=e?w.purposesAllowed|t:w.purposesAllowed&~t},setAllPurposeConsents:function(e){for(var n=1;n<=24;n++){var t=1<<u-n;w.purposesAllowed=e?w.purposesAllowed|t:w.purposesAllowed&~t}},getAllPurposeConsents:function(){for(var e={},n=1;n<=u;n++){var t=1<<u-n;e[n]=0!=(w.purposesAllowed&t)}return e},getPurposeConsent:function(e){var n=1<<u-e;return 0!=(w.purposesAllowed&n)},setVendorListVersion:function(e){w.vendorListVersion=e},getVendorListVersion:function(){return w.vendorListVersion},build:function(){return w.created||(w.created=new Date),w.lastUpdated=new Date,h.build(w)},setAll:function(e){w=h.setAll(e)}}}(window);n.a=o},function(e,n,t){"use strict";var o=t(6),r=t(0),i=function(e){var n,t=o.a.cmpAPIUrl+"v0/location/eu",i=o.a.cmpAPIUrl+"v0/vendor_list/global",a=o.a.cmpAPIUrl+"v0/measurement/events",s={},d={},u={},c=function(e,n,t,o){var i="";if(n){var a=[];for(var s in n)a.push(encodeURIComponent(s)+"="+encodeURIComponent(n[s]));i="?"+a.join("&")}var d=e+i;u[d]&&u[d].length?u[d].push(t):(u[d]=[t],r.a.ajax(e+i,!1,function(e,n){for(;u[d].length;){e=200===n?e:void 0;var t=200===n;u[d].shift()(e,t)}},o))},l=function(e,n){if(s[e])n(s[e],!0);else{var t=r.a.isNumeric(e)?{version:e}:{};c(i,t,function(t,o){o?(s[e]=t,n(s[e],!0)):n(void 0,!1)})}};return{isUserInEU:function(e){c(t,null,function(n,t){e(t?r.a.toBoolean(n.result):void 0,t)})},getVendorList:l,getVendorListFromPubVendors:function(e,t){s.null?t(s.null,!0):l(null,function(o,i){if(i){for(var a=0;a<o.vendors.length;a++){var c=o.vendors[a];d[c.id]=c}!function(e,t){if(!1!==n){var o=(e||"")+"/pubvendors.json";u[o]&&u[o].length?u[o].push(t):(u[o]=[t],r.a.ajax(o,!1,function(e,t){for((n=200===t)&&"object"!=typeof e&&(n=!1,r.a.logMessage("error","CMP Error: Invalid pubvendors.json format"));u[o].length;)u[o].shift()(e,n)}))}else t(void 0,!1)}(e,function(e,n){if(n){var i=function(e,n){for(var t=[],o=0;o<n.vendors.length;o++){var i=n.vendors[o].id;d[i]?t.push(d[i]):r.a.logMessage("error","CMP Error: pubvendors.json references vendor id "+i+" which does not exist in the Global Vendor List")}var a=JSON.parse(JSON.stringify(e));return a.vendors=t,a}(o,e);s.null=i,t(i,!!i)}else s.null=o,t(s.null,!0)})}else t(void 0,!1)})},CMPEvent:function(){var n=window.location.host,t=n.indexOf(":");t>0&&(n=n.substr(0,t));var o={ev_type:"A",gdpr:"N",p_domain:n=n.substr(n.length-255)},r=null;this.setPublisherId=function(e){return o.p_id=e,this},this.setGdpr=function(e){return o.gdpr=e,this},this.setGdprConsent=function(e){return o.consent=e,this},this.setType=function(e){return o.ev_type=e,this},this.markConsentRenderStartTime=function(){r=Date.now();var n=this;return e.addEventListener?(e.addEventListener("beforeunload",function(){n.fire(!1)},!1),e.addEventListener("unload",function(){n.fire(!1)},!1)):(e.attachEvent("onbeforeunload",function(){n.fire(!1)}),e.attachEvent("onunload",function(){n.fire(!1)})),this},this.fire=function(e){r&&(o.ev_duration=Math.round((Date.now()-r)/1e3)),o.fired||function(e,n){c(a,e||{},function(n,t){e.fired=t},n)}(o,e)}}}}(window);n.a=i},function(e,n,t){"use strict";var o={LOCAL:{cmpAPIUrl:"https://service-dev.cmp.oath.com/cmp/"},DEV:{cmpAPIUrl:"https://service-dev.cmp.oath.com/cmp/"},PROD:{cmpAPIUrl:"https://service.cmp.oath.com/cmp/"}}[window.__cmpEnv||"LOCAL"];n.a=o},,,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(2),r=(t.n(o),t(11)),i=t(12),a=t(13),s=t(1),d=t(5),u=t(4),c=t(0),l=t(3),f=!1,p=function(e,n){if(f&&!n)return e.__cmp;f=!0;for(var t,o=n||"function"!=typeof e.__cmp?[]:__cmp()||[],p={},g=[],v=[],m=new d.a.CMPEvent,h=function(e,n){l.a.getConsentString(function(n,o){o?e(n,!0):g.length?g.push(e):t?(g.push(e),r.a.getConsentString(function(e,n){for(s.a.setConsentString(e);g.length;)g.shift()(e,n)})):e(void 0,!0)},n)},w=function(e){t?(s.a.setConsentString(e,!1),r.a.setConsentString(e,function(n,t){t||s.a.setConsentString(e,!0)})):s.a.setConsentString(e,!0)},y=function(e){l.a.isUserInEU(function(n,t){if(t)e(n,!0);else{if(v.length)return void v.push(e);v.push(e),d.a.isUserInEU(function(e){for(s.a.setIsUserInEU(e);v.length;)v.shift()(e)})}})},C=function(e,n){h(function(e,t){y(function(o,r){n({consentData:e,gdprApplies:s.a.getGdprApplies(),hasGlobalScope:!1},t&&r)})})},E=function(e){m.markConsentRenderStartTime();var n={uiUrl:p.uiUrl,uiDisplayMode:p.uiDisplayMode,uiCustomParams:p.uiCustomParams,uiConfig:p.uiConfig,consentString:void 0},t=c.a.isHostedUI(p.uiUrl)?a.a:i.a;l.a.isInitialized()?l.a.getConsentString(function(o,r){n.consentString=o,t.renderConsents(n,function(n,t){m.setType("C").setGdprConsent(n).fire(),w(n),"function"==typeof e&&e(n,t)})}):t.renderConsents(n,function(n,t){m.setType("C").setGdprConsent(n).fire(),w(n),"function"==typeof e&&e(n,t)})},b=function(n){if(n)return{init:function(n){if(!l.a.isInitialized()){(p=n||{}).uiDisplayMode="standalone"===p.uiDisplayMode?"standalone":"iframe",p.uiCustomParams=p.uiCustomParams||{},p.gdprAppliesGlobally&&(l.a.setGdprAppliesGlobally(!0),m.setGdpr("S"));var o=c.a.parseQuery(e.location.search),i=decodeURIComponent(o.EuConsent||"");if(i&&"undefined"!==i){s.a.setConsentString(i),delete o.EuConsent;var a=e.location.pathname;o!=={}&&(a+="?"+c.a.stringifyQuery(o)),e.history.replaceState(null,null,a)}(t=p.sharedConsentDomain)&&r.a.init(t);var u=s.a.getGdprApplies();!0===u?(p.gdprAppliesGlobally||m.setGdpr("C"),h(function(e){e?l.a.initializationComplete():E(l.a.initializationComplete)},!0)):!1===u?l.a.initializationComplete():d.a.isUserInEU(function(e,n){n||(e=!0),s.a.setIsUserInEU(e),e?(m.setGdpr("L"),h(function(e){e?l.a.initializationComplete():E(l.a.initializationComplete)},!0)):l.a.initializationComplete()})}},ping:l.a.ping,getPublisherConsents:function(e,n){C(null,function(t,o){if(o){u.a.setAll(t.consentData);var r=Array.isArray(e),i=u.a.getAllPurposeConsents();d.a.getVendorListFromPubVendors(null,function(o,a){var s={};if(a)for(var d in o.purposes){var u=o.purposes[d].id;(!r||e.indexOf(u)>-1)&&(s[u]=i[u])}else s=i;var c={gdprApplies:t.gdprApplies,hasGlobalScope:t.hasGlobalScope,standardPurposeConsents:s};n(c,!0)})}else n({},!1)})},getVendorConsents:function(e,n){C(null,function(e,t){e.consentData?d.a.getVendorListFromPubVendors(null,function(o,r){u.a.setAll(e.consentData);var i=u.a.getAllPurposeConsents(),a=u.a.getAllVendorConsents(),s={},d={};if(r){var c;for(var l in o.purposes)s[c=o.purposes[l].id]=i[c];for(var f in o.vendors)d[c=o.vendors[f].id]=a[c]}var p={metadata:e.consentData,gdprApplies:e.gdprApplies,hasGlobalScope:e.hasGlobalScope,purposeConsents:s,vendorConsents:d};n(p,t&&r)}):n({gdprApplies:e.gdprApplies,hasGlobalScope:e.hasGlobalScope,purposeConsents:{},vendorConsents:{}},t)})},getConsentData:C,getConsentString:h,isUserInEU:y,renderConsents:E}[n].apply(null,[].slice.call(arguments,1))};o.length;)try{b.apply(null,o.shift())}catch(e){c.a.logMessage("error","CMP: Error executing request",e)}return b};window.__cmp=p(window);var g={createInstance:function(e){return p(window,e)}};n.default=g},function(e,n,t){"use strict";var o=t(0),r=function(e){var n=null,t=null,r=!1,i=[],a={};var s=function(e,o,s){var d="cmp-iframe-"+Date.now();"function"==typeof s&&(a[d]=s);var u={__cmpDomainCall:{command:e,parameter:o,callId:d}};r?t.contentWindow.postMessage(JSON.stringify(u),n):i.push(u)};return{init:function(s){if(s&&(n="https://"+function(e){var n;return e!==(n=(n=(n=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split("?")[0]).split("#")[0])&&o.a.logMessage("warn","CMP Warning: sharedConsentDomain should not include the URL scheme, path or query parameters"),n}(s)+"domain/cmp-domain.html",!document.getElementById("consent-domain-iframe"))){(t=document.createElement("iframe")).src=n,t.id="consent-domain-iframe",t.style.display="none",t.height=t.width=0;var d=function(){for(r=!0;i.length;)t.contentWindow.postMessage(JSON.stringify(i.shift()),n)};t.addEventListener?t.addEventListener("load",d,!1):t.attachEvent&&t.attachEvent("onload",d),document.body.appendChild(t),o.a.addWindowMessageListener(e,function(e){var n=o.a.parsePostMessageData(e.data).__cmpDomainReturn;if(n){var t=n.callId;if(a[t]){var r=n.returnValue,i=n.success;a[t](r,i)}}})}},getConsentString:function(e){s("getConsentString",null,e)},setConsentString:function(e,n){s("setConsentString",e,n)}}}(window);n.a=r},function(e,n,t){"use strict";var o=t(0),r=function(e,n){var t,r=null,i=null,a=null,s=!1,d=[],u=[],c={},l=function(){var o=e,r="inner";"innerWidth"in e||(r="client",o=n.documentElement||n.body);var i={width:o[r+"Width"],height:o[r+"Height"]};if(i.width<915)a.width=i.width,a.height=i.height,a.style.margin="0 auto";else{a.width=Math.min(i.width-100,1e3),a.height=Math.min(i.height-100,t.maxModalHeight||573);var s=(i.width-a.width)/2;a.style.marginTop="50px ",a.style.marginLeft=s+"px "}},f=function(e,n){if(i&&a)for(window.removeEventListener?window.removeEventListener("resize",l,!1):window.detachEvent&&window.detachEvent("onresize",l),i.parentNode.removeChild(i),i=null,s=!1;u.length;)u.shift()(e,n)};return{renderConsents:function(n,p){if((t=n||{}).siteDomain=window.location.origin,r=t.uiUrl){if("standalone"===t.uiDisplayMode){var g=r.indexOf("?"),v=g>-1?r.substring(g+1):"",m=o.a.parseQuery(v);return t.consentString&&(m.EuConsent=t.consentString),m.redirect_url=window.location.href,void o.a.setLocationUrl(r,m)}if(p&&u.push(p),!document.getElementById("cmp-container-id")){(i=document.createElement("div")).id="cmp-container-id",i.style.position="fixed",i.style.background="rgba(0,0,0,.5)",i.style.top=0,i.style.right=0,i.style.bottom=0,i.style.left=0,i.style.zIndex=1e4,document.body.appendChild(i),(a=document.createElement("iframe")).style.position="fixed",a.src=r,a.id="cmp-ui-iframe",a.width=0,a.height=0,a.style.display="block",a.style.border=0,i.style.zIndex=10001,l(),window.addEventListener?window.addEventListener("resize",l,!1):window.attachEvent&&window.attachEvent("onresize",l),o.a.addWindowMessageListener(e,function(e){var n=o.a.parsePostMessageData(e.data).__cmpUIReturn;if(n){var t=n.callId;if(c[t]){var r=n.returnValue,i=n.success;c[t](r,i)}}});var h=function(){for(s=!0;d.length;)a.contentWindow.postMessage(JSON.stringify(d.shift()),r)};a.addEventListener?a.addEventListener("load",h,!1):a.attachEvent&&a.attachEvent("onload",h),i.appendChild(a),function(e,n,t){var o="cmp-iframe-"+Date.now();"function"==typeof t&&(c[o]=t);var i={__cmpUICall:{command:e,parameter:n,callId:o}};s?a.contentWindow.postMessage(JSON.stringify(i),r):d.push(i)}("renderConsentUI",t,f)}}else o.a.logMessage("error","CMP Error: Required config (uiUrl) was not set")}}}(window,document);n.a=r},function(e,n,t){"use strict";var o=t(0),r=function(e,n){var t,r=null,i=null,a=null,s=!1,d=[],u=[],c={},l=function(){var t=e,o="inner";"innerWidth"in e||(o="client",t=n.documentElement||n.body);var r={width:t[o+"Width"],height:t[o+"Height"]};if(r.width<915)a.width=r.width,a.height=r.height,a.style.top=0,a.style.left=0;else{a.width=Math.min(r.width,1e3),a.height=Math.max(window.innerHeight,800);var i=(r.width-a.width)/2;a.style.top="50px",a.style.left=i+"px "}},f=function(e,n){if(i&&a)for(window.removeEventListener?window.removeEventListener("resize",l,!1):window.detachEvent&&window.detachEvent("onresize",l),i.parentNode.removeChild(i),a.parentNode.removeChild(a),i=null,s=!1;u.length;)u.shift()(e,n)};return{renderConsents:function(n,p){if((t=n||{}).siteDomain=window.location.origin,r=t.uiUrl,t.uiUrl){if("standalone"===t.uiDisplayMode){var g=t.uiUrl.indexOf("?"),v=g>-1?t.uiUrl.substring(g+1):"",m=o.a.parseQuery(v);return t.consentString&&(m.EuConsent=t.consentString),m.redirect_url=window.location.href,void o.a.setLocationUrl(t.uiUrl,m)}if(p&&u.push(p),!document.getElementById("cmp-container-id")){(i=document.createElement("div")).id="cmp-container-id",i.style.position="fixed",i.style.background="rgba(0,0,0,.5)",i.style.top=0,i.style.right=0,i.style.bottom=0,i.style.left=0,i.style.zIndex=1e4,(a=document.createElement("iframe")).style.position="absolute",a.src=t.uiUrl,a.id="cmp-ui-iframe",a.width=0,a.height=0,a.style.display="block",a.style.border=0,a.style.zIndex=10001,l(),window.addEventListener?window.addEventListener("resize",l,!1):window.attachEvent&&window.attachEvent("onresize",l),o.a.addWindowMessageListener(e,function(e){var n=o.a.parsePostMessageData(e.data).__cmpUIReturn;if(n){var t=n.callId;if(c[t]){var r=n.returnValue,i=n.success;c[t](r,i)}}});var h=function(){for(s=!0;d.length;)a.contentWindow.postMessage(JSON.stringify(d.shift()),t.uiUrl)};a.addEventListener?a.addEventListener("load",h,!1):a.attachEvent&&a.attachEvent("onload",h),document.body.appendChild(i),document.body.appendChild(a),function(e,n,t){var o="cmp-iframe-"+Date.now();"function"==typeof t&&(c[o]=t);var i={__cmpUICall:{command:e,parameter:n,callId:o}};s?a.contentWindow.postMessage(JSON.stringify(i),r):d.push(i)}("renderConsentUI",t,f)}}else o.a.logMessage("error","CMP Error: Required config (uiUrl) was not set")}}}(window,document);n.a=r}]);;
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;b.ogCmp=a()}}(function(){var a;return function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(b,c,d){(function(e,f){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?c.exports=e():"function"==typeof a&&a.amd?a(e):b.ES6Promise=e()}(this,function(){"use strict";function a(a){var b=typeof a;return null!==a&&("object"===b||"function"===b)}function c(a){return"function"==typeof a}function d(a){U=a}function g(a){V=a}function h(){return function(){return e.nextTick(m)}}function i(){return"undefined"!=typeof T?function(){T(m)}:l()}function j(){var a=0,b=new Y(m),c=document.createTextNode("");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function k(){var a=new MessageChannel;a.port1.onmessage=m;return function(){return a.port2.postMessage(0)}}function l(){var a=setTimeout;return function(){return a(m,1)}}function m(){for(var a=0;a<S;a+=2){var b=_[a],c=_[a+1];b(c);_[a]=void 0;_[a+1]=void 0}S=0}function n(){try{var a=Function("return this")().require("vertx");T=a.runOnLoop||a.runOnContext;return i()}catch(b){return l()}}function o(a,b){var c=this,d=new this.constructor(q);void 0===d[ba]&&I(d);var e=c._state;if(e){var f=arguments[e-1];V(function(){return F(e,d,f,c._result)})}else C(c,d,a,b);return d}function p(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(q);y(c,a);return c}function q(){}function r(){return new TypeError("You cannot resolve a promise with itself")}function s(){return new TypeError("A promises callback cannot return that same promise.")}function t(a){try{return a.then}catch(b){fa.error=b;return fa}}function u(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function v(a,b,c){V(function(a){var d=!1,e=u(c,b,function(c){if(!d){d=!0;b!==c?y(a,c):A(a,c)}},function(b){if(!d){d=!0;B(a,b)}},"Settle: "+(a._label||" unknown promise"));if(!d&&e){d=!0;B(a,e)}},a)}function w(a,b){b._state===da?A(a,b._result):b._state===ea?B(a,b._result):C(b,void 0,function(b){return y(a,b)},function(b){return B(a,b)})}function x(a,b,d){if(b.constructor===a.constructor&&d===o&&b.constructor.resolve===p)w(a,b);else if(d===fa){B(a,fa.error);fa.error=null}else void 0===d?A(a,b):c(d)?v(a,b,d):A(a,b)}function y(b,c){b===c?B(b,r()):a(c)?x(b,c,t(c)):A(b,c)}function z(a){a._onerror&&a._onerror(a._result);D(a)}function A(a,b){if(a._state===ca){a._result=b;a._state=da;0!==a._subscribers.length&&V(D,a)}}function B(a,b){if(a._state===ca){a._state=ea;a._result=b;V(z,a)}}function C(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null;e[f]=b;e[f+da]=c;e[f+ea]=d;0===f&&a._state&&V(D,a)}function D(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3){d=b[g];e=b[g+c];d?F(c,d,e,f):e(f)}a._subscribers.length=0}}function E(a,b){try{return a(b)}catch(c){fa.error=c;return fa}}function F(a,b,d,e){var f=c(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){g=E(d,e);if(g===fa){j=!0;h=g.error;g.error=null}else i=!0;if(b===g){B(b,s());return}}else{g=e;i=!0}b._state!==ca||(f&&i?y(b,g):j?B(b,h):a===da?A(b,g):a===ea&&B(b,g))}function G(a,b){try{b(function(b){y(a,b)},function(b){B(a,b)})}catch(c){B(a,c)}}function H(){return ga++}function I(a){a[ba]=ga++;a._state=void 0;a._result=void 0;a._subscribers=[]}function J(){return new Error("Array Methods must be provided an Array")}function K(a){return new ha(this,a).promise}function L(a){var b=this;return new b(R(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function M(a){var b=this,c=new b(q);B(c,a);return c}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(){var a=void 0;if("undefined"!=typeof f)a=f;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;if(c){var d=null;try{d=Object.prototype.toString.call(c.resolve())}catch(b){}if("[object Promise]"===d&&!c.cast)return}a.Promise=ia}var Q=void 0;Q=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var R=Q,S=0,T=void 0,U=void 0,V=function(a,b){_[S]=a;_[S+1]=b;S+=2;2===S&&(U?U(m):aa())},W="undefined"!=typeof window?window:void 0,X=W||{},Y=X.MutationObserver||X.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,_=new Array(1e3),aa=void 0;aa=Z?h():Y?j():$?k():void 0===W&&"function"==typeof b?n():l();var ba=Math.random().toString(36).substring(2),ca=void 0,da=1,ea=2,fa={error:null},ga=0,ha=function(){function a(a,b){this._instanceConstructor=a;this.promise=new a(q);this.promise[ba]||I(this.promise);if(R(b)){this.length=b.length;this._remaining=b.length;this._result=new Array(this.length);if(0===this.length)A(this.promise,this._result);else{this.length=this.length||0;this._enumerate(b);0===this._remaining&&A(this.promise,this._result)}}else B(this.promise,J())}a.prototype._enumerate=function(a){for(var b=0;this._state===ca&&b<a.length;b++)this._eachEntry(a[b],b)};a.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===p){var e=t(a);if(e===o&&a._state!==ca)this._settledAt(a._state,b,a._result);else if("function"!=typeof e){this._remaining--;this._result[b]=a}else if(c===ia){var f=new c(q);x(f,a,e);this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)};a.prototype._settledAt=function(a,b,c){var d=this.promise;if(d._state===ca){this._remaining--;a===ea?B(d,c):this._result[b]=c}0===this._remaining&&A(d,this._result)};a.prototype._willSettleAt=function(a,b){var c=this;C(a,void 0,function(a){return c._settledAt(da,b,a)},function(a){return c._settledAt(ea,b,a)})};return a}(),ia=function(){function a(b){this[ba]=H();this._result=this._state=void 0;this._subscribers=[];if(q!==b){"function"!=typeof b&&N();this instanceof a?G(this,b):O()}}a.prototype["catch"]=function(a){return this.then(null,a)};a.prototype["finally"]=function(a){var b=this,c=b.constructor;return b.then(function(b){return c.resolve(a()).then(function(){return b})},function(b){return c.resolve(a()).then(function(){throw b})})};return a}();ia.prototype.then=o;ia.all=K;ia.race=L;ia.resolve=p;ia.reject=M;ia._setScheduler=d;ia._setAsap=g;ia._asap=V;ia.polyfill=P;ia.Promise=ia;return ia})}).call(this,b("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],2:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout){l=setTimeout;return setTimeout(a,0)}try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout){m=clearTimeout;return clearTimeout(a)}try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){if(q&&o){q=!1;o.length?p=o.concat(p):r=-1;p.length&&i()}}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){o=p;p=[];for(;++r<b;)o&&o[r].run();r=-1;b=p.length}o=null;q=!1;g(a)}}function j(a,b){this.fun=a;this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b));1!==p.length||q||f(i)};j.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=!0;n.env={};n.argv=[];n.version="";n.versions={};n.on=k;n.addListener=k;n.once=k;n.off=k;n.removeListener=k;n.removeAllListeners=k;n.emit=k;n.prependListener=k;n.prependOnceListener=k;n.listeners=function(a){return[]};n.binding=function(a){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(a){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),g=a("es6-promise"),h=d(g),i=function(){function a(b){var c=this;e(this,a);var d={language:"en",brandLogo:"/images/logo.png",brandName:"Azerion",policyLink:"http://azerion.com/business/privacy.html",sitegroup:100,devMode:!1,test:!1,debug:!1,skipBar:!1,initialConsent:{ogdprThirdParty:0,ogdprTracking:0,ogdprAdvertisement:0,consentString:null},enableAnalytics:!1,analyticsId:null,cookieWallItems:{title:"title",message:"message",dismiss:"dissmiss",learnMore:"learnmore",link:"link",mask:!1,theme:"//cookies.casualportals.com/cookies/css/spele-bottom.css",callback:function(){}},wallAcceptedCb:function(a){},ogdprAdvertisementCb:function(a){},ogdprTrackingCb:function(a){},ogdprThirdPartyCb:function(a){},barShownCb:function(){},wallShownCb:function(){}};b?this.options=this.extendDefaults(d,b):this.options=d;this.options.skipBar=!0;/[&?]og_gdpr_debug=true/.test(window.location.search)&&(this.options.debug=!0);this.options.debug&&console.log("[CMP] Constructor - options: ",this.options);this.language=this.options.language;localStorage.getItem("ogdprLang")&&(this.language=localStorage.getItem("ogdprLang"));this.gaActive=!1;var f=0;if(this.options.enableAnalytics)var g=setInterval(function(){c.options.debug&&console.log("[CMP] Polling for GA");if(++f>50){clearInterval(g);c.options.debug&&console.log("[CMP] Time limit reached, clearing interval")}if(window.ga){clearInterval(g);c.gaActive=!0;c.options.debug&&console.log("[CMP] GA found, clearing interval")}},100);this.consentString=null;this.ogdprAdvertisement=null;this.ogdprTracking=null;this.ogdprThirdParty=null;this.wallIsVisible=!1;this.isMobile=function(){var a=!1;!function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera);var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b<=475&&(a=!0);return a}();this.addPostMessageListener();this.readCookies();if(this.options.debug){console.log("[CMP] this.consentString",this.consentString);console.log("[CMP] this.ogdprAdvertisement",this.ogdprAdvertisement);console.log("[CMP] this.ogdprTracking",this.ogdprTracking);console.log("[CMP] this.ogdprThirdParty",this.ogdprThirdParty);console.log("[CMP] this.options.initialConsent",this.options.initialConsent)}if(null===this.consentString){this.options.debug&&console.log("[CMP] Consent string not found.");document.cookie="cmp=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;";if(null!==this.options.initialConsent){var h=this.options.initialConsent.ogdprThirdParty?this.options.initialConsent.ogdprThirdParty:0,i=this.options.initialConsent.ogdprTracking?this.options.initialConsent.ogdprTracking:0,j=this.options.initialConsent.ogdprAdvertisement?this.options.initialConsent.ogdprAdvertisement:0,k=this.options.initialConsent.consentString?this.options.initialConsent.consentString:null;if(this.options.debug){console.log("[CMP] initialConsent option is true - Callbacks wil be fired on document.ready with values: ");console.log("[CMP] ogdprThirdPartyInitialState",h);console.log("[CMP] ogdprTrackingInitialState",i);console.log("[CMP] ogdprAdvertisementInitialState",j);console.log("[CMP] consentStringInitialState",k)}var l=function(){c.options.debug&&console.log("[CMP] Document ready - firing callbacks!");c.options.ogdprThirdPartyCb(h);c.options.ogdprTrackingCb(i);c.options.ogdprAdvertisementCb(j);c.options.wallAcceptedCb(k)};if("complete"===document.readyState||"loaded"===document.readyState){this.options.debug&&console.log("[CMP] Document already loaded.");l()}else{this.options.debug&&console.log("[CMP] Started readystate listener");document.addEventListener("readystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState||l()})}}this._connectToCmp()}else if(null!==this.consentString){this.options.debug&&console.log("[CMP] consent string found! ",this.consentString);this._connectToCmp();var m=function(){c.options.debug&&console.log("[CMP] Document ready - firing callbacks!");c.options.ogdprThirdPartyCb(c.ogdprThirdParty);c.options.ogdprTrackingCb(c.ogdprTracking);c.options.ogdprAdvertisementCb(c.ogdprAdvertisement);c.options.wallAcceptedCb(c.consentString);c._setUiStyling()};if("complete"===document.readyState||"loaded"===document.readyState){this.options.debug&&console.log("[CMP] Document already loaded.");m()}else{this.options.debug&&console.log("[CMP] Started readystate listener");document.addEventListener("readystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState||m()})}}}f(a,[{key:"extendDefaults",value:function(a,b){var c=void 0;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}},{key:"readCookies",value:function(){for(var a=document.cookie.split(";"),b=0;b<a.length;b++){var c=a[b].split("=");if(c.length>1){var d=c[0].toLowerCase().trim(),e=c[1].trim();d.indexOf("euconsent")>-1?this.consentString=e:d.indexOf("ogdpr_advertisement")>-1?this.ogdprAdvertisement=parseInt(e):d.indexOf("ogdpr_tracking")>-1?this.ogdprTracking=parseInt(e):d.indexOf("ogdpr_thirdparty")>-1&&(this.ogdprThirdParty=parseInt(e))}}}},{key:"addPostMessageListener",value:function(){var a=this;window.addEventListener("message",function(b){var c="string"==typeof b.data,d=b.data;if(c&&""!=d)try{d=JSON.parse(b.data);if("createBar"===d.name){a.options.debug&&console.log("[CMP] Create bar message received!");a._setUiStyling("bar",d.barHeight)}else if("createGdprWall"===d.name){a.options.debug&&console.log("[CMP] CreateGdprWall message received!");a._setUiStyling("wall")}else d.name&&"languageSwitch"===d.name?a.switchLanguage(d.language):d.name&&"wallDismissed"===d.name?a.wallDismissed(d):"gaSendEvent"===d.name&&a.options.enableAnalytics&&a._sendGaEvent(d)}catch(e){}},!1)}},{key:"storeCookie",value:function(a,b){var c=new Date;c.setTime(c.getTime()+31536e6);var d="; path=/; expires="+c.toUTCString();document.cookie=a+"="+b+d}},{key:"returnCallbacks",value:function(a){this.options.debug&&console.log("[CMP] Firing callbacks");this.options.ogdprThirdPartyCb(this.ogdprThirdParty);this.options.ogdprTrackingCb(this.ogdprTracking);this.options.ogdprAdvertisementCb(this.ogdprAdvertisement);this.options.wallAcceptedCb(this.consentString);if(1==a){this.options.debug&&console.log("[CMP] Reloading the page!");window.location.reload()}else this._setUiStyling()}},{key:"wallDismissed",value:function(a){this.options.debug&&console.log("[CMP] wall dismissed");this.consentString=a.consentString;if(a.ogdprAdvertisementState!==this.ogdprAdvertisement){this.ogdprAdvertisement=a.ogdprAdvertisementState;this.storeCookie("ogdpr_advertisement",this.ogdprAdvertisement)}if(a.ogdprTrackingState!==this.ogdprTracking){this.ogdprTracking=a.ogdprTrackingState;this.storeCookie("ogdpr_tracking",this.ogdprTracking)}if(a.ogdprThirdPartyState!==this.ogdprThirdParty){this.ogdprThirdParty=a.ogdprThirdPartyState;this.storeCookie("ogdpr_thirdParty",this.ogdprThirdParty)}var b=a.reload||!1;this.returnCallbacks(b)}},{key:"switchLanguage",value:function(a){this.options.debug&&console.log("[CMP] Switching language to: ",a);if(a!==this.language){this.language=a;localStorage.setItem("ogdprLang",a);localStorage.setItem("openWall","true");location.reload()}}},{key:"getWallUrl",value:function(){var a=null;this.options.devMode?a="http://localhost:8000/100":this.options.test===!0?a="https://assets-accept.casualportals.com/test-gdpr/wall/"+this.options.sitegroup+"/index.html":this.options.test===!1&&(a="https://assets.casualportals.com/gdpr/wall/"+this.options.sitegroup+"/index.html");return a}},{key:"_connectToCmp",value:function(){var a=this;this.options.debug&&console.log("[CMP] Connecting to CMP");var b=this.getWallUrl();this.options.debug&&console.log("[CMP] Wall url: ",b);var c=localStorage.getItem("openWall");this.options.debug&&console.log("[CMP] Open wall: ",c);"pc"!=this.options.sitegroup&&"300"!=this.options.sitegroup||(c="true");var d={uiUrl:b,uiDisplayMode:"iframe",gdprAppliesGlobally:!1,uiCustomParams:{isMobile:this.isMobile,ogdprLang:this.language,brandLogo:this.options.brandLogo,brandName:this.options.brandName,policyLink:this.options.policyLink,analyticsId:this.options.analyticsId,ogdprAdvertisement:this.ogdprAdvertisement,ogdprTracking:this.ogdprTracking,ogdprThirdParty:this.ogdprThirdParty,consentString:this.consentString,sitegroup:this.options.sitegroup,skipBar:this.options.skipBar,debug:this.options.debug,test:this.options.test,openWall:c}};"pc"!=this.options.sitegroup&&"300"!=this.options.sitegroup||(d.gdprAppliesGlobally=!0);this.options.debug&&console.log("[TEST] config:",d);window.__cmp("init",d);"true"===c&&localStorage.removeItem("openWall");setTimeout(function(){a.wallIsVisible||a.consentString||a._createCCBar()},3e3)}},{key:"_reviewSettings",value:function(){this.options.debug&&console.log("[CMP] Review privacy settings - Sending renderConsents call to CMP");window.__cmp("renderConsents")}},{key:"_createCCBar",value:function(){var a=this;this.options.cookieWallItems.callback=function(){a.ogdprThirdParty=1;a.ogdprTracking=1;a.ogdprAdvertisement=1;a.returnCallbacks(!1)};window.cc_options=this.options.cookieWallItems;!function(a,b,c,d){var e=b.createElement(c),f=b.getElementsByTagName(c)[0];e.async=!0;e.src=d;e.onerror=function(){};f.parentNode.insertBefore(e,f)}(window,document,"script","//cookies.casualportals.com/cookies/js/cc.js")}},{key:"_setUiStyling",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.options.debug&&console.log("[CMP] Changing gdpr iframe style - state: ",a);var c=document.getElementById("cmp-container-id"),d=document.getElementById("cmp-ui-iframe");d&&(d.style.margin="0");c&&(c.style.zIndex="999999999999");switch(a){case"bar":setTimeout(function(){var a=b+10;document.body.style.marginTop=a+"px";d.style.height=a+"px";c.style.height=a+"px"},0);if(this.isMobile===!1&&this.wallIsVisible===!1){c.style.background="none";d.style.width="100%"}else{c.style.background="rgba(0, 0, 0, 0.4)";c.style.height="100%";c.style.width="100%";d.style.width="100%"}this.options.debug&&console.log("[CMP] Bar shown! Firing callback.");this.options.barShownCb();break;case"wall":setTimeout(function(){c.style.background="rgba(0, 0, 0, 0.4)";c.style.height="100%";d.style.height="100%";d.style.width="100%";document.body.style.marginTop="0"},0);this.options.debug&&console.log("[CMP] Wall shown! Firing callback.");this.wallIsVisible=!0;this.options.wallShownCb();break;default:document.body.style.marginTop="0"}}},{key:"_getIpLocation",value:function(){var a=this;return new h["default"](function(b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==d.readyState&&200==d.status?b(d.response):4==d.readyState&&200!==d.status&&c(d.response)}.bind(a);d.open("GET","https://geo.tibaco.net/locateip?output=js",!0);d.send()})}},{key:"_sendGaEvent",value:function(a){var b=a.eventData;if(this.gaActive){this.options.debug&&console.log("[CMP] Sending event to GA");ga.getByName("ogCmpTracker")||ga("create",this.options.analyticsId,"auto","ogCmpTracker");b.anonymize&&"Bar Accept All"!==b.eventAction?ga("ogCmpTracker.set","anonymizeIp",!0):ga("ogCmpTracker.set","anonymizeIp",!1);ga("ogCmpTracker.send","event",{eventCategory:b.eventCategory,eventAction:b.eventAction,eventLabel:b.eventLabel})}}}]);return a}();c["default"]=i;b.exports=c["default"]},{"es6-promise":1}]},{},[3])(3)});