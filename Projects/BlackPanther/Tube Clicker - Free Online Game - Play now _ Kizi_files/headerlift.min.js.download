/* IDHB v2.3.0 2019-08-01 09:59 */
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=22)}([function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){if("undefined"==typeof window)return"";var b=void 0;try{var c=void 0;try{c=window.top.location}catch(a){c=window.location}b=""!=c.search?n.default.parse(c.search):n.default.parse(c.hash)}catch(a){}return b&&b[a]?b[a]:""}function f(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.on,c=a.wrapperId;return"boolean"==typeof b&&(p=b),void 0===p&&(p=!!window.sessionStorage.getItem(c+"_debug")||"true"===e(c+"_debug")),p}function g(a){if("undefined"!=typeof console&&f()){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).info.apply(b,[a].concat(d))}}function h(a){return a&&"object"===(void 0===a?"undefined":k(a))&&!Array.isArray(a)}function i(){return!(!window.$sf||!window.$sf.ext)}Object.defineProperty(b,"__esModule",{value:!0});var j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.getLocalStorageItem=function(a){try{var b=localStorage.getItem("idhb-"+a);if(b)return JSON.parse(b).value}catch(a){}return null},b.setLocalStorageItem=function(a,b,c){var d=(new Date).getTime()/1e3;try{var e={exp:d+c,value:b};localStorage.setItem("idhb-"+a,JSON.stringify(e))}catch(a){}},b.clearExpiredLocalStorageItems=function(){var a=(new Date).getTime()/1e3;try{for(var b=[],c=0;c<localStorage.length;c++){var d=localStorage.key(c);if(0===d.indexOf("idhb-")){JSON.parse(localStorage.getItem(d)).exp<a&&b.push(d)}}b.forEach(function(a){g("Deleting expired localStorage key '"+a+"'"),localStorage.removeItem(a)})}catch(a){}},b.checkHttpStatus=function(a){if(a.status>=200&&a.status<300)return a;var b=new Error(a.statusText);throw b.response=a,b.status=a.status,b},b.getParentUrl=function(){var a=(0,o.getRefererInfo)()||{};if(a.referer)return a.referer;var b=void 0;try{b=window.parent.location}catch(a){}return window.location!==b&&document.referrer?document.referrer:encodeURIComponent(document.location.href)},b.getParameterByName=e,b.debugMode=f,b.debugSession=function(a){var b=a.on,c=a.wrapperId;b?window.sessionStorage.setItem(c+"_debug",1):window.sessionStorage.removeItem(c+"_debug"),f({on:b,wrapperId:c})},b.logInfo=g,b.log=function(a){if("undefined"!=typeof console&&f()){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).log.apply(b,[a].concat(d))}},b.logWarn=function(a){if("undefined"!=typeof console){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).warn.apply(b,[a].concat(d))}},b.logError=function(a){if("undefined"!=typeof console){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).error.apply(b,[a].concat(d))}},b.isObject=h,b.mergeDeep=function a(b,c){var e=j({},b);return h(b)&&h(c)&&Object.keys(c).forEach(function(f){h(c[f])&&f in b?e[f]=a(b[f],c[f]):j(e,d({},f,c[f]))}),e},b.loadScript=function(a){var b=document.createElement("script");if(b.async=!0,b.type="text/javascript",0===a.search("http"))b.src=a;else{var c="https:"==document.location.protocol;b.src=(c?"https:":"http:")+"//"+a}var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d)},b.loadScriptPromise=function(a){return new Promise(function(b,c){var d=document.createElement("script");if(d.async=!0,d.onload=b,d.onerror=c,d.type="text/javascript",0===a.search("http"))d.src=a;else{var e="https:"==document.location.protocol;d.src=(e?"https:":"http:")+"//"+a}var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(d,f)})},b.fireSyncs=function(a){g("Firing user syncs"),a.pixels&&a.pixels.forEach(function(a){return(new Image).src=a})},b.inASafeFrame=i,b.iabCmpExists=function(){var a=void 0;try{a=window.__cmp||window.top.__cmp}catch(a){}if("function"==typeof a)return!0;if(i()&&"function"==typeof window.$sf.ext.cmp)return!0;for(var b=window;;){try{if(b.frames.__cmpLocator)return!0}catch(a){}if(b===window.top)break;b=b.parent}return!1},b.getAbsoluteBoundingRect=function(a){var b=document,c=window,d=b.body,e=void 0!==c.pageXOffset?c.pageXOffset:(b.documentElement||d.parentNode||d).scrollLeft,f=void 0!==c.pageYOffset?c.pageYOffset:(b.documentElement||d.parentNode||d).scrollTop,g=a.getBoundingClientRect();if(a!==d)for(var h=a.parentNode;h!==d;)e+=h.scrollLeft,f+=h.scrollTop,h=h.parentNode;return{bottom:g.bottom+f,height:g.height,left:g.left+e,right:g.right+e-g.width,top:g.top+f,width:g.width}};var l,m=c(3),n=(l=m)&&l.__esModule?l:{default:l},o=c(11),p=void 0},function(a,b,c){"use strict";b.a=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})}},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){"use strict";function d(a,b){return b.encode?b.strict?g(a):encodeURIComponent(a):a}function e(a){var b=a.indexOf("?");return-1===b?"":a.slice(b+1)}function f(a,b){var c=function(a){var b;switch(a.arrayFormat){case"index":return function(a,c,d){b=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),b?(void 0===d[a]&&(d[a]={}),d[a][b[1]]=c):d[a]=c};case"bracket":return function(a,c,d){b=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),b?void 0!==d[a]?d[a]=[].concat(d[a],c):d[a]=[c]:d[a]=c};default:return function(a,b,c){void 0!==c[a]?c[a]=[].concat(c[a],b):c[a]=b}}}(b=h({arrayFormat:"none"},b)),d=Object.create(null);return"string"!=typeof a?d:(a=a.trim().replace(/^[?#&]/,""))?(a.split("&").forEach(function(a){var b=a.replace(/\+/g," ").split("="),e=b.shift(),f=b.length>0?b.join("="):void 0;f=void 0===f?null:i(f),c(i(e),f,d)}),Object.keys(d).sort().reduce(function(a,b){var c=d[b];return Boolean(c)&&"object"==typeof c&&!Array.isArray(c)?a[b]=function a(b){return Array.isArray(b)?b.sort():"object"==typeof b?a(Object.keys(b)).sort(function(a,b){return Number(a)-Number(b)}).map(function(a){return b[a]}):b}(c):a[b]=c,a},Object.create(null))):d}var g=c(14),h=c(13),i=c(12);b.extract=e,b.parse=f,b.stringify=function(a,b){!1===(b=h({encode:!0,strict:!0,arrayFormat:"none"},b)).sort&&(b.sort=function(){});var c=function(a){switch(a.arrayFormat){case"index":return function(b,c,e){return null===c?[d(b,a),"[",e,"]"].join(""):[d(b,a),"[",d(e,a),"]=",d(c,a)].join("")};case"bracket":return function(b,c){return null===c?d(b,a):[d(b,a),"[]=",d(c,a)].join("")};default:return function(b,c){return null===c?d(b,a):[d(b,a),"=",d(c,a)].join("")}}}(b);return a?Object.keys(a).sort(b.sort).map(function(e){var f=a[e];if(void 0===f)return"";if(null===f)return d(e,b);if(Array.isArray(f)){var g=[];return f.slice().forEach(function(a){void 0!==a&&g.push(c(e,a,g.length))}),g.join("&")}return d(e,b)+"="+d(f,b)}).filter(function(a){return a.length>0}).join("&"):""},b.parseUrl=function(a,b){return{url:a.split("?")[0]||"",query:f(e(a),b)}}},function(a,b,c){"use strict";(function(a){function d(a){return Boolean(a&&void 0!==a.length)}function e(){}function f(a){if(!(this instanceof f))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(a,this)}function g(a,b){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,f._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null!==c){var d;try{d=c(a._value)}catch(a){return void i(b.promise,a)}h(b.promise,d)}else(1===a._state?h:i)(b.promise,a._value)})):a._deferreds.push(b)}function h(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof f)return a._state=3,a._value=b,void j(a);if("function"==typeof c)return void k((d=c,e=b,function(){d.apply(e,arguments)}),a)}a._state=1,a._value=b,j(a)}catch(b){i(a,b)}var d,e}function i(a,b){a._state=2,a._value=b,j(a)}function j(a){2===a._state&&0===a._deferreds.length&&f._immediateFn(function(){a._handled||f._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)g(a,a._deferreds[b]);a._deferreds=null}function k(a,b){var c=!1;try{a(function(a){c||(c=!0,h(b,a))},function(a){c||(c=!0,i(b,a))})}catch(a){if(c)return;c=!0,i(b,a)}}var l=c(1),m=setTimeout;f.prototype.catch=function(a){return this.then(null,a)},f.prototype.then=function(a,b){var c=new this.constructor(e);return g(this,new function(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}(a,b,c)),c},f.prototype.finally=l.a,f.all=function(a){return new f(function(b,c){function e(a,d){try{if(d&&("object"==typeof d||"function"==typeof d)){var h=d.then;if("function"==typeof h)return void h.call(d,function(b){e(a,b)},c)}f[a]=d,0==--g&&b(f)}catch(a){c(a)}}if(!d(a))return c(new TypeError("Promise.all accepts an array"));var f=Array.prototype.slice.call(a);if(0===f.length)return b([]);for(var g=f.length,h=0;h<f.length;h++)e(h,f[h])})},f.resolve=function(a){return a&&"object"==typeof a&&a.constructor===f?a:new f(function(b){b(a)})},f.reject=function(a){return new f(function(b,c){c(a)})},f.race=function(a){return new f(function(b,c){if(!d(a))return c(new TypeError("Promise.race accepts an array"));for(var e=0,g=a.length;e<g;e++)f.resolve(a[e]).then(b,c)})},f._immediateFn="function"==typeof a&&function(b){a(b)}||function(a){m(a,0)},f._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},b.a=f}).call(this,c(19).setImmediate)},function(a,b){!function(){"use strict";function a(a){this.time=a.time,this.target=a.target,this.rootBounds=a.rootBounds,this.boundingClientRect=a.boundingClientRect,this.intersectionRect=a.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!a.intersectionRect;var b=this.boundingClientRect,c=b.width*b.height,d=this.intersectionRect,e=d.width*d.height;this.intersectionRatio=c?Number((e/c).toFixed(4)):this.isIntersecting?1:0}function b(a,b){var c,d,e,f=b||{};if("function"!=typeof a)throw new Error("callback must be a function");if(f.root&&1!=f.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(c=this._checkForIntersections.bind(this),d=this.THROTTLE_TIMEOUT,e=null,function(){e||(e=setTimeout(function(){c(),e=null},d))}),this._callback=a,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(f.rootMargin),this.thresholds=this._initThresholds(f.threshold),this.root=f.root||null,this.rootMargin=this._rootMarginValues.map(function(a){return a.value+a.unit}).join(" ")}function c(a,b,c,d){"function"==typeof a.addEventListener?a.addEventListener(b,c,d||!1):"function"==typeof a.attachEvent&&a.attachEvent("on"+b,c)}function d(a,b,c,d){"function"==typeof a.removeEventListener?a.removeEventListener(b,c,d||!1):"function"==typeof a.detatchEvent&&a.detatchEvent("on"+b,c)}function e(a){var b;try{b=a.getBoundingClientRect()}catch(a){}return b?(b.width&&b.height||(b={top:b.top,right:b.right,bottom:b.bottom,left:b.left,width:b.right-b.left,height:b.bottom-b.top}),b):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function f(a,b){for(var c=b;c;){if(c==a)return!0;c=g(c)}return!1}function g(a){var b=a.parentNode;return b&&11==b.nodeType&&b.host?b.host:b&&b.assignedSlot?b.assignedSlot.parentNode:b}if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var h=window.document,i=[];b.prototype.THROTTLE_TIMEOUT=100,b.prototype.POLL_INTERVAL=null,b.prototype.USE_MUTATION_OBSERVER=!0,b.prototype.observe=function(a){if(!this._observationTargets.some(function(b){return b.element==a})){if(!a||1!=a.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:a,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},b.prototype.unobserve=function(a){this._observationTargets=this._observationTargets.filter(function(b){return b.element!=a}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},b.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},b.prototype.takeRecords=function(){var a=this._queuedEntries.slice();return this._queuedEntries=[],a},b.prototype._initThresholds=function(a){var b=a||[0];return Array.isArray(b)||(b=[b]),b.sort().filter(function(a,b,c){if("number"!=typeof a||isNaN(a)||a<0||a>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return a!==c[b-1]})},b.prototype._parseRootMargin=function(a){var b=(a||"0px").split(/\s+/).map(function(a){var b=/^(-?\d*\.?\d+)(px|%)$/.exec(a);if(!b)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(b[1]),unit:b[2]}});return b[1]=b[1]||b[0],b[2]=b[2]||b[0],b[3]=b[3]||b[1],b},b.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(c(window,"resize",this._checkForIntersections,!0),c(h,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(h,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},b.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,d(window,"resize",this._checkForIntersections,!0),d(h,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},b.prototype._checkForIntersections=function(){var b=this._rootIsInDom(),c=b?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(d){var f=d.element,g=e(f),h=this._rootContainsTarget(f),i=d.entry,j=b&&h&&this._computeTargetAndRootIntersection(f,c),k=d.entry=new a({time:window.performance&&performance.now&&performance.now(),target:f,boundingClientRect:g,rootBounds:c,intersectionRect:j});i?b&&h?this._hasCrossedThreshold(i,k)&&this._queuedEntries.push(k):i&&i.isIntersecting&&this._queuedEntries.push(k):this._queuedEntries.push(k)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},b.prototype._computeTargetAndRootIntersection=function(a,b){if("none"!=window.getComputedStyle(a).display){for(var c,d,f,i,j,k,l,m,n=e(a),o=g(a),p=!1;!p;){var q=null,r=1==o.nodeType?window.getComputedStyle(o):{};if("none"==r.display)return;if(o==this.root||o==h?(p=!0,q=b):o!=h.body&&o!=h.documentElement&&"visible"!=r.overflow&&(q=e(o)),q&&(c=q,d=n,f=Math.max(c.top,d.top),i=Math.min(c.bottom,d.bottom),j=Math.max(c.left,d.left),k=Math.min(c.right,d.right),m=i-f,!(n=(l=k-j)>=0&&m>=0&&{top:f,bottom:i,left:j,right:k,width:l,height:m})))break;o=g(o)}return n}},b.prototype._getRootRect=function(){var a;if(this.root)a=e(this.root);else{var b=h.documentElement,c=h.body;a={top:0,left:0,right:b.clientWidth||c.clientWidth,width:b.clientWidth||c.clientWidth,bottom:b.clientHeight||c.clientHeight,height:b.clientHeight||c.clientHeight}}return this._expandRectByRootMargin(a)},b.prototype._expandRectByRootMargin=function(a){var b=this._rootMarginValues.map(function(b,c){return"px"==b.unit?b.value:b.value*(c%2?a.width:a.height)/100}),c={top:a.top-b[0],right:a.right+b[1],bottom:a.bottom+b[2],left:a.left-b[3]};return c.width=c.right-c.left,c.height=c.bottom-c.top,c},b.prototype._hasCrossedThreshold=function(a,b){var c=a&&a.isIntersecting?a.intersectionRatio||0:-1,d=b.isIntersecting?b.intersectionRatio||0:-1;if(c!==d)for(var e=0;e<this.thresholds.length;e++){var f=this.thresholds[e];if(f==c||f==d||f<c!=f<d)return!0}},b.prototype._rootIsInDom=function(){return!this.root||f(h,this.root)},b.prototype._rootContainsTarget=function(a){return f(this.root||h,a)},b.prototype._registerInstance=function(){i.indexOf(this)<0&&i.push(this)},b.prototype._unregisterInstance=function(){var a=i.indexOf(this);-1!=a&&i.splice(a,1)},window.IntersectionObserver=b,window.IntersectionObserverEntry=a}}()},function(a){a.exports={USD:{EUR:.8965393581}}},function(a){a.exports={hbw:{prebidVersion:"prebid-v2.min.js",initGpt:!0,disableInitialAdLoading:!0},prebid:{config:{bidderSequence:"fixed",priceGranularity:"high",enableSendAllBids:!0,userSync:{iframeEnabled:!0,syncsPerBidder:10},currency:{adServerCurrency:"EUR"},consentManagement:{cmpApi:"iab",timeout:5e3,allowAuctionWithoutConsent:!0},improvedigital:{usePrebidSizes:!0}},timeout:3e3},headerLift:{enabled:!0,timeout:2e3,pageConfig:!0}}},function(a,b,c){"use strict";function d(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.slotIds,c=a.error,d=a.timeoutId;i&&i.enabled&&(c&&c===q?g.logWarn("WARNING: HeaderLift response timeout expired. Continuing without HeaderLift data."):(d&&clearTimeout(d),m&&b.forEach(function(a){h.setDfpAdUnitCodeForAdSlot(a,j[a].NsId+"/"+j[a].TId)}),b.forEach(function(a){if(j[a].Targeting){var b={};j[a].Targeting.forEach(function(a){var c=f(a,2),d=c[0],e=c[1];return b[d]=e}),g.logInfo("HeaderLift DFP targeting for slot "+a+":",b),h.setAdserverTargetingForAdSlot(a,b)}})))}function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.timeoutId,c=a.error,d=a.url;if(i&&i.enabled){if(c){c===q&&g.logWarn("WARNING: HeaderLift response timeout expired. Will continue with a cached response.");try{var e=g.getLocalStorageItem(d);e&&(k=JSON.parse(e),g.logInfo("Using cached version of HeaderLift service response"))}catch(a){}if(!k)return void g.logWarn("Cached version of HeaderLift response not available")}else{g.clearExpiredLocalStorageItems();try{g.setLocalStorageItem(d,JSON.stringify(k),r)}catch(a){}}b&&clearTimeout(b),h.setConfig(k)}}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}(a,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();b.init=function(a){var b=a.headerLiftConfig,c=a.templateName,d=a.selectedAds,e=a.idhb;if(j={},l={},!(i=b))return void g.logInfo("No configuration found for HeaderLift service");i.enabled&&(h=e,o=d,n=c.replace(/template/i,""),m=!(!i.tagId&&!i.dynamicTagId))},b.fetchData=function(){var a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).slots;if(!a||!Array.isArray(a))return g.logError("Invalid argument"),Promise.reject();if(!i||!i.enabled)return Promise.resolve();var b=a.filter(function(a){return void 0===j[a.id]&&void 0===l[a.id]});if(0===b.length)return Promise.resolve();var c=[];if(b.forEach(function(a){if(!(i.slots&&-1===i.slots.indexOf(a.id)||o&&-1===o.indexOf(a.id))){var b=s,d=n+"___"+a.id;b+="&dslot="+d,h.setAdserverTargetingForAdSlot(a.id,{tnl_asset_id:d,tnl_system:1}),i.dynamicTagId||(b+="&tid="+(i.tagId?i.tagId:a.dfpAdUnitCode)),i.urlParams&&i.urlParams.forEach(function(a){return b+="&"+a[0]+"="+a[1]});var e=fetch(b).then(g.checkHttpStatus).then(function(a){return a.json()}).then(function(b){j[a.id]=b});c.push(e),l[a.id]=e}}),0!==c.length){var e=Promise.all(c),f=void 0;if("number"==typeof i.timeout&&i.timeout>0){g.logInfo("HeaderLift: setting fetch timeout to "+i.timeout+"ms");var k=new Promise(function(a){f=setTimeout(a,i.timeout,{error:q})});e=Promise.race([e,k])}return new Promise(function(a){e.then(function(){return d({slotIds:b.map(function(a){return a.id}),timeoutId:f})}).catch(function(a){return g.logError("HeaderLift Response Error: "+JSON.stringify(a))}).finally(function(){return a()})})}},b.fetchPageConfig=function(){if(k=null,!i||!i.enabled)return Promise.resolve();var a=s;a+="&page_type="+n,a+="&page_width="+window.innerWidth,i.urlParams&&i.urlParams.forEach(function(b){return a+="&"+b[0]+"="+b[1]});var b=fetch(a).then(g.checkHttpStatus).then(function(a){return a.json()}).then(function(a){return k=a}),c=void 0;if("number"==typeof i.timeout&&i.timeout>0){g.logInfo("HeaderLift: setting fetch timeout to "+i.timeout+"ms");var d=new Promise(function(a){c=setTimeout(a,i.timeout,{error:q})});b=Promise.race([b,d])}return new Promise(function(d){b.then(function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=b.error;return e({timeoutId:c,error:d,url:a})}).catch(function(b){g.logError("HeaderLift service response error: "+JSON.stringify(b)),e({error:p,url:a})}).finally(function(){return d()})})},b.processData=d,b.processPageConfig=e;var g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(c(0)),h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=!1,n=void 0,o=void 0,p="error",q="timeout",r=2592e3,s="https://pub.tunnl.com/opphb?page_url="+g.getParentUrl()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.createHook=function(a,b,c){var g=[{fn:b,priority:0}],h={sync:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];g.forEach(function(b){b.fn.apply(a,c)})},asyncSeries:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var f=0;return g[f].fn.apply(this,c.concat(function b(){for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];var i=g[++f];if("object"===(void 0===i?"undefined":e(i))&&"function"==typeof i.fn)return i.fn.apply(a,d.concat(b))}))}};if(!h[a])throw new Error("invalid hook type");var i={addHook:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;"function"==typeof a&&(g.push({fn:a,priority:b}),g.sort(function(a,b){return b.priority-a.priority}))},removeHook:function(a){g=g.filter(function(c){return c.fn===b||c.fn!==a})},hasHook:function(a){return g.some(function(b){return b.fn===a})}};return"string"==typeof c&&(f[c]=i),d(function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return 1===g.length&&g[0].fn===b?b.apply(void 0,d):h[a].apply(null,d)},i)};var f=b.hooks={}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}(a,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(0),h=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a)}return f(a,[{key:"initAdSlots",value:function(a){var b=a.config,c=a.idhb;if(!b)throw new Error("DFP config is required");this.config=b,this.idhb=c}},{key:"bidsBackHandler",value:function(a){var b=this,c=(a.bids,a.slotIds),f=void 0===c?null:c,h=a.pbjs,i=a.prebidSlots,j=a.personalizedAds,k=a.callback,l=a.url;if("function"==typeof k){var m={};f.forEach(function(a){var c=h.getAdserverTargetingForAdUnitCode(a);b.config.video.slots[a].targeting&&b.config.video.slots[a].targeting.forEach(function(a){var b=e(a,2),d=b[0],f=b[1];return c[d]=f});var g=h.adServers.dfp.buildVideoUrl({adUnit:i[a],params:{iu:"/"+b.config.networkCode+"/"+b.config.video.slots[a].code,cust_params:d({},c,b.idhb.getAdserverTargetingForAdSlot(a)),description_url:l,npa:!1===j?1:0}});1===f.length?k(g):m[a]=g,h.markWinningBidAsUsed&&h.markWinningBidAsUsed({adUnitCode:a})}),f.length>1&&k(m),(0,g.debugMode)()&&this.idhb.showAllBids()}else(0,g.logError)("Callback not provided. Cannot return vastUrl.")}}]),a}();b.default=h},function(a,b,c){"use strict";function d(a){function b(){var b=function(){var b=[],c=void 0;do{try{c=c?c.parent:a;try{b.push({referrer:c.document.referrer||null,location:c.location.href||null,isTop:c==a.top})}catch(d){b.push({referrer:null,location:null,isTop:c==a.top}),(0,e.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(a){return b.push({referrer:null,location:null,isTop:!1}),b}}while(c!=a.top);return b}(),c=function(){try{if(!a.location.ancestorOrigins)return;return a.location.ancestorOrigins}catch(a){}}();if(c)for(var d=0,f=c.length;d<f;d++)b[d].ancestor=c[d];return b}return function(){try{var a=b(),c=a.length-1,d=null!==a[c].location||c>0&&null!==a[c-1].referrer,e=function(a){var b=[],c=null,d=null,e=null,f=null,g=null,h=null,i=void 0;for(i=a.length-1;i>=0;i--){try{d=a[i].location}catch(a){}if(d)c=encodeURIComponent(d),b.push(c),h||(h=c);else if(0!==i){e=a[i-1];try{f=e.referrer,g=e.ancestor}catch(a){}f?(c=encodeURIComponent(f),b.push(c),h||(h=c)):g?(c=encodeURIComponent(g),b.push(c),h||(h=c)):b.push(null)}else b.push(null)}return{stack:b,detectedRefererUrl:h}}(a);return{referer:e.detectedRefererUrl,reachedTop:d,numIframes:c,stack:e.stack}}catch(a){}}}Object.defineProperty(b,"__esModule",{value:!0}),b.getRefererInfo=void 0,b.detectReferer=d;var e=c(0);b.getRefererInfo=d(window)},function(a,b,c){"use strict";function d(a,b){try{return decodeURIComponent(a.join(""))}catch(a){}if(1===a.length)return a;b=b||1;var c=a.slice(0,b),e=a.slice(b);return Array.prototype.concat.call([],d(c),d(e))}function e(a){try{return decodeURIComponent(a)}catch(e){for(var b=a.match(f),c=1;c<b.length;c++)b=(a=d(b,c).join("")).match(f);return a}}var f=new RegExp("%[a-f0-9]{2}","gi"),g=new RegExp("(%[a-f0-9]{2})+","gi");a.exports=function(a){if("string"!=typeof a)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch(b){return function(a){for(var b={"%FE%FF":"��","%FF%FE":"��"},c=g.exec(a);c;){try{b[c[0]]=decodeURIComponent(c[0])}catch(a){var d=e(c[0]);d!==c[0]&&(b[c[0]]=d)}c=g.exec(a)}b["%C2"]="�";for(var f=Object.keys(b),h=0;h<f.length;h++){var i=f[h];a=a.replace(new RegExp(i,"g"),b[i])}return a}(a)}}},function(a,b,c){"use strict";var d=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;a.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}()?Object.assign:function(a,b){for(var c,g,h=function(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}(a),i=1;i<arguments.length;i++){for(var j in c=Object(arguments[i]))e.call(c,j)&&(h[j]=c[j]);if(d){g=d(c);for(var k=0;k<g.length;k++)f.call(c,g[k])&&(h[g[k]]=c[g[k]])}}return h}},function(a,b,c){"use strict";a.exports=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}(a,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(0),h=function(){function a(b){var c=this,d=b.idhb,e=b.initGpt;!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.gptSlotObjects={},this.idhb=d,this.initGpt=e,window.googletag=window.googletag||{},this.googletag=window.googletag,this.googletag.cmd=this.googletag.cmd||[],this.googletag.cmd.push(function(){c.googletag.pubads().disableInitialLoad()}),this.initGpt&&(0,g.loadScript)("www.googletagservices.com/tag/js/gpt.js"),this.sizeMappings={}}return f(a,[{key:"initAdSlots",value:function(a){var b=this,c=a.config,d=a.hbOptions,f=a.hbResultTracker;if(!c)throw new Error("DFP config is required");this.config=c,this.initGpt?this.googletag.cmd.push(function(){if(void 0!==c.gpt.sizeMappings)for(var a in c.gpt.sizeMappings)if(c.gpt.sizeMappings.hasOwnProperty(a)){b.sizeMappings[a]=b.googletag.sizeMapping();for(var g=c.gpt.sizeMappings[a],h=0,i=g.length;h<i;h++){var j=g[h];b.sizeMappings[a]=b.sizeMappings[a].addSize(j[0],j[1])}b.sizeMappings[a]=b.sizeMappings[a].build()}var k=[];Object.keys(c.gpt.slots).forEach(function(a){var f=e({},c.gpt.slots[a]);if(!d.selectedAds||d.selectedAds.indexOf(a)>=0||d.selectedAds.indexOf(f.code)>=0){var g=b.googletag.defineSlot("/"+c.networkCode+"/"+f.code,f.size,a);f.collapseEmptyDiv&&g.setCollapseEmptyDiv(!0,!0),void 0!==f.sizeMappingId&&g.defineSizeMapping(b.sizeMappings[f.sizeMappingId]),
g.addService(b.googletag.pubads()),b.gptSlotObjects[a]=g,k.push(g)}}),d.debug&&b.googletag.pubads().addEventListener("slotRenderEnded",function(a){var b=a.slot.getSlotElementId();console.log("Slot has been rendered: "+b),console.log(f),f.hasOwnProperty(b)||(f[b]="DFP"),console.log(b+" ad belongs to: "+f[b])});var l=[];void 0!==c.gpt.nonHbSlots&&Object.keys(c.gpt.nonHbSlots).forEach(function(a){var d=c.gpt.nonHbSlots[a],e=b.googletag.defineSlot("/"+c.networkCode+"/"+d.code,d.size,a).addService(b.googletag.pubads());d.collapseEmptyDiv&&e.setCollapseEmptyDiv(!0,!0),b.gptSlotObjects[a]=e,l.push(e)}),c.enableSingleRequest&&b.googletag.pubads().enableSingleRequest(),b.googletag.enableServices(),d.setTargeting(),k.concat(l).forEach(function(a){try{b.googletag.display(a.getSlotElementId())}catch(a){console.log(a)}})}):(0,g.logInfo)("DFP/GPT initialization is disabled")}},{key:"initGptAdSlot",value:function(){var a=this,b=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id;this.config&&this.initGpt?this.googletag.cmd.push(function(){var c=void 0;c=a.config.gpt.slots&&a.config.gpt.slots[b]?a.config.gpt.slots[b]:a.config.gpt.nonHbSlots[b];var d=a.googletag.defineSlot("/"+a.config.networkCode+"/"+c.code,c.size,b);c.collapseEmptyDiv&&d.setCollapseEmptyDiv(!0,!0),void 0!==c.sizeMappingId&&d.defineSizeMapping(a.sizeMappings[c.sizeMappingId]),d.addService(a.googletag.pubads()),a.googletag.display(b),a.gptSlotObjects[b]=d}):(0,g.logInfo)("DFP/GPT initialization is disabled")}},{key:"bidsBackHandler",value:function(a){var b=this,c=a.slotIds,d=a.nonHbSlotIds,e=a.pbjs,f=a.personalizedAds,h=a.callback,i=a.dfpRefresh;(0,g.logInfo)("Running bidsBackHandler() for slots "+JSON.stringify(c)),this.initGpt||"function"==typeof h||(0,g.logWarn)("GPT initialization is disabled but no callback is specified. This is probably a mistake."),this.googletag.cmd.push(function(){e.que.push(function(){var a=(c=c||[]).concat(d);b.setGptTargeting({slotIds:a}),e.setTargetingForGPTAsync(c),b.initGpt&&(!1===f?b.googletag.pubads().setRequestNonPersonalizedAds(1):b.googletag.pubads().setRequestNonPersonalizedAds(0),i&&b.refreshSlots({slotIds:a})),h&&h({slotIds:a})})})}},{key:"setGptTargeting",value:function(){var a=this,b=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).slotIds,c=void 0===b?[]:b;0!==c.length&&this.googletag.pubads().getSlots().forEach(function(b){var e=b.getSlotElementId();if(c.indexOf(e)>=0){a.config.gpt.slots[e]&&a.config.gpt.slots[e].targeting?a.config.gpt.slots[e].targeting.forEach(function(a){var c=d(a,2),e=c[0],f=c[1];return b.setTargeting(e,f)}):a.config.gpt.nonHbSlots[e]&&a.config.gpt.nonHbSlots[e].targeting&&a.config.gpt.nonHbSlots[e].targeting.forEach(function(a){var c=d(a,2),e=c[0],f=c[1];return b.setTargeting(e,f)});var f=a.idhb.getAdserverTargetingForAdSlot(e);Object.keys(f).forEach(function(a){return b.setTargeting(a,f[a])})}})}},{key:"refreshSlots",value:function(){var a=this,b=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).slotIds,c=void 0===b?[]:b;0!==c.length&&((0,g.logInfo)("Refreshing slots "+JSON.stringify(c)),this.googletag.cmd.push(function(){a.googletag.pubads().refresh(c.map(function(b){return a.gptSlotObjects[b]}))}))}}]),a}();b.default=h},function(a,b){!function(a){"use strict";function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return n.iterable&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function g(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader,c=g(b);return b.readAsArrayBuffer(a),c}function i(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a)if("string"==typeof a)this._bodyText=a;else if(n.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(n.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(n.arrayBuffer&&n.blob&&p(a))this._bodyArrayBuffer=i(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!n.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a)&&!q(a))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=i(a)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var a,b,c,d=f(this);if(d)return d;if(this._bodyBlob)return a=this._bodyBlob,b=new FileReader,c=g(b),b.readAsText(a),c;if(this._bodyArrayBuffer)return Promise.resolve(function(a){for(var b=new Uint8Array(a),c=new Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(a,b){var c,d,f=(b=b||{}).body;if(a instanceof k){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,f||null==a._bodyInit||(f=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=(c=b.method||this.method||"GET",d=c.toUpperCase(),r.indexOf(d)>-1?d:c),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&f)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(f)}function l(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function m(a,b){b||(b={}),this.type="default",this.status=void 0===b.status?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new e(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){var n={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(n.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=function(a){return a&&DataView.prototype.isPrototypeOf(a)},q=ArrayBuffer.isView||function(a){return a&&o.indexOf(Object.prototype.toString.call(a))>-1};e.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];this.map[a]=e?e+","+d:d},e.prototype.delete=function(a){delete this.map[b(a)]},e.prototype.get=function(a){return a=b(a),this.has(a)?this.map[a]:null},e.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},e.prototype.set=function(a,d){this.map[b(a)]=c(d)},e.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),d(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),d(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),d(a)},n.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},j.call(k.prototype),j.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},m.error=function(){var a=new m(null,{status:0,statusText:""});return a.type="error",a};var s=[301,302,303,307,308];m.redirect=function(a,b){if(-1===s.indexOf(b))throw new RangeError("Invalid status code");return new m(null,{status:b,headers:{location:a}})},a.Headers=e,a.Request=k,a.Response=m,a.fetch=function(a,b){return new Promise(function(c,d){var f=new k(a,b),g=new XMLHttpRequest;g.onload=function(){var a,b,d={status:g.status,statusText:g.statusText,headers:(a=g.getAllResponseHeaders()||"",b=new e,a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b)};d.url="responseURL"in g?g.responseURL:d.headers.get("X-Request-URL");var f="response"in g?g.response:g.responseText;c(new m(f,d))},g.onerror=function(){d(new TypeError("Network request failed"))},g.ontimeout=function(){d(new TypeError("Network request failed"))},g.open(f.method,f.url,!0),"include"===f.credentials?g.withCredentials=!0:"omit"===f.credentials&&(g.withCredentials=!1),"responseType"in g&&n.blob&&(g.responseType="blob"),f.headers.forEach(function(a,b){g.setRequestHeader(b,a)}),g.send(void 0===f._bodyInit?null:f._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(j===setTimeout)return setTimeout(a,0);if((j===c||!j)&&setTimeout)return j=setTimeout,setTimeout(a,0);try{return j(a,0)}catch(b){try{return j.call(null,a,0)}catch(b){return j.call(this,a,0)}}}function f(){o&&m&&(o=!1,m.length?n=m.concat(n):p=-1,n.length&&g())}function g(){if(!o){var a=e(f);o=!0;for(var b=n.length;b;){for(m=n,n=[];++p<b;)m&&m[p].run();p=-1,b=n.length}m=null,o=!1,function(a){if(k===clearTimeout)return clearTimeout(a);if((k===d||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(a);try{k(a)}catch(b){try{return k.call(null,a)}catch(b){return k.call(this,a)}}}(a)}}function h(a,b){this.fun=a,this.array=b}function i(){}var j,k,l=a.exports={};!function(){try{j="function"==typeof setTimeout?setTimeout:c}catch(a){j=c}try{k="function"==typeof clearTimeout?clearTimeout:d}catch(a){k=d}}();var m,n=[],o=!1,p=-1;l.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];n.push(new h(a,b)),1!==n.length||o||e(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.prependListener=i,l.prependOnceListener=i,l.listeners=function(a){return[]},l.binding=function(a){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(a){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(a,b,c){(function(a,b){!function(a,c){"use strict";function d(a){delete l[a]}function e(a){if(m)setTimeout(e,0,a);else{var b=l[a];if(b){m=!0;try{!function(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}(b)}finally{d(a),m=!1}}}}if(!a.setImmediate){var f,g,h,i,j,k=1,l={},m=!1,n=a.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(a);o=o&&o.setTimeout?o:a,"[object process]"==={}.toString.call(a.process)?f=function(a){b.nextTick(function(){e(a)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}()?(i="setImmediate$"+Math.random()+"$",j=function(b){b.source===a&&"string"==typeof b.data&&0===b.data.indexOf(i)&&e(+b.data.slice(i.length))},a.addEventListener?a.addEventListener("message",j,!1):a.attachEvent("onmessage",j),f=function(b){a.postMessage(i+b,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(a){e(a.data)},f=function(a){h.port2.postMessage(a)}):n&&"onreadystatechange"in n.createElement("script")?(g=n.documentElement,f=function(a){var b=n.createElement("script");b.onreadystatechange=function(){e(a),b.onreadystatechange=null,g.removeChild(b),b=null},g.appendChild(b)}):f=function(a){setTimeout(e,0,a)},o.setImmediate=function(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return l[k]=d,f(k),k++},o.clearImmediate=d}}("undefined"==typeof self?void 0===a?this:a:self)}).call(this,c(2),c(17))},function(a,b,c){(function(a){function d(a,b){this._id=a,this._clearFn=b}var e=void 0!==a&&a||"undefined"!=typeof self&&self||window,f=Function.prototype.apply;b.setTimeout=function(){return new d(f.call(setTimeout,e,arguments),clearTimeout)},b.setInterval=function(){return new d(f.call(setInterval,e,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a&&a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(e,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c(18),b.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==a&&a.setImmediate||this&&this.setImmediate,b.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==a&&a.clearImmediate||this&&this.clearImmediate}).call(this,c(2))},function(a,b,c){"use strict";c.r(b),function(a){var b=c(4),d=c(1),e=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==a)return a;throw new Error("unable to locate global object")}();"Promise"in e?e.Promise.prototype.finally||(e.Promise.prototype.finally=d.a):e.Promise=b.a}.call(this,c(2))},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(){A.dfp&&(D&&(A.dfp.networkCode=D),B||C||(A.dfp.gpt&&(B=new o.default({idhb:S,initGpt:void 0===A.hbw.initGpt||A.hbw.initGpt})),A.dfp.video&&(C=new p.default)),E=n({},A.dfp.gpt&&A.dfp.gpt.slots,A.dfp.video&&A.dfp.video.slots),F=n({},A.dfp.gpt&&A.dfp.gpt.nonHbSlots),G=n({},E,F))}function g(){A.hbw.slots&&Object.keys(A.hbw.slots).forEach(function(a){var b=A.hbw.slots[a];if(b.sticky){s.logInfo("Initializing sticky slot '"+a+"'");var c=b.sticky,d=document.getElementById(a);if(!c._containerCreated){c._containerCreated=!0,c.containerOffsetTop=c.containerOffsetTop||0,c.containerOffsetBottom=c.containerOffsetBottom||0,c.windowOffsetTop=c.windowOffsetTop||0,c.sidePadding=c.sidePadding||0;var e=document.createElement("div");e.id=a+"-sticky-container",c.side?e.style.position="absolute":e.style.position="relative",c.containerOffsetTop&&(e.style.top=c.containerOffsetTop+"px"),d.parentNode.replaceChild(e,d),e.appendChild(d);var f=e.parentElement;f.style.position="relative",c.side||(f=f.parentElement),c.side&&("right"===c.side?(e.style.left="100%",d.style.paddingLeft=c.sidePadding+"px"):"left"===c.side&&(e.style.right="100%",d.style.paddingRight=c.sidePadding+"px",d.style.transform="translate(-100%, 0)")),window.addEventListener("scroll",function(){s.getAbsoluteBoundingRect(f).bottom<=window.scrollY+s.getAbsoluteBoundingRect(d).height+c.windowOffsetTop+c.containerOffsetBottom?(d.style.position="absolute",d.style.top=s.getAbsoluteBoundingRect(f).bottom-s.getAbsoluteBoundingRect(e).top-s.getAbsoluteBoundingRect(d).height-c.containerOffsetBottom+"px"):e.getBoundingClientRect().top<=c.windowOffsetTop?(d.style.position="fixed",d.style.top=c.windowOffsetTop+"px"):e.getBoundingClientRect().top>c.windowOffsetTop&&(d.style.position="absolute",d.style.top="0px")},{passive:!0}),d.style.position="absolute",d.style.top="0px"}}})}function h(){A._url=A._url||s.getParentUrl(),S.setAdserverTargeting({hbw_url:decodeURIComponent(A._url).replace("https://","").replace("http://","")}),void 0!==A.prebid.config.currency&&(A.prebid.config.currency.rates=v.default);var a=Object.keys(A.prebid.slots).map(function(a){var b=A.prebid.slots[a];return b.code=a,b}).filter(function(a){return!V.selectedAds||-1!==V.selectedAds.indexOf(a.code)});s.log("Prebid ad units: ",a),"loading"===document.readyState?window.addEventListener("load",function(){return g()}):g(),aa({config:A.dfp,hbOptions:V,hbResultTracker:I,idhb:S}),T.que.push(function(){if(A.prebid.bidderAliases&&A.prebid.bidderAliases.forEach(function(a){return T.aliasBidder(a[0],a[1])}),T.addAdUnits(a),T.setConfig(n(A.prebid.config,{debug:s.debugMode()})),void 0!==A.prebid.analytics&&A.prebid.analytics.forEach(function(a){return T.enableAnalytics(a)}),window.rivraddon){var b=a.map(function(a){return a.code});T.enableAnalytics({provider:"rivr",options:{clientID:x,authToken:y,siteCategories:z,bannersIds:b}}),s.log("rivr analytics enabled for prebid")}s.debugMode()&&T.onEvent("bidWon",function(a){s.log("bidWon for slot: "+a.adUnitCode+" ("+a.width+"x"+a.height+") by bidder: "+a.bidderCode+" ecpm: "+a.cpm),I[a.adUnitCode]=a.bidderCode})}),function(){if(A.userSync){var a=void 0===A.userSync.syncDelay?3e3:A.userSync.syncDelay;if(a>0)return setTimeout(function(){return s.fireSyncs(A.userSync)},a);s.fireSyncs(A.userSync)}}()}function i(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.slotIds,c=a.callback,d=a.dfpRefresh,e=void 0===d||d,g=a.initLazySlots,j=void 0===g||g;H.then(function(){if(!J&&(f(),Z&&!$)){var a=Object.keys(A.prebid.slots).concat(Object.keys(F));H=Promise.all([H,t.fetchData({slots:a.map(function(a){return{id:a,dfpAdUnitCode:G[a]&&G[a].code}})})])}}),Promise.all([H,Y]).then(function(){if(s.logInfo("requestBids()",b),!(A.dfp||A.prebid&&A.prebid.slots))return c&&c({error:"Missing configuration"}),void s.logError("No Ad Manager configuration found");J||(h(),A.hbw.refreshRate&&A.hbw.refreshRate>0&&window.setInterval(function(){i({slotIds:b,callback:c,dfpRefresh:e})},A.hbw.refreshRate),J=!0);var a=void 0,d=[];if(b?Object.keys(F).length>0?(a=b.filter(function(a){return!F[a]}),d=b.filter(function(a){return F[a]})):a=b:(a=Object.keys(E)||Object.keys(A.prebid.slots),Object.keys(F).length>0&&(d=Object.keys(F))),j&&(a.concat(d).forEach(function(a){k(a)&&function(a){if(!O[a]){s.logInfo("Running lazyLoadAd() for slot '"+a+"'");var b=new IntersectionObserver(function(b,c){b.forEach(function(b){b.isIntersecting&&(c.unobserve(document.getElementById(a)),M.push(a),N||(setTimeout(function(){if(0!=M.length){for(var a=[];M.length>0;)a.push(M.pop());s.logInfo("Loading ads for lazy slots: '"+a+"'"),i({slotIds:a,initLazySlots:!1}),N=!1,a.forEach(function(a){return O[a]=!1})}},100),N=!0))})},{root:null,rootMargin:"0px",threshold:L});"loading"===document.readyState?window.addEventListener("load",function(){return b.observe(document.getElementById(a))}):b.observe(document.getElementById(a)),O[a]=!0}}(a)}),a=a.filter(function(a){return!k(a)}),d=d.filter(function(a){return!k(a)})),0!==a.length){var f={bidsBackHandler:function(b){_({bids:b,dfpGpt:B,dfpInstreamVideo:C,slotIds:a,nonHbSlotIds:d,pbjs:T,prebidSlots:A.prebid.slots,personalizedAds:V.personalizedAds,callback:c,dfpRefresh:e,url:A._url})},timeout:A.prebid.timeout};f.adUnitCodes=a,T.que.push(function(){T.requestBids(f)})}else B.bidsBackHandler({slotIds:[],nonHbSlotIds:d,pbjs:T,personalizedAds:V.personalizedAds,callback:c,dfpRefresh:e})})}function j(a){var b=A.prebid.slots[a];if(b){if(b.mediaTypes)return!(!b.mediaTypes.video||"instream"!==b.mediaTypes.video.context);s.logError("'mediaTypes' config not found for slot "+a)}else s.logError("Slot '"+a+"' not found")}function k(a){return A.hbw.slots&&A.hbw.slots[a]&&A.hbw.slots[a].lazy}function l(){if(!0!==da){for(da=!0;ca<S.que.length;)S.que[ca](),ca++;da=!1}}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c(20),c(16);var o=e(c(15)),p=e(c(10)),q=c(9),r=e(c(3)),s=d(c(0)),t=d(c(8)),u=e(c(7)),v=e(c(6));c(5);var w="hb.improvedigital.com/pbw/prebid",x="azerion",y="YXplcmlvbjpnZSU5QC1aNTV1YUohTlcl",z=["game"],A={},B=null,C=null,D=void 0,E={},F={},G={},H=Promise.resolve(),I={},J=!1,K=void 0,L=.3,M=[],N=!1,O={},P=u.default;P.id=P.id||"";var Q="idhb"+P.id,R="pbjs"+P.id;s.debugMode({on:P.debug,wrapperId:Q}),window[Q]=window[Q]||{};var S=window[Q];S.que=S.que||[],S.modules=S.modules||{},window[R]=window[R]||{};var T=window[R];T.que=T.que||[];var U=document.getElementById(Q);U&&(K=r.default.parseUrl(U.src).query),K&&void 0!==K.debug&&s.debugSession({on:!0,wrapperId:Q}),K&&K.npa&&S.allowPersonalizedAds("1"!==K.npa),K&&K.dfp&&(D=K.dfp);var V=n({template:"default",personalizedAds:!0,setTargeting:function(){}},window["HB_OPTIONS"+P.id]||{});if(K&&K.t&&(V.template=K.t),s.log("HB_OPTIONS: ",V),P.templates){var W=P.templates[V.template];if(void 0===W)throw new Error("Configuration not found for template '"+V.template+"'");delete(A=s.mergeDeep(P,W)).templates}else A=P;A._targeting={},s.log("%c %c %c Improve Digital Prebid Wrapper Debug Mode %c %c %c","background: #E57373","background: #EF5350","color: #fff; background: #E53935","background: #EF5350","background: #E57373","background: #ffffff");var X="";"string"==typeof A.hbw.prebidVersion?(X=A.hbw.prebidVersion.search("/")>=0?"":w+"/",X+=A.hbw.prebidVersion):X=w+"/prebid.min.js",s.loadScript(X);var Y="www.bgames.com"===window.location.hostname?function(){if(window.rivraddon)return Promise.resolve();var a=void 0,b=s.loadScriptPromise("//ocean.rivrai.com/rivraddon.js");b.then(function(){a&&clearTimeout(a),s.log("rivraddon is loaded")});var c=new Promise(function(b){a=setTimeout(function(){b(),s.log("rivraddon timed out")},1e3,{error:"timeout"})});return b=Promise.race([b,c]),new Promise(function(a){b.catch(function(a){s.logError("Rivr Load Error: "+JSON.stringify(a))}).finally(function(){return a()})})}():Promise.resolve(),Z=!(!A.headerLift||!A.headerLift.enabled),$=!(!Z||!A.headerLift.pageConfig);f(),t.init({headerLiftConfig:A.headerLift||{},templateName:V.template,selectedAds:V.selectedAds,idhb:S}),$&&(H=t.fetchPageConfig());var _=(0,q.createHook)("asyncSeries",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.bids,c=a.dfpGpt,d=a.dfpInstreamVideo,e=a.slotIds,f=a.nonHbSlotIds,g=a.pbjs,h=a.prebidSlots,i=a.personalizedAds,k=a.callback,l=a.dfpRefresh,m=a.url;if(s.logInfo("bidsBackHandler()"),I={},d){var n=e.filter(function(a){return j(a)});n.length>0&&d.bidsBackHandler({bids:b,slotIds:n,pbjs:g,prebidSlots:h,personalizedAds:i,callback:k,url:m})}if(c){var o=e.filter(function(a){return!j(a)});o.length>0&&c.bidsBackHandler({bids:b,slotIds:o,nonHbSlotIds:f,pbjs:g,personalizedAds:i,callback:k,dfpRefresh:l})}}),aa=(0,q.createHook)("asyncSeries",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.logInfo("initAdServer()"),B&&B.initAdSlots(a),C&&C.initAdSlots(a)});if(S.setAdserverTargetingForAdSlot=function(a,b){"string"==typeof a?s.isObject(b)?(A._targeting[a]=A._targeting[a]||{},n(A._targeting[a],b)):s.logError("'keyValuesObj' argument must be an object"):s.logError("Invalid slotId '"+a+"'")},S.setAdserverTargeting=function(a){return S.setAdserverTargetingForAdSlot("",a)},S.getAdserverTargetingForAdSlot=function(a){return n({},A._targeting[""],A._targeting[a])},S.setAdserverTargeting({hbw_pbjs:R}),S.setDfpAdUnitCodeForAdSlot=function(a,b){"string"!=typeof a||""!==a&&!G[a]?s.logError("Invalid slotId '"+a+"'"):"string"==typeof b&&0!==b.length?(A.dfp.gpt&&(Object.keys(A.dfp.gpt.slots).forEach(function(c){""!==a&&c!==a||(A.dfp.gpt.slots[c].code=b,s.logInfo("DFP ad unit code for slot '"+c+"' set to '"+b+"'"))}),A.dfp.gpt.nonHbSlots&&Object.keys(A.dfp.gpt.nonHbSlots).forEach(function(c){""!==a&&c!==a||(A.dfp.gpt.nonHbSlots[c].code=b,s.logInfo("DFP ad unit code for slot '"+c+"' set to '"+b+"'"))})),A.dfp.video&&Object.keys(A.dfp.video.slots).forEach(function(c){""!==a&&c!==a||(A.dfp.video.slots[c].code=b,s.logInfo("DFP ad unit code for slot '"+c+"' set to '"+b+"'"))})):s.logError("Invalid adUnitCode '"+b+"'")},S.setDfpAdUnitCode=function(a){return S.setDfpAdUnitCodeForAdSlot("",a)},S.setRefererUrl=function(a){"string"==typeof a&&a.length>0?(s.logInfo("Setting referer to "+a),A._url=a):s.logWarn("Invalid referrer: "+a)},S.allowPersonalizedAds=function(a){"boolean"==typeof a?V.personalizedAds=a:s.logWarn("allowPersonalizedAds(): true/false argument expected")},S.setDefaultGdprConsentString=function(a){A.prebid.config.consentManagement?s.iabCmpExists()?s.logInfo("CMP found. Ignoring default consent string"):(s.logInfo("CMP not found. Using consent string: "+a),S.setStaticGdprConsentString(a)):s.logWarn("Prebid consent management module not configured")},S.setStaticGdprConsentString=function(a){A.prebid.config.consentManagement?(A.prebid.config.consentManagement.cmpApi="static",A.prebid.config.consentManagement.consentData={getConsentData:{gdprApplies:!0,hasGlobalScope:!1,consentData:a},getVendorConsents:{gdprApplies:!0,metadata:a}}):s.logWarn("Prebid consent management module not configured")},S.duplicateAdSlot=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.sourceId,c=a.newId;if(A.prebid.slots[b])if(A.prebid.slots[c])s.logError("Slot with ID '"+c+"' already exists");else{A.prebid.slots[c]=s.mergeDeep({},A.prebid.slots[b]),A.prebid.slots[c].code=c;var d=void 0;A.dfp.gpt&&A.dfp.gpt.slots?A.dfp.gpt.slots[b]?(A.dfp.gpt.slots[c]=s.mergeDeep({},A.dfp.gpt.slots[b]),d=A.dfp.gpt.slots[b].code,E=n(E,A.dfp.gpt.slots[c]),B.initGptAdSlot({id:c})):A.dfp.gpt.nonHbSlots&&A.dfp.gpt.nonHbSlots[b]&&(A.dfp.gpt.nonHbSlots[c]=s.mergeDeep({},A.dfp.gpt.nonHbSlots[b]),d=A.dfp.gpt.nonHbSlots[b].code,F=n(F,A.dfp.gpt.nonHbSlots[c]),B.initGptAdSlot({id:c})):A.dfp.video&&A.dfp.video.slots&&A.dfp.video.slots[b]&&(A.dfp.video.slots[c]=s.mergeDeep({},A.dfp.video.slots[b]),d=A.dfp.video.slots[b].code,E=n(E,A.dfp.video.slots[c])),G=n({},E,F),Z&&!$&&(H=Promise.all([H,t.fetchData({slots:[{id:c,dfpAdUnitCode:d}]})])).then(function(){J&&T.que.push(function(){return T.addAdUnits(A.prebid.slots[c])})})}else s.logError("Unknown slot ID '"+b+"'")},S.que.push(function(){A.hbw.disableInitialAdLoading||i()}),S.requestAds=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.slotIds,c=a.callback,d=a.dfpRefresh;i({slotIds:b,callback:c,dfpRefresh:void 0===d||d})},S.showAllBids=function(){var a=T.getBidResponses(),b=T.getAllWinningBids(),c=[];if(Object.keys(a).forEach(function(d){a[d].bids.forEach(function(a){c.push({bid:a,adunit:d,adId:a.adId,bidder:a.bidder,time:a.timeToRespond,cpm:a.cpm,msg:a.statusMessage,rendered:!!b.find(function(b){return b.adId===a.adId})})})}),c.length)if(console.table)console.table(c);else for(var d=0;d<c.length;d++)console.log(c[d]);else{var e="No bids from HB bidders";console.table?console.table([{msg:e}]):console.warn(e)}},S.showAllWinningBids=function(){for(var a=T.getHighestCpmBids(),b=[],c=0;c<a.length;c++){var d=a[c];b.push({adunit:d.adUnitCode,adId:d.adId,bidder:d.bidder,time:d.timeToRespond,cpm:d.cpm})}if(b.length)if(console.table)console.table(b);else for(var e=0;e<b.length;e++)console.log(b[e]);else console.warn("No prebid winners")},S.debug=function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return s.debugSession({on:a,wrapperId:Q})},S.getConfig=function(){return A},S.setConfig=function(a){"object"===(void 0===a?"undefined":m(a))?(A=s.mergeDeep(A,a)).dfp&&A.dfp.gpt&&A.dfp.gpt.slots&&(A.dfp.gpt.nonHbSlots=A.dfp.gpt.nonHbSlots||{},A.prebid&&A.prebid.slots?Object.keys(A.dfp.gpt.slots).forEach(function(a){A.prebid.slots[a]||(A.dfp.gpt.nonHbSlots[a]=A.dfp.gpt.slots[a],delete A.dfp.gpt.slots[a])}):(n(A.dfp.gpt.nonHbSlots,A.dfp.gpt.slots),A.dfp.gpt.slots={})):s.logError("Invalid argument "+a+". Expecting an object")},S.setAdSlotBidderParams=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.slotId,c=a.bidder,d=a.params;"string"==typeof b&&A.prebid.slots[b]?"object"===(void 0===d?"undefined":m(d))?"string"==typeof c?A.prebid.slots[b].bids.forEach(function(a){a.bidder===c&&(a.params=a.params||{},a.params=s.mergeDeep(a.params,d))}):s.logError("Invalid bidder '"+c):s.logError('"params" must be an object'):s.logError("Invalid slotId '"+b+"'")},Z&&!$){var ba=Object.keys(A.prebid.slots).concat(Object.keys(F));H=t.fetchData({slots:ba.map(function(a){return{id:a,dfpAdUnitCode:G[a]&&G[a].code}})})}var ca=0,da=!1;S.que.push=function(a){Array.prototype.push.call(S.que,a),l()},l()},function(a,b,c){a.exports=c(21)}]);